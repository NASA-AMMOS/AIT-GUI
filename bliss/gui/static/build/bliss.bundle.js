!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}var o=i(1),s=r(o),a=i(6),l=n(a),c=i(207);r(c);i(220),window.bliss=l,window.m=s.default,l.gui.init()},function(t,e,i){(function(t,e,i){!function(){"use strict";function n(t,e,i,n,r,o){return{tag:t,key:e,attrs:i,children:n,text:r,dom:o,domSize:void 0,state:void 0,_state:void 0,events:void 0,instance:void 0,skip:!1}}function r(t){for(var e,i="div",n=[],r={};e=l.exec(t);){var o=e[1],s=e[2];if(""===o&&""!==s)i=s;else if("#"===o)r.id=s;else if("."===o)n.push(s);else if("["===e[3][0]){var a=e[6];a&&(a=a.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===e[4]?n.push(a):r[e[4]]=a||!0}}return n.length>0&&(r.className=n.join(" ")),c[t]={tag:i,attrs:r}}function o(t,e,i){var r,o,s=!1,a=e.className||e.class;for(var l in t.attrs)h.call(t.attrs,l)&&(e[l]=t.attrs[l]);void 0!==a&&(void 0!==e.class&&(e.class=void 0,e.className=a),null!=t.attrs.className&&(e.className=t.attrs.className+" "+a));for(var l in e)if(h.call(e,l)&&"key"!==l){s=!0;break}return Array.isArray(i)&&1===i.length&&null!=i[0]&&"#"===i[0].tag?o=i[0].children:r=i,n(t.tag,e.key,s?e:void 0,r,o)}function s(t){var e,i=arguments[1],s=2;if(null==t||"string"!=typeof t&&"function"!=typeof t&&"function"!=typeof t.view)throw Error("The selector must be either a string or a component.");if("string"==typeof t)var a=c[t]||r(t);if(null==i?i={}:("object"!=typeof i||null!=i.tag||Array.isArray(i))&&(i={},s=1),arguments.length===s+1)e=arguments[s],Array.isArray(e)||(e=[e]);else for(e=[];s<arguments.length;)e.push(arguments[s++]);var l=n.normalizeChildren(e);return"string"==typeof t?o(a,i,l):n(t,i.key,i,l)}function a(t){var e=16,i=0,n=null,r="function"==typeof requestAnimationFrame?requestAnimationFrame:setTimeout;return function(){var o=Date.now();0===i||o-i>=e?(i=o,t()):null===n&&(n=r(function(){n=null,t(),i=Date.now()},e-(o-i)))}}n.normalize=function(t){return Array.isArray(t)?n("[",void 0,void 0,n.normalizeChildren(t),void 0,void 0):null!=t&&"object"!=typeof t?n("#",void 0,void 0,t===!1?"":t,void 0,void 0):t},n.normalizeChildren=function(t){for(var e=0;e<t.length;e++)t[e]=n.normalize(t[e]);return t};var l=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,c={},h={}.hasOwnProperty;s.trust=function(t){return null==t&&(t=""),n("<",void 0,void 0,t,void 0,void 0)},s.fragment=function(t,e){return n("[",t.key,t,n.normalizeChildren(e),void 0,void 0)};var u=s,d=function(e){function i(t,e){return function i(a){var u;try{if(!e||null==a||"object"!=typeof a&&"function"!=typeof a||"function"!=typeof(u=a.then))h(function(){e||0!==t.length||console.error("Possible unhandled promise rejection:",a);for(var n=0;n<t.length;n++)t[n](a);o.length=0,s.length=0,c.state=e,c.retry=function(){i(a)}});else{if(a===r)throw new TypeError("Promise can't be resolved w/ itself");n(u.bind(a))}}catch(t){l(t)}}}function n(t){function e(t){return function(e){i++>0||t(e)}}var i=0,n=e(l);try{t(e(a),n)}catch(t){n(t)}}if(!(this instanceof d))throw new Error("Promise must be called with `new`");if("function"!=typeof e)throw new TypeError("executor must be a function");var r=this,o=[],s=[],a=i(o,!0),l=i(s,!1),c=r._instance={resolvers:o,rejectors:s},h="function"==typeof t?t:setTimeout;n(e)};if(d.prototype.then=function(t,e){function i(t,e,i,o){e.push(function(e){if("function"!=typeof t)i(e);else try{n(t(e))}catch(t){r&&r(t)}}),"function"==typeof s.retry&&o===s.state&&s.retry()}var n,r,o=this,s=o._instance,a=new d(function(t,e){n=t,r=e});return i(t,s.resolvers,n,!0),i(e,s.rejectors,r,!1),a},d.prototype.catch=function(t){return this.then(null,t)},d.resolve=function(t){return t instanceof d?t:new d(function(e){e(t)})},d.reject=function(t){return new d(function(e,i){i(t)})},d.all=function(t){return new d(function(e,i){var n=t.length,r=0,o=[];if(0===t.length)e([]);else for(var s=0;s<t.length;s++)!function(s){function a(t){r++,o[s]=t,r===n&&e(o)}null==t[s]||"object"!=typeof t[s]&&"function"!=typeof t[s]||"function"!=typeof t[s].then?a(t[s]):t[s].then(a,i)}(s)})},d.race=function(t){return new d(function(e,i){for(var n=0;n<t.length;n++)t[n].then(e,i)})},"undefined"!=typeof window){"undefined"==typeof window.Promise&&(window.Promise=d);var d=window.Promise}else if("undefined"!=typeof e){"undefined"==typeof e.Promise&&(e.Promise=d);var d=e.Promise}var f=function(t){function e(t,n){if(Array.isArray(n))for(var r=0;r<n.length;r++)e(t+"["+r+"]",n[r]);else if("[object Object]"===Object.prototype.toString.call(n))for(var r in n)e(t+"["+r+"]",n[r]);else i.push(encodeURIComponent(t)+(null!=n&&""!==n?"="+encodeURIComponent(n):""))}if("[object Object]"!==Object.prototype.toString.call(t))return"";var i=[];for(var n in t)e(n,t[n]);return i.join("&")},p=new RegExp("^file://","i"),g=function(t,e){function i(t){d=t}function n(){function t(){0===--e&&"function"==typeof d&&d()}var e=0;return function i(n){var r=n.then;return n.then=function(){e++;var o=r.apply(n,arguments);return o.then(t,function(i){if(t(),0===e)throw i}),i(o)},n}}function r(t,e){if("string"==typeof t){var i=t;t=e||{},null==t.url&&(t.url=i)}return t}function o(i,o){var s=n();i=r(i,o);var d=new e(function(e,n){null==i.method&&(i.method="GET"),i.method=i.method.toUpperCase();var r="GET"!==i.method&&"TRACE"!==i.method&&("boolean"!=typeof i.useBody||i.useBody);"function"!=typeof i.serialize&&(i.serialize="undefined"!=typeof FormData&&i.data instanceof FormData?function(t){return t}:JSON.stringify),"function"!=typeof i.deserialize&&(i.deserialize=c),"function"!=typeof i.extract&&(i.extract=h),i.url=a(i.url,i.data),r?i.data=i.serialize(i.data):i.url=l(i.url,i.data);var o=new t.XMLHttpRequest,s=!1,d=o.abort;o.abort=function(){s=!0,d.call(o)},o.open(i.method,i.url,"boolean"!=typeof i.async||i.async,"string"==typeof i.user?i.user:void 0,"string"==typeof i.password?i.password:void 0),i.serialize===JSON.stringify&&r&&o.setRequestHeader("Content-Type","application/json; charset=utf-8"),i.deserialize===c&&o.setRequestHeader("Accept","application/json, text/*"),i.withCredentials&&(o.withCredentials=i.withCredentials);for(var f in i.headers)({}).hasOwnProperty.call(i.headers,f)&&o.setRequestHeader(f,i.headers[f]);"function"==typeof i.config&&(o=i.config(o,i)||o),o.onreadystatechange=function(){if(!s&&4===o.readyState)try{var t=i.extract!==h?i.extract(o,i):i.deserialize(i.extract(o,i));if(o.status>=200&&o.status<300||304===o.status||p.test(i.url))e(u(i.type,t));else{var r=new Error(o.responseText);for(var a in t)r[a]=t[a];n(r)}}catch(t){n(t)}},r&&null!=i.data?o.send(i.data):o.send()});return i.background===!0?d:s(d)}function s(i,o){var s=n();i=r(i,o);var c=new e(function(e,n){var r=i.callbackName||"_mithril_"+Math.round(1e16*Math.random())+"_"+g++,o=t.document.createElement("script");t[r]=function(n){o.parentNode.removeChild(o),e(u(i.type,n)),delete t[r]},o.onerror=function(){o.parentNode.removeChild(o),n(new Error("JSONP request failed")),delete t[r]},null==i.data&&(i.data={}),i.url=a(i.url,i.data),i.data[i.callbackKey||"callback"]=r,o.src=l(i.url,i.data),t.document.documentElement.appendChild(o)});return i.background===!0?c:s(c)}function a(t,e){if(null==e)return t;for(var i=t.match(/:[^\/]+/gi)||[],n=0;n<i.length;n++){var r=i[n].slice(1);null!=e[r]&&(t=t.replace(i[n],e[r]))}return t}function l(t,e){var i=f(e);if(""!==i){var n=t.indexOf("?")<0?"?":"&";t+=n+i}return t}function c(t){try{return""!==t?JSON.parse(t):null}catch(e){throw new Error(t)}}function h(t){return t.responseText}function u(t,e){if("function"==typeof t){if(!Array.isArray(e))return new t(e);for(var i=0;i<e.length;i++)e[i]=new t(e[i])}return e}var d,g=0;return{request:o,jsonp:s,setCompletionCallback:i}},m=g(window,d),v=function(t){function e(t){return $=t}function i(t,e,i,n,o,s,a){for(var l=i;l<n;l++){var c=e[l];null!=c&&r(t,c,o,a,s)}}function r(t,e,i,n,r){var c=e.tag;if("string"!=typeof c)return h(t,e,i,n,r);switch(e.state={},null!=e.attrs&&B(e.attrs,e,i),c){case"#":return o(t,e,r);case"<":return s(t,e,r);case"[":return a(t,e,i,n,r);default:return l(t,e,i,n,r)}}function o(t,e,i){return e.dom=G.createTextNode(e.children),k(t,e.dom,i),e.dom}function s(t,e,i){var n=e.children.match(/^\s*?<(\w+)/im)||[],r={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"}[n[1]]||"div",o=G.createElement(r);o.innerHTML=e.children,e.dom=o.firstChild,e.domSize=o.childNodes.length;for(var s,a=G.createDocumentFragment();s=o.firstChild;)a.appendChild(s);return k(t,a,i),a}function a(t,e,n,r,o){var s=G.createDocumentFragment();if(null!=e.children){var a=e.children;i(s,a,0,a.length,n,null,r)}return e.dom=s.firstChild,e.domSize=s.childNodes.length,k(t,s,o),s}function l(t,e,r,o,s){var a=e.tag;switch(e.tag){case"svg":o="http://www.w3.org/2000/svg";break;case"math":o="http://www.w3.org/1998/Math/MathML"}var l=e.attrs,c=l&&l.is,h=o?c?G.createElementNS(o,a,{is:c}):G.createElementNS(o,a):c?G.createElement(a,{is:c}):G.createElement(a);if(e.dom=h,null!=l&&L(e,l,o),k(t,h,s),null!=e.attrs&&null!=e.attrs.contenteditable)S(e);else if(null!=e.text&&(""!==e.text?h.textContent=e.text:e.children=[n("#",void 0,void 0,e.text,void 0,void 0)]),null!=e.children){var u=e.children;i(h,u,0,u.length,r,null,o),D(e)}return h}function c(t,e){var i;if("function"==typeof t.tag.view){if(t.state=Object.create(t.tag),i=t.state.view,null!=i.$$reentrantLock$$)return X;i.$$reentrantLock$$=!0}else{if(t.state=void 0,i=t.tag,null!=i.$$reentrantLock$$)return X;i.$$reentrantLock$$=!0,t.state=null!=t.tag.prototype&&"function"==typeof t.tag.prototype.view?new t.tag(t):t.tag(t)}if(t._state=t.state,null!=t.attrs&&B(t.attrs,t,e),B(t._state,t,e),t.instance=n.normalize(t._state.view.call(t.state,t)),t.instance===t)throw Error("A view cannot return the vnode it received as argument");i.$$reentrantLock$$=null}function h(t,e,i,n,o){if(c(e,i),null!=e.instance){var s=r(t,e.instance,i,n,o);return e.dom=e.instance.dom,e.domSize=null!=e.dom?e.instance.domSize:0,k(t,s,o),s}return e.domSize=0,X}function u(t,e,n,o,s,a,l){if(e!==n&&(null!=e||null!=n))if(null==e)i(t,n,0,n.length,s,a,void 0);else if(null==n)C(e,0,e.length,n);else{if(e.length===n.length){for(var c=!1,h=0;h<n.length;h++)if(null!=n[h]&&null!=e[h]){c=null==n[h].key&&null==e[h].key;break}if(c){for(var h=0;h<e.length;h++)e[h]!==n[h]&&(null==e[h]&&null!=n[h]?r(t,n[h],s,l,w(e,h+1,a)):null==n[h]?C(e,h,h+1,n):d(t,e[h],n[h],s,w(e,h+1,a),o,l));return}}if(o=o||y(e,n)){var u=e.pool;e=e.concat(e.pool)}for(var f,p=0,g=0,m=e.length-1,v=n.length-1;m>=p&&v>=g;){var S=e[p],T=n[g];if(S!==T||o)if(null==S)p++;else if(null==T)g++;else if(S.key===T.key){var M=null!=u&&p>=e.length-u.length||null==u&&o;p++,g++,d(t,S,T,s,w(e,p,a),M,l),o&&S.tag===T.tag&&k(t,x(S),a)}else{var S=e[m];if(S!==T||o)if(null==S)m--;else if(null==T)g++;else{if(S.key!==T.key)break;var M=null!=u&&m>=e.length-u.length||null==u&&o;d(t,S,T,s,w(e,m+1,a),M,l),(o||g<v)&&k(t,x(S),w(e,p,a)),m--,g++}else m--,g++}else p++,g++}for(;m>=p&&v>=g;){var S=e[m],T=n[v];if(S!==T||o)if(null==S)m--;else if(null==T)v--;else if(S.key===T.key){var M=null!=u&&m>=e.length-u.length||null==u&&o;d(t,S,T,s,w(e,m+1,a),M,l),o&&S.tag===T.tag&&k(t,x(S),a),null!=S.dom&&(a=S.dom),m--,v--}else{if(f||(f=b(e,m)),null!=T){var A=f[T.key];if(null!=A){var L=e[A],M=null!=u&&A>=e.length-u.length||null==u&&o;d(t,L,T,s,w(e,m+1,a),o,l),k(t,x(L),a),e[A].skip=!0,null!=L.dom&&(a=L.dom)}else{var O=r(t,T,s,void 0,a);a=O}}v--}else m--,v--;if(v<g)break}i(t,n,g,v+1,s,a,l),C(e,p,m+1,n)}}function d(t,e,i,n,o,s,a){var l=e.tag,c=i.tag;if(l===c){if(i.state=e.state,i._state=e._state,i.events=e.events,!s&&j(i,e))return;if("string"==typeof l)switch(null!=i.attrs&&(s?(i.state={},B(i.attrs,i,n)):W(i.attrs,i,n)),l){case"#":f(e,i);break;case"<":p(t,e,i,o);break;case"[":g(t,e,i,s,n,o,a);break;default:m(e,i,s,n,a)}else v(t,e,i,n,o,s,a)}else T(e,null),r(t,i,n,a,o)}function f(t,e){t.children.toString()!==e.children.toString()&&(t.dom.nodeValue=e.children),e.dom=t.dom}function p(t,e,i,n){e.children!==i.children?(x(e),s(t,i,n)):(i.dom=e.dom,i.domSize=e.domSize)}function g(t,e,i,n,r,o,s){u(t,e.children,i.children,n,r,o,s);var a=0,l=i.children;if(i.dom=null,null!=l){for(var c=0;c<l.length;c++){var h=l[c];null!=h&&null!=h.dom&&(null==i.dom&&(i.dom=h.dom),a+=h.domSize||1)}1!==a&&(i.domSize=a)}}function m(t,e,i,r,o){var s=e.dom=t.dom;switch(e.tag){case"svg":o="http://www.w3.org/2000/svg";break;case"math":o="http://www.w3.org/1998/Math/MathML"}"textarea"===e.tag&&(null==e.attrs&&(e.attrs={}),null!=e.text&&(e.attrs.value=e.text,e.text=void 0)),_(e,t.attrs,e.attrs,o),null!=e.attrs&&null!=e.attrs.contenteditable?S(e):null!=t.text&&null!=e.text&&""!==e.text?t.text.toString()!==e.text.toString()&&(t.dom.firstChild.nodeValue=e.text):(null!=t.text&&(t.children=[n("#",void 0,void 0,t.text,void 0,t.dom.firstChild)]),null!=e.text&&(e.children=[n("#",void 0,void 0,e.text,void 0,void 0)]),u(s,t.children,e.children,i,r,null,o))}function v(t,e,i,o,s,a,l){if(a)c(i,o);else{if(i.instance=n.normalize(i._state.view.call(i.state,i)),i.instance===i)throw Error("A view cannot return the vnode it received as argument");null!=i.attrs&&W(i.attrs,i,o),W(i._state,i,o)}null!=i.instance?(null==e.instance?r(t,i.instance,o,l,s):d(t,e.instance,i.instance,o,s,a,l),i.dom=i.instance.dom,i.domSize=i.instance.domSize):null!=e.instance?(T(e.instance,null),i.dom=void 0,i.domSize=0):(i.dom=e.dom,i.domSize=e.domSize)}function y(t,e){if(null!=t.pool&&Math.abs(t.pool.length-e.length)<=Math.abs(t.length-e.length)){var i=t[0]&&t[0].children&&t[0].children.length||0,n=t.pool[0]&&t.pool[0].children&&t.pool[0].children.length||0,r=e[0]&&e[0].children&&e[0].children.length||0;if(Math.abs(n-r)<=Math.abs(i-r))return!0}return!1}function b(t,e){for(var i={},n=0,n=0;n<e;n++){var r=t[n];if(null!=r){var o=r.key;null!=o&&(i[o]=n)}}return i}function x(t){var e=t.domSize;if(null!=e||null==t.dom){var i=G.createDocumentFragment();if(e>0){for(var n=t.dom;--e;)i.appendChild(n.nextSibling);i.insertBefore(n,i.firstChild)}return i}return t.dom}function w(t,e,i){for(;e<t.length;e++)if(null!=t[e]&&null!=t[e].dom)return t[e].dom;return i}function k(t,e,i){i&&i.parentNode?t.insertBefore(e,i):t.appendChild(e)}function S(t){var e=t.children;if(null!=e&&1===e.length&&"<"===e[0].tag){var i=e[0].children;t.dom.innerHTML!==i&&(t.dom.innerHTML=i)}else if(null!=t.text||null!=e&&0!==e.length)throw new Error("Child node of a contenteditable must be trusted")}function C(t,e,i,n){for(var r=e;r<i;r++){var o=t[r];null!=o&&(o.skip?o.skip=!1:T(o,n))}}function T(t,e){function i(){if(++r===n&&(A(t),t.dom)){var i=t.domSize||1;if(i>1)for(var o=t.dom;--i;)M(o.nextSibling);M(t.dom),null==e||null!=t.domSize||z(t.attrs)||"string"!=typeof t.tag||(e.pool?e.pool.push(t):e.pool=[t])}}var n=1,r=0;if(t.attrs&&"function"==typeof t.attrs.onbeforeremove){var o=t.attrs.onbeforeremove.call(t.state,t);null!=o&&"function"==typeof o.then&&(n++,o.then(i,i))}if("string"!=typeof t.tag&&"function"==typeof t._state.onbeforeremove){var o=t._state.onbeforeremove.call(t.state,t);null!=o&&"function"==typeof o.then&&(n++,o.then(i,i))}i()}function M(t){var e=t.parentNode;null!=e&&e.removeChild(t)}function A(t){if(t.attrs&&"function"==typeof t.attrs.onremove&&t.attrs.onremove.call(t.state,t),"string"!=typeof t.tag&&"function"==typeof t._state.onremove&&t._state.onremove.call(t.state,t),null!=t.instance)A(t.instance);else{var e=t.children;if(Array.isArray(e))for(var i=0;i<e.length;i++){var n=e[i];null!=n&&A(n)}}}function L(t,e,i){for(var n in e)O(t,n,null,e[n],i)}function O(t,e,i,n,r){var o=t.dom;if("key"!==e&&"is"!==e&&(i!==n||P(t,e)||"object"==typeof n)&&"undefined"!=typeof n&&!E(e)){var s=e.indexOf(":");if(s>-1&&"xlink"===e.substr(0,s))o.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(s+1),n);else if("o"===e[0]&&"n"===e[1]&&"function"==typeof n)H(t,e,n);else if("style"===e)R(o,i,n);else if(e in o&&!N(e)&&void 0===r&&!I(t)){if("input"===t.tag&&"value"===e&&t.dom.value==n&&t.dom===G.activeElement)return;if("select"===t.tag&&"value"===e&&t.dom.value==n&&t.dom===G.activeElement)return;if("option"===t.tag&&"value"===e&&t.dom.value==n)return;if("input"===t.tag&&"type"===e)return void o.setAttribute(e,n);o[e]=n}else"boolean"==typeof n?n?o.setAttribute(e,""):o.removeAttribute(e):o.setAttribute("className"===e?"class":e,n)}}function D(t){var e=t.attrs;"select"===t.tag&&null!=e&&("value"in e&&O(t,"value",null,e.value,void 0),"selectedIndex"in e&&O(t,"selectedIndex",null,e.selectedIndex,void 0))}function _(t,e,i,n){if(null!=i)for(var r in i)O(t,r,e&&e[r],i[r],n);if(null!=e)for(var r in e)null!=i&&r in i||("className"===r&&(r="class"),"o"!==r[0]||"n"!==r[1]||E(r)?"key"!==r&&t.dom.removeAttribute(r):H(t,r,void 0))}function P(t,e){return"value"===e||"checked"===e||"selectedIndex"===e||"selected"===e&&t.dom===G.activeElement}function E(t){return"oninit"===t||"oncreate"===t||"onupdate"===t||"onremove"===t||"onbeforeremove"===t||"onbeforeupdate"===t}function N(t){return"href"===t||"list"===t||"form"===t||"width"===t||"height"===t}function I(t){return t.attrs.is||t.tag.indexOf("-")>-1}function z(t){return null!=t&&(t.oncreate||t.onupdate||t.onbeforeremove||t.onremove)}function R(t,e,i){if(e===i&&(t.style.cssText="",e=null),null==i)t.style.cssText="";else if("string"==typeof i)t.style.cssText=i;else{"string"==typeof e&&(t.style.cssText="");for(var n in i)t.style[n]=i[n];if(null!=e&&"string"!=typeof e)for(var n in e)n in i||(t.style[n]="")}}function H(t,e,i){var n=t.dom,r="function"!=typeof $?i:function(t){var e=i.call(n,t);return $.call(n,t),e};if(e in n)n[e]="function"==typeof i?r:null;else{var o=e.slice(2);if(void 0===t.events&&(t.events={}),t.events[e]===r)return;null!=t.events[e]&&n.removeEventListener(o,t.events[e],!1),"function"==typeof i&&(t.events[e]=r,n.addEventListener(o,t.events[e],!1))}}function B(t,e,i){"function"==typeof t.oninit&&t.oninit.call(e.state,e),"function"==typeof t.oncreate&&i.push(t.oncreate.bind(e.state,e))}function W(t,e,i){"function"==typeof t.onupdate&&i.push(t.onupdate.bind(e.state,e))}function j(t,e){var i,n;return null!=t.attrs&&"function"==typeof t.attrs.onbeforeupdate&&(i=t.attrs.onbeforeupdate.call(t.state,t,e)),"string"!=typeof t.tag&&"function"==typeof t._state.onbeforeupdate&&(n=t._state.onbeforeupdate.call(t.state,t,e)),!(void 0===i&&void 0===n||i||n)&&(t.dom=e.dom,t.domSize=e.domSize,t.instance=e.instance,!0)}function F(t,e){if(!t)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var i=[],r=G.activeElement;null==t.vnodes&&(t.textContent=""),Array.isArray(e)||(e=[e]),u(t,t.vnodes,n.normalizeChildren(e),!1,i,null,void 0),t.vnodes=e;for(var o=0;o<i.length;o++)i[o]();G.activeElement!==r&&r.focus()}var $,G=t.document,X=G.createDocumentFragment();return{render:F,setEventCallback:e}},y=function(t){function e(t,e){i(t),o.push(t,a(e))}function i(t){var e=o.indexOf(t);e>-1&&o.splice(e,2)}function n(){for(var t=1;t<o.length;t+=2)o[t]()}var r=v(t);r.setEventCallback(function(t){t.redraw!==!1&&n()});var o=[];return{subscribe:e,unsubscribe:i,redraw:n,render:r.render}},b=y(window);m.setCompletionCallback(b.redraw);var x=function(t){return function(e,i){if(null===i)return t.render(e,[]),void t.unsubscribe(e);if(null==i.view&&"function"!=typeof i)throw new Error("m.mount(element, component) expects a component, not a vnode");var r=function(){t.render(e,n(i))};t.subscribe(e,r),t.redraw()}};u.mount=x(b);var w=d,k=function(t){if(""===t||null==t)return{};"?"===t.charAt(0)&&(t=t.slice(1));for(var e=t.split("&"),i={},n={},r=0;r<e.length;r++){var o=e[r].split("="),s=decodeURIComponent(o[0]),a=2===o.length?decodeURIComponent(o[1]):"";"true"===a?a=!0:"false"===a&&(a=!1);var l=s.split(/\]\[?|\[/),c=i;s.indexOf("[")>-1&&l.pop();for(var h=0;h<l.length;h++){var u=l[h],d=l[h+1],f=""==d||!isNaN(parseInt(d,10)),p=h===l.length-1;if(""===u){var s=l.slice(0,h).join();null==n[s]&&(n[s]=0),u=n[s]++}null==c[u]&&(c[u]=p?a:f?[]:{}),c=c[u]}}return i},S=function(e){function i(t){var i=e.location[t].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);return"pathname"===t&&"/"!==i[0]&&(i="/"+i),i}function n(t){return function(){null==o&&(o=a(function(){o=null,t()}))}}function r(t,e,i){var n=t.indexOf("?"),r=t.indexOf("#"),o=n>-1?n:r>-1?r:t.length;if(n>-1){var s=r>-1?r:t.length,a=k(t.slice(n+1,s));for(var l in a)e[l]=a[l]}if(r>-1){var c=k(t.slice(r+1));for(var l in c)i[l]=c[l]}return t.slice(0,o)}var o,s="function"==typeof e.history.pushState,a="function"==typeof t?t:setTimeout,l={prefix:"#!"};return l.getPath=function(){var t=l.prefix.charAt(0);switch(t){case"#":return i("hash").slice(l.prefix.length);case"?":return i("search").slice(l.prefix.length)+i("hash");default:return i("pathname").slice(l.prefix.length)+i("search")+i("hash")}},l.setPath=function(t,i,n){var o={},a={};if(t=r(t,o,a),null!=i){for(var c in i)o[c]=i[c];t=t.replace(/:([^\/]+)/g,function(t,e){return delete o[e],i[e]})}var h=f(o);h&&(t+="?"+h);var u=f(a);if(u&&(t+="#"+u),s){var d=n?n.state:null,p=n?n.title:null;e.onpopstate(),n&&n.replace?e.history.replaceState(d,p,l.prefix+t):e.history.pushState(d,p,l.prefix+t)}else e.location.href=l.prefix+t},l.defineRoutes=function(t,i,o){function a(){var n=l.getPath(),s={},a=r(n,s,s),c=e.history.state;if(null!=c)for(var h in c)s[h]=c[h];for(var u in t){var d=new RegExp("^"+u.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(d.test(a))return void a.replace(d,function(){for(var e=u.match(/:[^\/]+/g)||[],r=[].slice.call(arguments,1,-2),o=0;o<e.length;o++)s[e[o].replace(/:|\./g,"")]=decodeURIComponent(r[o]);i(t[u],s,n,u)})}o(n,s)}s?e.onpopstate=n(a):"#"===l.prefix.charAt(0)&&(e.onhashchange=a),a()},l},C=function(t,e){var i,r,o,s,a,l=S(t),c=function(t){return t},h=function(t,h,u){if(null==t)throw new Error("Ensure the DOM element that was passed to `m.route` is not undefined");var d=function(){null!=i&&e.render(t,i(n(r,o.key,o)))},f=function(t){if(t===h)throw new Error("Could not resolve default route "+h);l.setPath(h,null,{replace:!0})};l.defineRoutes(u,function(t,e,n){var l=a=function(t,h){l===a&&(r=null==h||"function"!=typeof h.view&&"function"!=typeof h?"div":h,o=e,s=n,a=null,i=(t.render||c).bind(t),d())};t.view||"function"==typeof t?l({},t):t.onmatch?w.resolve(t.onmatch(e,n)).then(function(e){l(t,e)},f):l(t,"div")},f),e.subscribe(t,d)};return h.set=function(t,e,i){null!=a&&(i={replace:!0}),a=null,l.setPath(t,e,i)},h.get=function(){return s},h.prefix=function(t){l.prefix=t},h.link=function(t){t.dom.setAttribute("href",l.prefix+t.attrs.href),t.dom.onclick=function(t){if(!(t.ctrlKey||t.metaKey||t.shiftKey||2===t.which)){t.preventDefault(),t.redraw=!1;var e=this.getAttribute("href");0===e.indexOf(l.prefix)&&(e=e.slice(l.prefix.length)),h.set(e,void 0,void 0)}}},h.param=function(t){return"undefined"!=typeof o&&"undefined"!=typeof t?o[t]:o},h};u.route=C(window,b),u.withAttr=function(t,e,i){return function(n){e.call(i||this,t in n.currentTarget?n.currentTarget[t]:n.currentTarget.getAttribute(t))}};var T=v(window);u.render=T.render,u.redraw=b.redraw,u.request=m.request,u.jsonp=m.jsonp,u.parseQueryString=k,u.buildQueryString=f,u.version="1.1.1",u.vnode=n,i.exports=u}()}).call(e,i(2).setImmediate,function(){return this}(),i(5)(t))},function(t,e,i){function n(t,e){this._id=t,this._clearFn=e}var r=Function.prototype.apply;e.setTimeout=function(){return new n(r.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new n(r.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},i(3),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,i){(function(t,e){!function(t,i){"use strict";function n(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var n={callback:t,args:e};return g[p]=n,f(p),p++}function r(t){delete g[t]}function o(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(i,n)}}function s(t){if(m)setTimeout(s,0,t);else{var e=g[t];if(e){m=!0;try{o(e)}finally{r(t),m=!1}}}}function a(){f=function(t){e.nextTick(function(){s(t)})}}function l(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}function c(){var e="setImmediate$"+Math.random()+"$",i=function(i){i.source===t&&"string"==typeof i.data&&0===i.data.indexOf(e)&&s(+i.data.slice(e.length))};t.addEventListener?t.addEventListener("message",i,!1):t.attachEvent("onmessage",i),f=function(i){t.postMessage(e+i,"*")}}function h(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;s(e)},f=function(e){t.port2.postMessage(e)}}function u(){var t=v.documentElement;f=function(e){var i=v.createElement("script");i.onreadystatechange=function(){s(e),i.onreadystatechange=null,t.removeChild(i),i=null},t.appendChild(i)}}function d(){f=function(t){setTimeout(s,0,t)}}if(!t.setImmediate){var f,p=1,g={},m=!1,v=t.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(t);y=y&&y.setTimeout?y:t,"[object process]"==={}.toString.call(t.process)?a():l()?c():t.MessageChannel?h():v&&"onreadystatechange"in v.createElement("script")?u():d(),y.setImmediate=n,y.clearImmediate=r}}("undefined"==typeof self?"undefined"==typeof t?this:t:self)}).call(e,function(){return this}(),i(4))},function(t,e){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(t){if(h===setTimeout)return setTimeout(t,0);if((h===i||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function o(t){if(u===clearTimeout)return clearTimeout(t);if((u===n||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(t);try{return u(t)}catch(e){try{return u.call(null,t)}catch(e){return u.call(this,t)}}}function s(){g&&f&&(g=!1,f.length?p=f.concat(p):m=-1,p.length&&a())}function a(){if(!g){var t=r(s);g=!0;for(var e=p.length;e;){for(f=p,p=[];++m<e;)f&&f[m].run();m=-1,e=p.length}f=null,g=!1,o(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var h,u,d=t.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:i}catch(t){h=i}try{u="function"==typeof clearTimeout?clearTimeout:n}catch(t){u=n}}();var f,p=[],g=!1,m=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];p.push(new l(t,e)),1!==p.length||g||r(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.util=e.tlm=e.time=e.packets=e.gui=e.format=e.evr=e.events=e.cmd=void 0;var o=i(7),s=r(o),a=i(8),l=r(a),c=i(9),h=n(c),u=i(10),d=n(u),f=i(11),p=n(f),g=i(13),m=n(g),v=i(12),y=n(v),b=i(205),x=n(b),w=i(197),k=n(w);e.cmd=h,e.events=s.default,e.evr=d,e.format=p,e.gui=m,e.packets=l.default,e.time=y,e.tlm=x,e.util=k},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(){i(this,t),this._listeners={}}return n(t,[{key:"emit",value:function(t){var e=this,i=this._listeners[t];if(void 0!==i){var n=Array.prototype.slice.call(arguments,1);i.forEach(function(t){return t.apply(e,n)})}}},{key:"off",value:function(t,e){var i=this._listeners[t],n=i&&i.indexOf(e),r=void 0!==n&&n!==-1;return r&&i.splice(n,1),r}},{key:"on",value:function(t,e){this._listeners[t]=this._listeners[t]||[],this._listeners[t].push(e)}}]),t}();e.default=new r},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:600;i(this,t),this._buffer=new Array(e),this.flush()}return n(t,[{key:"_index",value:function(t){return(this._start+this._length+t)%this._buffer.length}},{key:"flush",value:function(){this._length=0,this._start=0,this._buffer.fill(void 0)}},{key:"get",value:function(t){var e=this._start+this._length-1,i=(e-t)%this._buffer.length;return this._buffer[i]}},{key:"insert",value:function(t){this._length+1>this._buffer.length&&this.remove();var e=this._start+this._length,i=e%this._buffer.length;this._buffer[i]=t,this._length+=1}},{key:"remove",value:function(){var t=this._buffer[this._start];return this._start=(this._start+1)%this._buffer.length,this._length-=1,t}},{key:"capacity",get:function(){return this._capacity}},{key:"length",get:function(){return this._length}}]),t}(),o=function(){function t(){i(this,t)}return n(t,[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600,i=!1;return void 0===this[t]&&(this[t]=new r(e),i=!0),i}},{key:"insert",value:function(t,e){void 0===this[t]&&this.create(t),this[t].insert(e)}}]),t}();e.default=new o},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(){i(this,t),this._byOpcode={},this._bySubsystem={}}return n(t,[{key:"add",value:function(t){if(t instanceof o&&(this[t.name]=t,this._byOpcode[t.opcode]=t,t.subsystem)){var e=this._bySubsystem[t.subsystem]||[];e.push(t),this._bySubsystem[t.subsystem]=e}}},{key:"getByOpcode",value:function(t){return this._byOpcode[t]}},{key:"bySubsystem",get:function(){return this._bySubsystem}}],[{key:"parse",value:function(e){var i=new t;"string"==typeof e&&(e=JSON.parse(e));for(var n in e)i.add(new o(e[n]));return i}}]),t}(),o=function(){function t(e){i(this,t),this._arguments=e.arguments,
this._desc=e.desc,this._name=e.name,this._opcode=e.opcode,this._subsystem=e.subsystem,this._title=e.title}return n(t,[{key:"arguments",get:function(){return this._arguments}},{key:"desc",get:function(){return this._desc}},{key:"name",get:function(){return this._name}},{key:"opcode",get:function(){return this._opcode}},{key:"subsystem",get:function(){return this._subsystem}},{key:"title",get:function(){return this._title}}],[{key:"parse",value:function(e){return"string"==typeof e&&(e=JSON.parse(e)),new t(e)}}]),t}();e.CommandDictionary=r,e.CommandDefinition=o},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(){i(this,t),this._codes={}}return n(t,[{key:"add",value:function(t){t instanceof o&&(this[t.name]=t,this._codes[t.code]=t)}},{key:"getByCode",value:function(t){return this._codes[t]}}],[{key:"parse",value:function(e){var i=new t;"string"==typeof e&&(e=JSON.parse(e));for(var n=0;n<e.length;++n)i.add(new o(e[n]));return i}}]),t}(),o=function(){function t(e){i(this,t),this._desc=e.desc,this._name=e.name,this._code=e.code}return n(t,[{key:"desc",get:function(){return this._desc}},{key:"name",get:function(){return this._name}},{key:"code",get:function(){return this._code}}],[{key:"parse",value:function(e){return"string"==typeof e&&(e=JSON.parse(e)),new t(e)}}]),t}();e.EVRDictionary=r,e.EVRDefinition=o},function(t,e,i){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.doy,n=void 0!==i&&i,r=e.utc,l=void 0===r||r,c=void 0,u=void 0,d=void 0,f=void 0,p=o(t);return l?(c=p.getUTCFullYear(),u=p.getUTCMonth(),d=p.getUTCDate()):(c=p.getFullYear(),u=p.getMonth(),d=p.getDate()),f=n?c+"-"+a((0,h.DOY)(c,u,d)):c+"-"+s(u+1)+"-"+s(d)}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(t,e)+" "+l(t,e)+" "+c(t,e)}function o(t){var e=t;return"string"==typeof t?e=Date.parse(t):"number"==typeof t&&(e=new Date(t)),e}function s(t){return t<10?"0"+t:t}function a(t){return t<100?"0"+s(t):t}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.h24,n=void 0===i||i,r=e.utc,a=void 0===r||r,l=void 0,c=void 0,h=void 0,u=void 0,d=" AM",f=o(t);return a?(l=f.getUTCHours(),c=f.getUTCMinutes(),h=f.getUTCSeconds()):(l=f.getHours(),c=f.getMinutes(),h=f.getSeconds()),!n&&l>12&&(l-=12,d=" PM"),u=s(l)+":"+s(c)+":"+s(h),n||(u+=d),u}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.utc,n=void 0===i||i;return n?"UTC":(0,h.timezone)(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.tz=e.time=e.datetime=e.date=void 0;var h=i(12);e.date=n,e.datetime=r,e.time=l,e.tz=c},function(t,e){"use strict";function i(t,e,i){var r=[0,31,59,90,120,151,181,212,243,273,304,334],o=r[e]+i;return n(t)&&e>=2&&(o+=1),o}function n(t){return t%4===0&&t%100!==0||t%400===0}function r(t){var e=/\((\w+)\)$/.exec(t.toString());return Array.isArray(e)&&e.length>1?e[1]:""}Object.defineProperty(e,"__esModule",{value:!0}),e.DOY=i,e.isLeap=n,e.timezone=r},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){for(var e={},i=0;i<t.length;++i){var n=t.item(i),r=n.value;"true"==r&&(r=!0),"false"==r&&(r=!1),e[n.name]=r}return e}function o(t){var e=null;if(t.nodeType==Node.ELEMENT_NODE){var i=t.nodeName.toLowerCase(),n=r(t.attributes),o=s(t.childNodes);e=m(M[i]||i,n,o)}else t.nodeType==Node.TEXT_NODE&&(e=t.nodeValue);return e}function s(t){return(0,x.default)((0,k.default)(t,o),function(t){return null!==t})}function a(){l(function(){var t=document.body,e=t.cloneNode(!0),i=(0,k.default)(e.childNodes,function(t){return t});bliss.cmd={dict:{}},bliss.cmd.promise=m.request({url:"/cmd/dict"}),bliss.cmd.promise.then(function(t){bliss.cmd.dict=S.CommandDictionary.parse(t)}),m.request({url:"/evr/dict"}).then(function(t){bliss.evr.dict=C.EVRDictionary.parse(t)}),m.request({url:"/tlm/dict"}).then(function(t){var e="ws://"+location.host+"/tlm/realtime";bliss.tlm.dict=T.TelemetryDictionary.parse(t),bliss.tlm.stream=new T.TelemetryStream(e,bliss.tlm.dict),bliss.events.on("bliss:tlm:packet",function(){m.redraw()})});var n=new EventSource("/events");n.addEventListener("message",function(t){var e=JSON.parse(t.data);bliss.events.emit(e.name,e.data)}),m.mount(t,{view:function(){return s(i)}})})}function l(t){"loading"!==document.readyState?t():document.addEventListener("DOMContentLoaded",t)}Object.defineProperty(e,"__esModule",{value:!0}),e.init=void 0;var c=i(14);Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})});var h=i(15);Object.keys(h).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return h[t]}})});var u=i(158);Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})});var d=i(161);Object.keys(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return d[t]}})});var f=i(162);Object.keys(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}})});var p=i(164);Object.keys(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}})});var g=i(194);Object.keys(g).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return g[t]}})});var v=i(195);Object.keys(v).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return v[t]}})});var y=i(196);Object.keys(y).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return y[t]}})});var b=i(55),x=n(b),w=i(146),k=n(w),S=i(9),C=i(10),T=i(205),M={};Object.keys(e).map(function(t){M["bliss-"+t.toLowerCase()]=e[t]}),e.init=a},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Clock=void 0;var o=i(1),s=r(o),a=i(11),l=n(a),c={_now:null,_h24:!0,_utc:!0,_doy:!1,toggleH24:function(){this._h24=!this._h24},toggleUTC:function(){this._utc=!this._utc},toggleDOY:function(){this._doy=!this._doy},update:function(){this._now=new Date},oninit:function(t){var e=t.attrs;this._h24=void 0!==e.h24?e.h24:c._h24,this._utc=void 0!==e.utc?e.utc:c._utc,this._doy=void 0!==e.doy?e.doy:c._doy,this.update()},oncreate:function(t){var e=this;setInterval(function(){c.update.call(e),s.default.redraw()},1e3)},view:function(t){var e={doy:this._doy,h24:this._h24,utc:this._utc},i=l.date(this._now,e),n=l.time(this._now,e),r=l.tz(this._now,e);return(0,s.default)("bliss-clock",t.attrs,[(0,s.default)("span.date",{onclick:c.toggleDOY.bind(this)},i)," ",(0,s.default)("span.time",{onclick:c.toggleH24.bind(this)},n)," ",(0,s.default)("span.tz",{onclick:c.toggleUTC.bind(this)},r)])}};e.default=c,e.Clock=c},function(t,e,i){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.CommandConfigure=e.CommandSearch=e.CommandInput=void 0;var r=i(17),o=n(r),s=i(55),a=n(s),l=i(142),c=n(l),h=i(145),u=n(h),d=i(148),f=(n(d),i(146)),p=n(f),g=i(154),v=(n(g),i(156),i(157)),y={_cntrl_toggled:!1,_cmding_disabled:!1,oninit:function(t){bliss.cmd.typeahead={dict:{},hist:{}},bliss.events.on("cmd:hist",function(t){bliss.cmd.typeahead.hist.add([t])})},oncreate:function(e){var i=this;bliss.cmd.promise.then(function(e){var i=function(t){return t?t.split("_"):[]};bliss.cmd.typeahead.dict=new v({datumTokenizer:i,queryTokenizer:i,local:(0,p.default)(e,function(t,e){return t.name})}),bliss.cmd.typeahead.hist=new v({datumTokenizer:i,queryTokenizer:i,prefetch:{url:"/cmd/hist.json",cache:!1}}),t("#command-typeahead").typeahead({highlight:!0},{name:"cmd-hist",limit:10,source:bliss.cmd.typeahead.hist,templates:{header:'<h4 class="typeahead-heading">History</h4>'}},{name:"cmd-dict",limit:10,source:bliss.cmd.typeahead.dict,templates:{header:'<h4 class="typeahead-heading">Dictionary</h4>'}})}),t("#command-submit-form").submit(function(e){e.preventDefault();var i=t("#command-submit-form").attr("action"),n=new FormData;n.append("command",t("#command-typeahead").val()),m.request({method:"POST",url:i,data:n}),t("#command-typeahead").typeahead("val","").focus()}),document.getElementById("command-typeahead").onkeyup=function(t){17==t.keyCode&&(i._cntrl_toggled=!1)},document.getElementById("command-typeahead").onkeydown=function(t){return 17==t.keyCode&&(i._cntrl_toggled=!0),!(13==t.keyCode&&!i._cntrl_toggled||i.cmding_disabled)||(t.preventDefault(),!1)};e.dom.getElementsByTagName("button")[0];bliss.events.on("seq:exec",function(){i._cmding_disabled=!0}),bliss.events.on("seq:done",function(){i._cmding_disabled=!1}),bliss.events.on("seq:err",function(){i._cmding_disabled=!1})},view:function(t){var e={class:"btn btn-success",type:"submit"};return this._cmding_disabled&&(e.disabled="disabled"),m("div",{id:"bliss-command-input"},m("form",{class:"form-horizontal",role:"form",method:"POST",action:"/cmd",id:"command-submit-form"},[m("label","Send Command:"),m("div",{class:"input-group"},[m("input",{class:"typeahead form-control",id:"command-typeahead",type:"text",name:"command",placeholder:"Select Command ..."}),m("span",{class:"input-group-btn"},m("button",e,"Send"))]),m("span",{id:"commandHelpBlock",class:"help-block"},"Ctrl + Enter to send command")]))}},b={activeCommand:null},x={groupedCommands:{},commandFilter:"",oninit:function(t){var e=this;bliss.cmd.promise.then(function(){e.groupedCommands=bliss.cmd.dict.bySubsystem})},oncreate:function(e){var i=this;t(function(){t('[data-toggle="popover"]').popover()}),t("#command-search").focus(function(e){t(".panel-collapse").collapse("show")}),t("#command-search").keyup(function(e){i.commandFilter=t("#command-search").val(),m.redraw()}),t("#command-search-clear").mousedown(function(t){t.preventDefault(),i.resetCommandFiltering()})},view:function(t){var e=this,i="";if(Object.keys(this.groupedCommands).length>0){var n=this.groupedCommands;if(0!==this.commandFilter.length){var r={};(0,o.default)(n,function(t,i){r[i]=(0,a.default)(t,function(t){return t.name.toLowerCase().includes(e.commandFilter.toLowerCase())})}),n=r}i=(0,u.default)(n,function(t,e){var i=m("div",{class:"panel-heading",role:"tab",id:"heading"+e},m("h4",{class:"panel-title"},m("a",{role:"button","data-toggle":"collapse","data-parent":"#cmdTree",href:"#collapse"+e},e))),n=(0,p.default)(t,function(t){return m("li",m("a",{class:"btn",role:"button","data-toggle":"popover","data-trigger":"hover","data-content":t.desc,onmousedown:function(){b.activeCommand=t}},t.name))}),r=m("div",{class:"panel-collapse collapse",role:"tabpanel",id:"collapse"+e},m("div",{class:"panel-body"},m("ul",n)));return[i,r]})}var s=m("input",{class:"form-control",id:"command-search",placeholder:"Search ...",type:"search"}),l=m("div",{class:"input-group-btn"},m("button",{class:"btn btn-default",id:"command-search-clear"},m("span",{class:"glyphicon glyphicon-remove-circle"}))),c=m("div",{class:"input-group"},[s,l]),h=m("div",{class:"panel-group",role:"tablist",id:"cmdTree",style:"margin-top: 20px;"},[c,m("div",{class:"panel panel-default",id:"cmdAccordions"},i)]);return h},resetCommandFiltering:function(){t("#command-search").val(""),t(".panel-collapse").collapse("hide"),this.commandFilter="",m.redraw()}},w={_cmding_disabled:!1,oninit:function(t){var e=this;bliss.events.on("seq:exec",function(){e._cmding_disabled=!0}),bliss.events.on("seq:done",function(){e._cmding_disabled=!1}),bliss.events.on("seq:err",function(){e._cmding_disabled=!1})},view:function(t){var e=null;return e=null!==b.activeCommand?m("div",{id:"commandCustomizer"},[m("div",{class:"row"},m("div",{class:"col-lg-12"},m("h3",b.activeCommand.name))),m("div",{class:"row"},m("div",{class:"col-lg-10 col-lg-offset-1"},m("div",b.activeCommand.desc.replace(/(\r\n|\n|\r)/gm," ")))),m("div",{class:"row"},m("div",{class:"col-lg-10 col-lg-offset-1"},this.generateCommandArgumentsForm(b.activeCommand)))]):m("div",{class:"col-lg-6 col-lg-offset-3 alert alert-info",role:"alert",style:"margin-top: 20px;"},[m("span",{class:"glyphicon glyphicon-info-sign"})," Please select a command to configure"])},generateCommandArgumentsForm:function(t){var e=this,i=Object.keys(t.arguments).map(function(e){return t.arguments[e]}).filter(function(t){return t.fixed!==!0});i.sort(function(t,e){var i=void 0,n=null;return i=Array.isArray(t.bytes)?t.bytes[0]:t.bytes,n=Array.isArray(e.bytes)?e.bytes[0]:e.bytes,i<n?-1:n<i?1:0});var n=(0,p.default)(i,function(t){return m("div",{class:"form-group"},(0,c.default)([m("label",{class:"col-lg-2 control-label"},e.prettifyName(t.name)),e.generateArgumentInput(t)]))}),r={class:"btn btn-default",type:"submit"};return this._cmding_disabled&&(r.disabled="disabled"),m("form",{id:"command-args-form",class:"form-horizontal",onsubmit:this.handleCommandFormSubmission,method:"POST",action:"/cmd"},[m("input",{id:"command-arg-name",type:"hidden",value:b.activeCommand.name}),n,m("button",r,"Send Command")])},prettifyName:function(t){var e=t.split("_");return e=(0,p.default)(e,function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),e.join(" ")},generateArgumentInput:function(t){var e=null;return e="enum"in t?m("select",{class:"form-control"},(0,p.default)(t.enum,function(t,e){return m("option",{value:e},e+" ("+t+")")})):m("input",{class:"form-control"}),"units"in t&&"none"!==t.units?m("div",{class:"input-group col-lg-8"},[e,m("div",{class:"input-group-addon"},t.units)]):m("div",{class:"input-group col-lg-8"},[e])},handleCommandFormSubmission:function(e){e.preventDefault();var i=t("#command-args-form").attr("action"),n=t("#command-args-form > input#command-arg-name").val();t("#command-args-form :input").each(function(e,i){t(i).hasClass("form-control")&&(n+=" "+t(i).val())});var r=new FormData;r.append("command",n),m.request({method:"POST",url:i,data:r}),b.activeCommand=null,bliss.events.emit("cmd:submit",{})}};e.default={CommandInput:y,CommandSearch:x,CommandConfigure:w},e.CommandInput=y,e.CommandSearch=x,e.CommandConfigure=w}).call(e,i(16))},function(t,e,i){var n,r;/*!
	 * jQuery JavaScript Library v3.2.1
	 * https://jquery.com/
	 *
	 * Includes Sizzle.js
	 * https://sizzlejs.com/
	 *
	 * Copyright JS Foundation and other contributors
	 * Released under the MIT license
	 * https://jquery.org/license
	 *
	 * Date: 2017-03-20T18:59Z
	 */
!function(e,i){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?i(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}:i(e)}("undefined"!=typeof window?window:this,function(i,o){"use strict";function s(t,e){e=e||st;var i=e.createElement("script");i.text=t,e.head.appendChild(i).parentNode.removeChild(i)}function a(t){var e=!!t&&"length"in t&&t.length,i=bt.type(t);return"function"!==i&&!bt.isWindow(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}function l(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function c(t,e,i){return bt.isFunction(e)?bt.grep(t,function(t,n){return!!e.call(t,n,t)!==i}):e.nodeType?bt.grep(t,function(t){return t===e!==i}):"string"!=typeof e?bt.grep(t,function(t){return ut.call(e,t)>-1!==i}):Ot.test(e)?bt.filter(e,t,i):(e=bt.filter(e,t),bt.grep(t,function(t){return ut.call(e,t)>-1!==i&&1===t.nodeType}))}function h(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function u(t){var e={};return bt.each(t.match(It)||[],function(t,i){e[i]=!0}),e}function d(t){return t}function f(t){throw t}function p(t,e,i,n){var r;try{t&&bt.isFunction(r=t.promise)?r.call(t).done(e).fail(i):t&&bt.isFunction(r=t.then)?r.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}function g(){st.removeEventListener("DOMContentLoaded",g),i.removeEventListener("load",g),bt.ready()}function m(){this.expando=bt.expando+m.uid++}function v(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Ft.test(t)?JSON.parse(t):t)}function y(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace($t,"-$&").toLowerCase(),i=t.getAttribute(n),"string"==typeof i){try{i=v(i)}catch(t){}jt.set(t,e,i)}else i=void 0;return i}function b(t,e,i,n){var r,o=1,s=20,a=n?function(){return n.cur()}:function(){return bt.css(t,e,"")},l=a(),c=i&&i[3]||(bt.cssNumber[e]?"":"px"),h=(bt.cssNumber[e]||"px"!==c&&+l)&&Xt.exec(bt.css(t,e));if(h&&h[3]!==c){c=c||h[3],i=i||[],h=+l||1;do o=o||".5",h/=o,bt.style(t,e,h+c);while(o!==(o=a()/l)&&1!==o&&--s)}return i&&(h=+h||+l||0,r=i[1]?h+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=h,n.end=r)),r}function x(t){var e,i=t.ownerDocument,n=t.nodeName,r=Vt[n];return r?r:(e=i.body.appendChild(i.createElement(n)),r=bt.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),Vt[n]=r,r)}function w(t,e){for(var i,n,r=[],o=0,s=t.length;o<s;o++)n=t[o],n.style&&(i=n.style.display,e?("none"===i&&(r[o]=Wt.get(n,"display")||null,r[o]||(n.style.display="")),""===n.style.display&&qt(n)&&(r[o]=x(n))):"none"!==i&&(r[o]="none",Wt.set(n,"display",i)));for(o=0;o<s;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}function k(t,e){var i;return i="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&l(t,e)?bt.merge([t],i):i}function S(t,e){for(var i=0,n=t.length;i<n;i++)Wt.set(t[i],"globalEval",!e||Wt.get(e[i],"globalEval"))}function C(t,e,i,n,r){for(var o,s,a,l,c,h,u=e.createDocumentFragment(),d=[],f=0,p=t.length;f<p;f++)if(o=t[f],o||0===o)if("object"===bt.type(o))bt.merge(d,o.nodeType?[o]:o);else if(te.test(o)){for(s=s||u.appendChild(e.createElement("div")),a=(Zt.exec(o)||["",""])[1].toLowerCase(),l=Qt[a]||Qt._default,s.innerHTML=l[1]+bt.htmlPrefilter(o)+l[2],h=l[0];h--;)s=s.lastChild;bt.merge(d,s.childNodes),s=u.firstChild,s.textContent=""}else d.push(e.createTextNode(o));for(u.textContent="",f=0;o=d[f++];)if(n&&bt.inArray(o,n)>-1)r&&r.push(o);else if(c=bt.contains(o.ownerDocument,o),s=k(u.appendChild(o),"script"),c&&S(s),i)for(h=0;o=s[h++];)Jt.test(o.type||"")&&i.push(o);return u}function T(){return!0}function M(){return!1}function A(){try{return st.activeElement}catch(t){}}function L(t,e,i,n,r,o){var s,a;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=void 0);for(a in e)L(t,a,i,n,e[a],o);return t}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),r===!1)r=M;else if(!r)return t;return 1===o&&(s=r,r=function(t){return bt().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=bt.guid++)),t.each(function(){bt.event.add(this,e,r,n,i)})}function O(t,e){return l(t,"table")&&l(11!==e.nodeType?e:e.firstChild,"tr")?bt(">tbody",t)[0]||t:t}function D(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function _(t){var e=le.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function P(t,e){var i,n,r,o,s,a,l,c;if(1===e.nodeType){if(Wt.hasData(t)&&(o=Wt.access(t),s=Wt.set(e,o),c=o.events)){delete s.handle,s.events={};for(r in c)for(i=0,n=c[r].length;i<n;i++)bt.event.add(e,r,c[r][i])}jt.hasData(t)&&(a=jt.access(t),l=bt.extend({},a),jt.set(e,l))}}function E(t,e){var i=e.nodeName.toLowerCase();"input"===i&&Kt.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function N(t,e,i,n){e=ct.apply([],e);var r,o,a,l,c,h,u=0,d=t.length,f=d-1,p=e[0],g=bt.isFunction(p);if(g||d>1&&"string"==typeof p&&!vt.checkClone&&ae.test(p))return t.each(function(r){var o=t.eq(r);g&&(e[0]=p.call(this,r,o.html())),N(o,e,i,n)});if(d&&(r=C(e,t[0].ownerDocument,!1,t,n),o=r.firstChild,1===r.childNodes.length&&(r=o),o||n)){for(a=bt.map(k(r,"script"),D),l=a.length;u<d;u++)c=r,u!==f&&(c=bt.clone(c,!0,!0),l&&bt.merge(a,k(c,"script"))),i.call(t[u],c,u);if(l)for(h=a[a.length-1].ownerDocument,bt.map(a,_),u=0;u<l;u++)c=a[u],Jt.test(c.type||"")&&!Wt.access(c,"globalEval")&&bt.contains(h,c)&&(c.src?bt._evalUrl&&bt._evalUrl(c.src):s(c.textContent.replace(ce,""),h))}return t}function I(t,e,i){for(var n,r=e?bt.filter(e,t):t,o=0;null!=(n=r[o]);o++)i||1!==n.nodeType||bt.cleanData(k(n)),n.parentNode&&(i&&bt.contains(n.ownerDocument,n)&&S(k(n,"script")),n.parentNode.removeChild(n));return t}function z(t,e,i){var n,r,o,s,a=t.style;return i=i||de(t),i&&(s=i.getPropertyValue(e)||i[e],""!==s||bt.contains(t.ownerDocument,t)||(s=bt.style(t,e)),!vt.pixelMarginRight()&&ue.test(s)&&he.test(e)&&(n=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function R(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function H(t){if(t in ye)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=ve.length;i--;)if(t=ve[i]+e,t in ye)return t}function B(t){var e=bt.cssProps[t];return e||(e=bt.cssProps[t]=H(t)||t),e}function W(t,e,i){var n=Xt.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function j(t,e,i,n,r){var o,s=0;for(o=i===(n?"border":"content")?4:"width"===e?1:0;o<4;o+=2)"margin"===i&&(s+=bt.css(t,i+Yt[o],!0,r)),n?("content"===i&&(s-=bt.css(t,"padding"+Yt[o],!0,r)),"margin"!==i&&(s-=bt.css(t,"border"+Yt[o]+"Width",!0,r))):(s+=bt.css(t,"padding"+Yt[o],!0,r),"padding"!==i&&(s+=bt.css(t,"border"+Yt[o]+"Width",!0,r)));return s}function F(t,e,i){var n,r=de(t),o=z(t,e,r),s="border-box"===bt.css(t,"boxSizing",!1,r);return ue.test(o)?o:(n=s&&(vt.boxSizingReliable()||o===t.style[e]),"auto"===o&&(o=t["offset"+e[0].toUpperCase()+e.slice(1)]),o=parseFloat(o)||0,o+j(t,e,i||(s?"border":"content"),n,r)+"px")}function $(t,e,i,n,r){return new $.prototype.init(t,e,i,n,r)}function G(){xe&&(st.hidden===!1&&i.requestAnimationFrame?i.requestAnimationFrame(G):i.setTimeout(G,bt.fx.interval),bt.fx.tick())}function X(){return i.setTimeout(function(){be=void 0}),be=bt.now()}function Y(t,e){var i,n=0,r={height:t};for(e=e?1:0;n<4;n+=2-e)i=Yt[n],r["margin"+i]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function q(t,e,i){for(var n,r=(K.tweeners[e]||[]).concat(K.tweeners["*"]),o=0,s=r.length;o<s;o++)if(n=r[o].call(i,e,t))return n}function U(t,e,i){var n,r,o,s,a,l,c,h,u="width"in e||"height"in e,d=this,f={},p=t.style,g=t.nodeType&&qt(t),m=Wt.get(t,"fxshow");i.queue||(s=bt._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,bt.queue(t,"fx").length||s.empty.fire()})}));for(n in e)if(r=e[n],we.test(r)){if(delete e[n],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[n])continue;g=!0}f[n]=m&&m[n]||bt.style(t,n)}if(l=!bt.isEmptyObject(e),l||!bt.isEmptyObject(f)){u&&1===t.nodeType&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],c=m&&m.display,null==c&&(c=Wt.get(t,"display")),h=bt.css(t,"display"),"none"===h&&(c?h=c:(w([t],!0),c=t.style.display||c,h=bt.css(t,"display"),w([t]))),("inline"===h||"inline-block"===h&&null!=c)&&"none"===bt.css(t,"float")&&(l||(d.done(function(){p.display=c}),null==c&&(h=p.display,c="none"===h?"":h)),p.display="inline-block")),i.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]})),l=!1;for(n in f)l||(m?"hidden"in m&&(g=m.hidden):m=Wt.access(t,"fxshow",{display:c}),o&&(m.hidden=!g),g&&w([t],!0),d.done(function(){g||w([t]),Wt.remove(t,"fxshow");for(n in f)bt.style(t,n,f[n])})),l=q(g?m[n]:0,n,d),n in m||(m[n]=l.start,g&&(l.end=l.start,l.start=0))}}function V(t,e){var i,n,r,o,s;for(i in t)if(n=bt.camelCase(i),r=e[n],o=t[i],Array.isArray(o)&&(r=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),s=bt.cssHooks[n],s&&"expand"in s){o=s.expand(o),delete t[n];for(i in o)i in t||(t[i]=o[i],e[i]=r)}else e[n]=r}function K(t,e,i){var n,r,o=0,s=K.prefilters.length,a=bt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=be||X(),i=Math.max(0,c.startTime+c.duration-e),n=i/c.duration||0,o=1-n,s=0,l=c.tweens.length;s<l;s++)c.tweens[s].run(o);return a.notifyWith(t,[c,o,i]),o<1&&l?i:(l||a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:bt.extend({},e),opts:bt.extend(!0,{specialEasing:{},easing:bt.easing._default},i),originalProperties:e,originalOptions:i,startTime:be||X(),duration:i.duration,tweens:[],createTween:function(e,i){var n=bt.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)c.tweens[i].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),h=c.props;for(V(h,c.opts.specialEasing);o<s;o++)if(n=K.prefilters[o].call(c,t,h,c.opts))return bt.isFunction(n.stop)&&(bt._queueHooks(c.elem,c.opts.queue).stop=bt.proxy(n.stop,n)),n;return bt.map(h,q,c),bt.isFunction(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),bt.fx.timer(bt.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}function Z(t){var e=t.match(It)||[];return e.join(" ")}function J(t){return t.getAttribute&&t.getAttribute("class")||""}function Q(t,e,i,n){var r;if(Array.isArray(e))bt.each(e,function(e,r){i||Pe.test(t)?n(t,r):Q(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,i,n)});else if(i||"object"!==bt.type(e))n(t,e);else for(r in e)Q(t+"["+r+"]",e[r],i,n)}function tt(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,o=e.toLowerCase().match(It)||[];if(bt.isFunction(i))for(;n=o[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function et(t,e,i,n){function r(a){var l;return o[a]=!0,bt.each(t[a]||[],function(t,a){var c=a(e,i,n);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),r(c),!1)}),l}var o={},s=t===Ge;return r(e.dataTypes[0])||!o["*"]&&r("*")}function it(t,e){var i,n,r=bt.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&bt.extend(!0,t,n),t}function nt(t,e,i){for(var n,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){l.unshift(r);break}if(l[0]in i)o=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),i[o]}function rt(t,e,i,n){var r,o,s,a,l,c={},h=t.dataTypes.slice();if(h[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=h.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=h.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=c[l+" "+o]||c["* "+o],!s)for(r in c)if(a=r.split(" "),a[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[r]:c[r]!==!0&&(o=a[0],h.unshift(a[1]));break}if(s!==!0)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}var ot=[],st=i.document,at=Object.getPrototypeOf,lt=ot.slice,ct=ot.concat,ht=ot.push,ut=ot.indexOf,dt={},ft=dt.toString,pt=dt.hasOwnProperty,gt=pt.toString,mt=gt.call(Object),vt={},yt="3.2.1",bt=function(t,e){return new bt.fn.init(t,e)},xt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,wt=/^-ms-/,kt=/-([a-z])/g,St=function(t,e){return e.toUpperCase()};bt.fn=bt.prototype={jquery:yt,constructor:bt,length:0,toArray:function(){return lt.call(this)},get:function(t){return null==t?lt.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=bt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return bt.each(this,t)},map:function(t){return this.pushStack(bt.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(lt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:ht,sort:ot.sort,splice:ot.splice},bt.extend=bt.fn.extend=function(){var t,e,i,n,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||bt.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)i=s[e],n=t[e],s!==n&&(c&&n&&(bt.isPlainObject(n)||(r=Array.isArray(n)))?(r?(r=!1,o=i&&Array.isArray(i)?i:[]):o=i&&bt.isPlainObject(i)?i:{},s[e]=bt.extend(c,o,n)):void 0!==n&&(s[e]=n));return s},bt.extend({expando:"jQuery"+(yt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===bt.type(t)},isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=bt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==ft.call(t))&&(!(e=at(t))||(i=pt.call(e,"constructor")&&e.constructor,"function"==typeof i&&gt.call(i)===mt))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?dt[ft.call(t)]||"object":typeof t},globalEval:function(t){s(t)},camelCase:function(t){return t.replace(wt,"ms-").replace(kt,St)},each:function(t,e){var i,n=0;if(a(t))for(i=t.length;n<i&&e.call(t[n],n,t[n])!==!1;n++);else for(n in t)if(e.call(t[n],n,t[n])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(xt,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(a(Object(t))?bt.merge(i,"string"==typeof t?[t]:t):ht.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:ut.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n,r=[],o=0,s=t.length,a=!i;o<s;o++)n=!e(t[o],o),n!==a&&r.push(t[o]);return r},map:function(t,e,i){var n,r,o=0,s=[];if(a(t))for(n=t.length;o<n;o++)r=e(t[o],o,i),null!=r&&s.push(r);else for(o in t)r=e(t[o],o,i),null!=r&&s.push(r);return ct.apply([],s)},guid:1,proxy:function(t,e){var i,n,r;if("string"==typeof e&&(i=t[e],e=t,t=i),bt.isFunction(t))return n=lt.call(arguments,2),r=function(){return t.apply(e||this,n.concat(lt.call(arguments)))},r.guid=t.guid=t.guid||bt.guid++,r},now:Date.now,support:vt}),"function"==typeof Symbol&&(bt.fn[Symbol.iterator]=ot[Symbol.iterator]),bt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){dt["[object "+e+"]"]=e.toLowerCase()});var Ct=/*!
	 * Sizzle CSS Selector Engine v2.3.3
	 * https://sizzlejs.com/
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license
	 * http://jquery.org/license
	 *
	 * Date: 2016-08-08
	 */
function(t){function e(t,e,i,n){var r,o,s,a,l,c,h,d=e&&e.ownerDocument,p=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return i;if(!n&&((e?e.ownerDocument||e:j)!==E&&P(e),e=e||E,I)){if(11!==p&&(l=vt.exec(t)))if(r=l[1]){if(9===p){if(!(s=e.getElementById(r)))return i;if(s.id===r)return i.push(s),i}else if(d&&(s=d.getElementById(r))&&B(e,s)&&s.id===r)return i.push(s),i}else{if(l[2])return J.apply(i,e.getElementsByTagName(t)),i;if((r=l[3])&&k.getElementsByClassName&&e.getElementsByClassName)return J.apply(i,e.getElementsByClassName(r)),i}if(k.qsa&&!Y[t+" "]&&(!z||!z.test(t))){if(1!==p)d=e,h=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(wt,kt):e.setAttribute("id",a=W),c=M(t),o=c.length;o--;)c[o]="#"+a+" "+f(c[o]);h=c.join(","),d=yt.test(t)&&u(e.parentNode)||e}if(h)try{return J.apply(i,d.querySelectorAll(h)),i}catch(t){}finally{a===W&&e.removeAttribute("id")}}}return L(t.replace(at,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>S.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[W]=!0,t}function r(t){var e=E.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var i=t.split("|"),n=i.length;n--;)S.attrHandle[i[n]]=e}function s(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function c(t){return function(e){return"form"in e?e.parentNode&&e.disabled===!1?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&Ct(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function h(t){return n(function(e){return e=+e,n(function(i,n){for(var r,o=t([],i.length,e),s=o.length;s--;)i[r=o[s]]&&(i[r]=!(n[r]=i[r]))})})}function u(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function d(){}function f(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function p(t,e,i){var n=e.dir,r=e.next,o=r||n,s=i&&"parentNode"===o,a=$++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||s)return t(e,i,r);return!1}:function(e,i,l){var c,h,u,d=[F,a];if(l){for(;e=e[n];)if((1===e.nodeType||s)&&t(e,i,l))return!0}else for(;e=e[n];)if(1===e.nodeType||s)if(u=e[W]||(e[W]={}),h=u[e.uniqueID]||(u[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[n]||e;else{if((c=h[o])&&c[0]===F&&c[1]===a)return d[2]=c[2];if(h[o]=d,d[2]=t(e,i,l))return!0}return!1}}function g(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function m(t,i,n){for(var r=0,o=i.length;r<o;r++)e(t,i[r],n);return n}function v(t,e,i,n,r){for(var o,s=[],a=0,l=t.length,c=null!=e;a<l;a++)(o=t[a])&&(i&&!i(o,n,r)||(s.push(o),c&&e.push(a)));return s}function y(t,e,i,r,o,s){return r&&!r[W]&&(r=y(r)),o&&!o[W]&&(o=y(o,s)),n(function(n,s,a,l){var c,h,u,d=[],f=[],p=s.length,g=n||m(e||"*",a.nodeType?[a]:a,[]),y=!t||!n&&e?g:v(g,d,t,a,l),b=i?o||(n?t:p||r)?[]:s:y;if(i&&i(y,b,a,l),r)for(c=v(b,f),r(c,[],a,l),h=c.length;h--;)(u=c[h])&&(b[f[h]]=!(y[f[h]]=u));if(n){if(o||t){if(o){for(c=[],h=b.length;h--;)(u=b[h])&&c.push(y[h]=u);o(null,b=[],c,l)}for(h=b.length;h--;)(u=b[h])&&(c=o?tt(n,u):d[h])>-1&&(n[c]=!(s[c]=u))}}else b=v(b===s?b.splice(p,b.length):b),o?o(null,s,b,l):J.apply(s,b)})}function b(t){for(var e,i,n,r=t.length,o=S.relative[t[0].type],s=o||S.relative[" "],a=o?1:0,l=p(function(t){return t===e},s,!0),c=p(function(t){return tt(e,t)>-1},s,!0),h=[function(t,i,n){var r=!o&&(n||i!==O)||((e=i).nodeType?l(t,i,n):c(t,i,n));return e=null,r}];a<r;a++)if(i=S.relative[t[a].type])h=[p(g(h),i)];else{if(i=S.filter[t[a].type].apply(null,t[a].matches),i[W]){for(n=++a;n<r&&!S.relative[t[n].type];n++);return y(a>1&&g(h),a>1&&f(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),i,a<n&&b(t.slice(a,n)),n<r&&b(t=t.slice(n)),n<r&&f(t))}h.push(i)}return g(h)}function x(t,i){var r=i.length>0,o=t.length>0,s=function(n,s,a,l,c){var h,u,d,f=0,p="0",g=n&&[],m=[],y=O,b=n||o&&S.find.TAG("*",c),x=F+=null==y?1:Math.random()||.1,w=b.length;for(c&&(O=s===E||s||c);p!==w&&null!=(h=b[p]);p++){if(o&&h){for(u=0,s||h.ownerDocument===E||(P(h),a=!I);d=t[u++];)if(d(h,s||E,a)){l.push(h);break}c&&(F=x)}r&&((h=!d&&h)&&f--,n&&g.push(h))}if(f+=p,r&&p!==f){for(u=0;d=i[u++];)d(g,m,s,a);if(n){if(f>0)for(;p--;)g[p]||m[p]||(m[p]=K.call(l));m=v(m)}J.apply(l,m),c&&!n&&m.length>0&&f+i.length>1&&e.uniqueSort(l)}return c&&(F=x,O=y),g};return r?n(s):s}var w,k,S,C,T,M,A,L,O,D,_,P,E,N,I,z,R,H,B,W="sizzle"+1*new Date,j=t.document,F=0,$=0,G=i(),X=i(),Y=i(),q=function(t,e){return t===e&&(_=!0),0},U={}.hasOwnProperty,V=[],K=V.pop,Z=V.push,J=V.push,Q=V.slice,tt=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",rt="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+it+"*\\]",ot=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp(it+"+","g"),at=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),lt=new RegExp("^"+it+"*,"+it+"*"),ct=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ht=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ut=new RegExp(ot),dt=new RegExp("^"+nt+"$"),ft={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),xt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},wt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,kt=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},St=function(){P()},Ct=p(function(t){return t.disabled===!0&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{J.apply(V=Q.call(j.childNodes),j.childNodes),V[j.childNodes.length].nodeType}catch(t){J={apply:V.length?function(t,e){Z.apply(t,Q.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}k=e.support={},T=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},P=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:j;return n!==E&&9===n.nodeType&&n.documentElement?(E=n,N=E.documentElement,I=!T(E),j!==E&&(i=E.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",St,!1):i.attachEvent&&i.attachEvent("onunload",St)),k.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),k.getElementsByTagName=r(function(t){return t.appendChild(E.createComment("")),!t.getElementsByTagName("*").length}),k.getElementsByClassName=mt.test(E.getElementsByClassName),k.getById=r(function(t){return N.appendChild(t).id=W,!E.getElementsByName||!E.getElementsByName(W).length}),k.getById?(S.filter.ID=function(t){var e=t.replace(bt,xt);return function(t){return t.getAttribute("id")===e}},S.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&I){var i=e.getElementById(t);return i?[i]:[]}}):(S.filter.ID=function(t){var e=t.replace(bt,xt);return function(t){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},S.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&I){var i,n,r,o=e.getElementById(t);if(o){if(i=o.getAttributeNode("id"),i&&i.value===t)return[o];for(r=e.getElementsByName(t),n=0;o=r[n++];)if(i=o.getAttributeNode("id"),i&&i.value===t)return[o]}return[]}}),S.find.TAG=k.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):k.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},S.find.CLASS=k.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&I)return e.getElementsByClassName(t)},R=[],z=[],(k.qsa=mt.test(E.querySelectorAll))&&(r(function(t){N.appendChild(t).innerHTML="<a id='"+W+"'></a><select id='"+W+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&z.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||z.push("\\["+it+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+W+"-]").length||z.push("~="),t.querySelectorAll(":checked").length||z.push(":checked"),t.querySelectorAll("a#"+W+"+*").length||z.push(".#.+[+~]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=E.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&z.push("name"+it+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&z.push(":enabled",":disabled"),N.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&z.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),z.push(",.*:")})),(k.matchesSelector=mt.test(H=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&r(function(t){k.disconnectedMatch=H.call(t,"*"),H.call(t,"[s!='']:x"),R.push("!=",ot)}),z=z.length&&new RegExp(z.join("|")),R=R.length&&new RegExp(R.join("|")),e=mt.test(N.compareDocumentPosition),B=e||mt.test(N.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},q=e?function(t,e){if(t===e)return _=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!k.sortDetached&&e.compareDocumentPosition(t)===i?t===E||t.ownerDocument===j&&B(j,t)?-1:e===E||e.ownerDocument===j&&B(j,e)?1:D?tt(D,t)-tt(D,e):0:4&i?-1:1)}:function(t,e){if(t===e)return _=!0,0;var i,n=0,r=t.parentNode,o=e.parentNode,a=[t],l=[e];if(!r||!o)return t===E?-1:e===E?1:r?-1:o?1:D?tt(D,t)-tt(D,e):0;if(r===o)return s(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)l.unshift(i);for(;a[n]===l[n];)n++;return n?s(a[n],l[n]):a[n]===j?-1:l[n]===j?1:0},E):E},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==E&&P(t),i=i.replace(ht,"='$1']"),k.matchesSelector&&I&&!Y[i+" "]&&(!R||!R.test(i))&&(!z||!z.test(i)))try{var n=H.call(t,i);if(n||k.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return e(i,E,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==E&&P(t),B(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==E&&P(t);var i=S.attrHandle[e.toLowerCase()],n=i&&U.call(S.attrHandle,e.toLowerCase())?i(t,e,!I):void 0;return void 0!==n?n:k.attributes||!I?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.escape=function(t){return(t+"").replace(wt,kt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,r=0;if(_=!k.detectDuplicates,D=!k.sortStable&&t.slice(0),t.sort(q),_){for(;e=t[r++];)e===t[r]&&(n=i.push(r));for(;n--;)t.splice(i[n],1)}return D=null,t},C=e.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=C(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=C(e);return i},S=e.selectors={cacheLength:50,createPseudo:n,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,xt),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,xt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ut.test(i)&&(e=M(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,xt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=G[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&G(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(r){var o=e.attr(r,t);return null==o?"!="===i:!i||(o+="","="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o.replace(st," ")+" ").indexOf(n)>-1:"|="===i&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var c,h,u,d,f,p,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(m){if(o){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&y){for(d=m,u=d[W]||(d[W]={}),h=u[d.uniqueID]||(u[d.uniqueID]={}),c=h[t]||[],f=c[0]===F&&c[1],b=f&&c[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(b=f=0)||p.pop();)if(1===d.nodeType&&++b&&d===e){h[t]=[F,f,b];break}}else if(y&&(d=e,u=d[W]||(d[W]={}),h=u[d.uniqueID]||(u[d.uniqueID]={}),c=h[t]||[],f=c[0]===F&&c[1],b=f),b===!1)for(;(d=++f&&d&&d[g]||(b=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&(u=d[W]||(d[W]={}),h=u[d.uniqueID]||(u[d.uniqueID]={}),h[t]=[F,b]),d!==e)););return b-=r,b===n||b%n===0&&b/n>=0}}},PSEUDO:function(t,i){var r,o=S.pseudos[t]||S.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[W]?o(i):o.length>1?(r=[t,t,"",i],S.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,r=o(t,i),s=r.length;s--;)n=tt(t,r[s]),t[n]=!(e[n]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:n(function(t){var e=[],i=[],r=A(t.replace(at,"$1"));return r[W]?n(function(t,e,i,n){for(var o,s=r(t,null,n,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,n,o){return e[0]=t,r(e,null,o,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(bt,xt),function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}}),lang:n(function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(bt,xt).toLowerCase(),function(e){var i;do if(i=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===N},focus:function(t){return t===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:c(!1),disabled:c(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!S.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:h(function(){return[0]}),last:h(function(t,e){return[e-1]}),eq:h(function(t,e,i){return[i<0?i+e:i]}),even:h(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:h(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:h(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:h(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}},S.pseudos.nth=S.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})S.pseudos[w]=l(w);return d.prototype=S.filters=S.pseudos,S.setFilters=new d,M=e.tokenize=function(t,i){var n,r,o,s,a,l,c,h=X[t+" "];if(h)return i?0:h.slice(0);for(a=t,l=[],c=S.preFilter;a;){n&&!(r=lt.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=ct.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(at," ")}),a=a.slice(n.length));for(s in S.filter)!(r=ft[s].exec(a))||c[s]&&!(r=c[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):X(t,l).slice(0)},A=e.compile=function(t,e){var i,n=[],r=[],o=Y[t+" "];if(!o){for(e||(e=M(t)),i=e.length;i--;)o=b(e[i]),o[W]?n.push(o):r.push(o);o=Y(t,x(r,n)),o.selector=t}return o},L=e.select=function(t,e,i,n){var r,o,s,a,l,c="function"==typeof t&&t,h=!n&&M(t=c.selector||t);if(i=i||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&9===e.nodeType&&I&&S.relative[o[1].type]){if(e=(S.find.ID(s.matches[0].replace(bt,xt),e)||[])[0],!e)return i;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ft.needsContext.test(t)?0:o.length;r--&&(s=o[r],!S.relative[a=s.type]);)if((l=S.find[a])&&(n=l(s.matches[0].replace(bt,xt),yt.test(o[0].type)&&u(e.parentNode)||e))){if(o.splice(r,1),t=n.length&&f(o),!t)return J.apply(i,n),i;break}}return(c||A(t,h))(n,e,!I,i,!e||yt.test(t)&&u(e.parentNode)||e),i},k.sortStable=W.split("").sort(q).join("")===W,k.detectDuplicates=!!_,P(),k.sortDetached=r(function(t){return 1&t.compareDocumentPosition(E.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),k.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,i){var n;if(!i)return t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(i);bt.find=Ct,bt.expr=Ct.selectors,bt.expr[":"]=bt.expr.pseudos,bt.uniqueSort=bt.unique=Ct.uniqueSort,bt.text=Ct.getText,bt.isXMLDoc=Ct.isXML,bt.contains=Ct.contains,bt.escapeSelector=Ct.escape;var Tt=function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&bt(t).is(i))break;n.push(t)}return n},Mt=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},At=bt.expr.match.needsContext,Lt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Ot=/^.[^:#\[\.,]*$/;bt.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?bt.find.matchesSelector(n,t)?[n]:[]:bt.find.matches(t,bt.grep(e,function(t){return 1===t.nodeType}))},bt.fn.extend({find:function(t){var e,i,n=this.length,r=this;if("string"!=typeof t)return this.pushStack(bt(t).filter(function(){for(e=0;e<n;e++)if(bt.contains(r[e],this))return!0}));for(i=this.pushStack([]),e=0;e<n;e++)bt.find(t,r[e],i);return n>1?bt.uniqueSort(i):i},filter:function(t){return this.pushStack(c(this,t||[],!1))},not:function(t){return this.pushStack(c(this,t||[],!0))},is:function(t){return!!c(this,"string"==typeof t&&At.test(t)?bt(t):t||[],!1).length}});var Dt,_t=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Pt=bt.fn.init=function(t,e,i){var n,r;if(!t)return this;if(i=i||Dt,"string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:_t.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof bt?e[0]:e,bt.merge(this,bt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:st,!0)),Lt.test(n[1])&&bt.isPlainObject(e))for(n in e)bt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return r=st.getElementById(n[2]),r&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):bt.isFunction(t)?void 0!==i.ready?i.ready(t):t(bt):bt.makeArray(t,this)};Pt.prototype=bt.fn,Dt=bt(st);var Et=/^(?:parents|prev(?:Until|All))/,Nt={children:!0,contents:!0,next:!0,prev:!0};bt.fn.extend({has:function(t){var e=bt(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(bt.contains(this,e[t]))return!0})},closest:function(t,e){var i,n=0,r=this.length,o=[],s="string"!=typeof t&&bt(t);if(!At.test(t))for(;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&bt.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(o.length>1?bt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?ut.call(bt(t),this[0]):ut.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(bt.uniqueSort(bt.merge(this.get(),bt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),bt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Tt(t,"parentNode")},parentsUntil:function(t,e,i){return Tt(t,"parentNode",i)},next:function(t){return h(t,"nextSibling")},prev:function(t){return h(t,"previousSibling")},nextAll:function(t){return Tt(t,"nextSibling")},prevAll:function(t){return Tt(t,"previousSibling")},nextUntil:function(t,e,i){return Tt(t,"nextSibling",i)},prevUntil:function(t,e,i){return Tt(t,"previousSibling",i)},siblings:function(t){return Mt((t.parentNode||{}).firstChild,t)},children:function(t){return Mt(t.firstChild)},contents:function(t){return l(t,"iframe")?t.contentDocument:(l(t,"template")&&(t=t.content||t),bt.merge([],t.childNodes))}},function(t,e){bt.fn[t]=function(i,n){var r=bt.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=bt.filter(n,r)),this.length>1&&(Nt[t]||bt.uniqueSort(r),Et.test(t)&&r.reverse()),this.pushStack(r)}});var It=/[^\x20\t\r\n\f]+/g;bt.Callbacks=function(t){t="string"==typeof t?u(t):bt.extend({},t);var e,i,n,r,o=[],s=[],a=-1,l=function(){for(r=r||t.once,n=e=!0;s.length;a=-1)for(i=s.shift();++a<o.length;)o[a].apply(i[0],i[1])===!1&&t.stopOnFalse&&(a=o.length,i=!1);t.memory||(i=!1),e=!1,r&&(o=i?[]:"")},c={add:function(){return o&&(i&&!e&&(a=o.length-1,s.push(i)),function e(i){bt.each(i,function(i,n){bt.isFunction(n)?t.unique&&c.has(n)||o.push(n):n&&n.length&&"string"!==bt.type(n)&&e(n)})}(arguments),i&&!e&&l()),this},remove:function(){return bt.each(arguments,function(t,e){for(var i;(i=bt.inArray(e,o,i))>-1;)o.splice(i,1),i<=a&&a--}),this},has:function(t){return t?bt.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=i="",this},disabled:function(){return!o},lock:function(){return r=s=[],i||e||(o=i=""),this},locked:function(){return!!r},fireWith:function(t,i){return r||(i=i||[],i=[t,i.slice?i.slice():i],s.push(i),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},bt.extend({Deferred:function(t){var e=[["notify","progress",bt.Callbacks("memory"),bt.Callbacks("memory"),2],["resolve","done",bt.Callbacks("once memory"),bt.Callbacks("once memory"),0,"resolved"],["reject","fail",bt.Callbacks("once memory"),bt.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return bt.Deferred(function(i){bt.each(e,function(e,n){var r=bt.isFunction(t[n[4]])&&t[n[4]];o[n[1]](function(){var t=r&&r.apply(this,arguments);t&&bt.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[n[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,n,r){function o(t,e,n,r){return function(){var a=this,l=arguments,c=function(){var i,c;if(!(t<s)){if(i=n.apply(a,l),i===e.promise())throw new TypeError("Thenable self-resolution");c=i&&("object"==typeof i||"function"==typeof i)&&i.then,bt.isFunction(c)?r?c.call(i,o(s,e,d,r),o(s,e,f,r)):(s++,c.call(i,o(s,e,d,r),o(s,e,f,r),o(s,e,d,e.notifyWith))):(n!==d&&(a=void 0,l=[i]),(r||e.resolveWith)(a,l))}},h=r?c:function(){try{c()}catch(i){bt.Deferred.exceptionHook&&bt.Deferred.exceptionHook(i,h.stackTrace),t+1>=s&&(n!==f&&(a=void 0,l=[i]),e.rejectWith(a,l))}};t?h():(bt.Deferred.getStackHook&&(h.stackTrace=bt.Deferred.getStackHook()),i.setTimeout(h))}}var s=0;return bt.Deferred(function(i){e[0][3].add(o(0,i,bt.isFunction(r)?r:d,i.notifyWith)),e[1][3].add(o(0,i,bt.isFunction(t)?t:d)),e[2][3].add(o(0,i,bt.isFunction(n)?n:f))}).promise()},promise:function(t){return null!=t?bt.extend(t,r):r}},o={};return bt.each(e,function(t,i){var s=i[2],a=i[5];r[i[1]]=s.add,a&&s.add(function(){n=a},e[3-t][2].disable,e[0][2].lock),s.add(i[3].fire),o[i[0]]=function(){return o[i[0]+"With"](this===o?void 0:this,arguments),this},o[i[0]+"With"]=s.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,i=e,n=Array(i),r=lt.call(arguments),o=bt.Deferred(),s=function(t){return function(i){n[t]=this,r[t]=arguments.length>1?lt.call(arguments):i,--e||o.resolveWith(n,r)}};if(e<=1&&(p(t,o.done(s(i)).resolve,o.reject,!e),"pending"===o.state()||bt.isFunction(r[i]&&r[i].then)))return o.then();for(;i--;)p(r[i],s(i),o.reject);return o.promise()}});var zt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;bt.Deferred.exceptionHook=function(t,e){i.console&&i.console.warn&&t&&zt.test(t.name)&&i.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},bt.readyException=function(t){i.setTimeout(function(){throw t})};var Rt=bt.Deferred();bt.fn.ready=function(t){return Rt.then(t).catch(function(t){bt.readyException(t)}),this},bt.extend({isReady:!1,readyWait:1,ready:function(t){(t===!0?--bt.readyWait:bt.isReady)||(bt.isReady=!0,t!==!0&&--bt.readyWait>0||Rt.resolveWith(st,[bt]))}}),bt.ready.then=Rt.then,"complete"===st.readyState||"loading"!==st.readyState&&!st.documentElement.doScroll?i.setTimeout(bt.ready):(st.addEventListener("DOMContentLoaded",g),i.addEventListener("load",g));var Ht=function(t,e,i,n,r,o,s){var a=0,l=t.length,c=null==i;if("object"===bt.type(i)){r=!0;for(a in i)Ht(t,e,a,i[a],!0,o,s)}else if(void 0!==n&&(r=!0,bt.isFunction(n)||(s=!0),c&&(s?(e.call(t,n),e=null):(c=e,e=function(t,e,i){return c.call(bt(t),i)})),e))for(;a<l;a++)e(t[a],i,s?n:n.call(t[a],a,e(t[a],i)));return r?t:c?e.call(t):l?e(t[0],i):o},Bt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};m.uid=1,m.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Bt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,r=this.cache(t);if("string"==typeof e)r[bt.camelCase(e)]=i;else for(n in e)r[bt.camelCase(n)]=e[n];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][bt.camelCase(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){Array.isArray(e)?e=e.map(bt.camelCase):(e=bt.camelCase(e),e=e in n?[e]:e.match(It)||[]),i=e.length;for(;i--;)delete n[e[i]]}(void 0===e||bt.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!bt.isEmptyObject(e)}};var Wt=new m,jt=new m,Ft=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$t=/[A-Z]/g;bt.extend({hasData:function(t){return jt.hasData(t)||Wt.hasData(t)},data:function(t,e,i){return jt.access(t,e,i)},removeData:function(t,e){jt.remove(t,e)},_data:function(t,e,i){return Wt.access(t,e,i)},_removeData:function(t,e){Wt.remove(t,e)}}),bt.fn.extend({data:function(t,e){var i,n,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=jt.get(o),1===o.nodeType&&!Wt.get(o,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&(n=s[i].name,0===n.indexOf("data-")&&(n=bt.camelCase(n.slice(5)),y(o,n,r[n])));Wt.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){jt.set(this,t)}):Ht(this,function(e){var i;if(o&&void 0===e){if(i=jt.get(o,t),void 0!==i)return i;if(i=y(o,t),void 0!==i)return i}else this.each(function(){jt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){jt.remove(this,t)})}}),bt.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=Wt.get(t,e),i&&(!n||Array.isArray(i)?n=Wt.access(t,e,bt.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=bt.queue(t,e),n=i.length,r=i.shift(),o=bt._queueHooks(t,e),s=function(){bt.dequeue(t,e)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return Wt.get(t,i)||Wt.access(t,i,{empty:bt.Callbacks("once memory").add(function(){Wt.remove(t,[e+"queue",i])})})}}),bt.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?bt.queue(this[0],t):void 0===e?this:this.each(function(){var i=bt.queue(this,t,e);bt._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&bt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){bt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=bt.Deferred(),o=this,s=this.length,a=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)i=Wt.get(o[s],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(e)}});var Gt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Xt=new RegExp("^(?:([+-])=|)("+Gt+")([a-z%]*)$","i"),Yt=["Top","Right","Bottom","Left"],qt=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&bt.contains(t.ownerDocument,t)&&"none"===bt.css(t,"display")},Ut=function(t,e,i,n){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=i.apply(t,n||[]);for(o in e)t.style[o]=s[o];return r},Vt={};bt.fn.extend({show:function(){return w(this,!0)},hide:function(){return w(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){qt(this)?bt(this).show():bt(this).hide()})}});var Kt=/^(?:checkbox|radio)$/i,Zt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Jt=/^$|\/(?:java|ecma)script/i,Qt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Qt.optgroup=Qt.option,Qt.tbody=Qt.tfoot=Qt.colgroup=Qt.caption=Qt.thead,
Qt.th=Qt.td;var te=/<|&#?\w+;/;!function(){var t=st.createDocumentFragment(),e=t.appendChild(st.createElement("div")),i=st.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),vt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",vt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var ee=st.documentElement,ie=/^key/,ne=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,re=/^([^.]*)(?:\.(.+)|)/;bt.event={global:{},add:function(t,e,i,n,r){var o,s,a,l,c,h,u,d,f,p,g,m=Wt.get(t);if(m)for(i.handler&&(o=i,i=o.handler,r=o.selector),r&&bt.find.matchesSelector(ee,r),i.guid||(i.guid=bt.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(e){return"undefined"!=typeof bt&&bt.event.triggered!==e.type?bt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(It)||[""],c=e.length;c--;)a=re.exec(e[c])||[],f=g=a[1],p=(a[2]||"").split(".").sort(),f&&(u=bt.event.special[f]||{},f=(r?u.delegateType:u.bindType)||f,u=bt.event.special[f]||{},h=bt.extend({type:f,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&bt.expr.match.needsContext.test(r),namespace:p.join(".")},o),(d=l[f])||(d=l[f]=[],d.delegateCount=0,u.setup&&u.setup.call(t,n,p,s)!==!1||t.addEventListener&&t.addEventListener(f,s)),u.add&&(u.add.call(t,h),h.handler.guid||(h.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,h):d.push(h),bt.event.global[f]=!0)},remove:function(t,e,i,n,r){var o,s,a,l,c,h,u,d,f,p,g,m=Wt.hasData(t)&&Wt.get(t);if(m&&(l=m.events)){for(e=(e||"").match(It)||[""],c=e.length;c--;)if(a=re.exec(e[c])||[],f=g=a[1],p=(a[2]||"").split(".").sort(),f){for(u=bt.event.special[f]||{},f=(n?u.delegateType:u.bindType)||f,d=l[f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)h=d[o],!r&&g!==h.origType||i&&i.guid!==h.guid||a&&!a.test(h.namespace)||n&&n!==h.selector&&("**"!==n||!h.selector)||(d.splice(o,1),h.selector&&d.delegateCount--,u.remove&&u.remove.call(t,h));s&&!d.length&&(u.teardown&&u.teardown.call(t,p,m.handle)!==!1||bt.removeEvent(t,f,m.handle),delete l[f])}else for(f in l)bt.event.remove(t,f+e[c],i,n,!0);bt.isEmptyObject(l)&&Wt.remove(t,"handle events")}},dispatch:function(t){var e,i,n,r,o,s,a=bt.event.fix(t),l=new Array(arguments.length),c=(Wt.get(this,"events")||{})[a.type]||[],h=bt.event.special[a.type]||{};for(l[0]=a,e=1;e<arguments.length;e++)l[e]=arguments[e];if(a.delegateTarget=this,!h.preDispatch||h.preDispatch.call(this,a)!==!1){for(s=bt.event.handlers.call(this,a,c),e=0;(r=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,i=0;(o=r.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,n=((bt.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l),void 0!==n&&(a.result=n)===!1&&(a.preventDefault(),a.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,a),a.result}},handlers:function(t,e){var i,n,r,o,s,a=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||c.disabled!==!0)){for(o=[],s={},i=0;i<l;i++)n=e[i],r=n.selector+" ",void 0===s[r]&&(s[r]=n.needsContext?bt(r,this).index(c)>-1:bt.find(r,this,null,[c]).length),s[r]&&o.push(n);o.length&&a.push({elem:c,handlers:o})}return c=this,l<e.length&&a.push({elem:c,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(bt.Event.prototype,t,{enumerable:!0,configurable:!0,get:bt.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[bt.expando]?t:new bt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==A()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===A()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&l(this,"input"))return this.click(),!1},_default:function(t){return l(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},bt.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},bt.Event=function(t,e){return this instanceof bt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?T:M,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&bt.extend(this,e),this.timeStamp=t&&t.timeStamp||bt.now(),void(this[bt.expando]=!0)):new bt.Event(t,e)},bt.Event.prototype={constructor:bt.Event,isDefaultPrevented:M,isPropagationStopped:M,isImmediatePropagationStopped:M,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=T,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=T,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=T,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},bt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&ie.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&ne.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},bt.event.addProp),bt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){bt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===n||bt.contains(n,r))||(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}}),bt.fn.extend({on:function(t,e,i,n){return L(this,t,e,i,n)},one:function(t,e,i,n){return L(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,bt(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(i=e,e=void 0),i===!1&&(i=M),this.each(function(){bt.event.remove(this,t,i,e)})}});var oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,se=/<script|<style|<link/i,ae=/checked\s*(?:[^=]|=\s*.checked.)/i,le=/^true\/(.*)/,ce=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;bt.extend({htmlPrefilter:function(t){return t.replace(oe,"<$1></$2>")},clone:function(t,e,i){var n,r,o,s,a=t.cloneNode(!0),l=bt.contains(t.ownerDocument,t);if(!(vt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||bt.isXMLDoc(t)))for(s=k(a),o=k(t),n=0,r=o.length;n<r;n++)E(o[n],s[n]);if(e)if(i)for(o=o||k(t),s=s||k(a),n=0,r=o.length;n<r;n++)P(o[n],s[n]);else P(t,a);return s=k(a,"script"),s.length>0&&S(s,!l&&k(t,"script")),a},cleanData:function(t){for(var e,i,n,r=bt.event.special,o=0;void 0!==(i=t[o]);o++)if(Bt(i)){if(e=i[Wt.expando]){if(e.events)for(n in e.events)r[n]?bt.event.remove(i,n):bt.removeEvent(i,n,e.handle);i[Wt.expando]=void 0}i[jt.expando]&&(i[jt.expando]=void 0)}}}),bt.fn.extend({detach:function(t){return I(this,t,!0)},remove:function(t){return I(this,t)},text:function(t){return Ht(this,function(t){return void 0===t?bt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return N(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=O(this,t);e.appendChild(t)}})},prepend:function(){return N(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=O(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return N(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return N(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(bt.cleanData(k(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return bt.clone(this,t,e)})},html:function(t){return Ht(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!se.test(t)&&!Qt[(Zt.exec(t)||["",""])[1].toLowerCase()]){t=bt.htmlPrefilter(t);try{for(;i<n;i++)e=this[i]||{},1===e.nodeType&&(bt.cleanData(k(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return N(this,arguments,function(e){var i=this.parentNode;bt.inArray(this,t)<0&&(bt.cleanData(k(this)),i&&i.replaceChild(e,this))},t)}}),bt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){bt.fn[t]=function(t){for(var i,n=[],r=bt(t),o=r.length-1,s=0;s<=o;s++)i=s===o?this:this.clone(!0),bt(r[s])[e](i),ht.apply(n,i.get());return this.pushStack(n)}});var he=/^margin/,ue=new RegExp("^("+Gt+")(?!px)[a-z%]+$","i"),de=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=i),e.getComputedStyle(t)};!function(){function t(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",ee.appendChild(s);var t=i.getComputedStyle(a);e="1%"!==t.top,o="2px"===t.marginLeft,n="4px"===t.width,a.style.marginRight="50%",r="4px"===t.marginRight,ee.removeChild(s),a=null}}var e,n,r,o,s=st.createElement("div"),a=st.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",vt.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),bt.extend(vt,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return t(),n},pixelMarginRight:function(){return t(),r},reliableMarginLeft:function(){return t(),o}}))}();var fe=/^(none|table(?!-c[ea]).+)/,pe=/^--/,ge={position:"absolute",visibility:"hidden",display:"block"},me={letterSpacing:"0",fontWeight:"400"},ve=["Webkit","Moz","ms"],ye=st.createElement("div").style;bt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=z(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=bt.camelCase(e),l=pe.test(e),c=t.style;return l||(e=B(a)),s=bt.cssHooks[e]||bt.cssHooks[a],void 0===i?s&&"get"in s&&void 0!==(r=s.get(t,!1,n))?r:c[e]:(o=typeof i,"string"===o&&(r=Xt.exec(i))&&r[1]&&(i=b(t,e,r),o="number"),null!=i&&i===i&&("number"===o&&(i+=r&&r[3]||(bt.cssNumber[a]?"":"px")),vt.clearCloneStyle||""!==i||0!==e.indexOf("background")||(c[e]="inherit"),s&&"set"in s&&void 0===(i=s.set(t,i,n))||(l?c.setProperty(e,i):c[e]=i)),void 0)}},css:function(t,e,i,n){var r,o,s,a=bt.camelCase(e),l=pe.test(e);return l||(e=B(a)),s=bt.cssHooks[e]||bt.cssHooks[a],s&&"get"in s&&(r=s.get(t,!0,i)),void 0===r&&(r=z(t,e,n)),"normal"===r&&e in me&&(r=me[e]),""===i||i?(o=parseFloat(r),i===!0||isFinite(o)?o||0:r):r}}),bt.each(["height","width"],function(t,e){bt.cssHooks[e]={get:function(t,i,n){if(i)return!fe.test(bt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?F(t,e,n):Ut(t,ge,function(){return F(t,e,n)})},set:function(t,i,n){var r,o=n&&de(t),s=n&&j(t,e,n,"border-box"===bt.css(t,"boxSizing",!1,o),o);return s&&(r=Xt.exec(i))&&"px"!==(r[3]||"px")&&(t.style[e]=i,i=bt.css(t,e)),W(t,i,s)}}}),bt.cssHooks.marginLeft=R(vt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(z(t,"marginLeft"))||t.getBoundingClientRect().left-Ut(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),bt.each({margin:"",padding:"",border:"Width"},function(t,e){bt.cssHooks[t+e]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];n<4;n++)r[t+Yt[n]+e]=o[n]||o[n-2]||o[0];return r}},he.test(t)||(bt.cssHooks[t+e].set=W)}),bt.fn.extend({css:function(t,e){return Ht(this,function(t,e,i){var n,r,o={},s=0;if(Array.isArray(e)){for(n=de(t),r=e.length;s<r;s++)o[e[s]]=bt.css(t,e[s],!1,n);return o}return void 0!==i?bt.style(t,e,i):bt.css(t,e)},t,e,arguments.length>1)}}),bt.Tween=$,$.prototype={constructor:$,init:function(t,e,i,n,r,o){this.elem=t,this.prop=i,this.easing=r||bt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(bt.cssNumber[i]?"":"px")},cur:function(){var t=$.propHooks[this.prop];return t&&t.get?t.get(this):$.propHooks._default.get(this)},run:function(t){var e,i=$.propHooks[this.prop];return this.options.duration?this.pos=e=bt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):$.propHooks._default.set(this),this}},$.prototype.init.prototype=$.prototype,$.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=bt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){bt.fx.step[t.prop]?bt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[bt.cssProps[t.prop]]&&!bt.cssHooks[t.prop]?t.elem[t.prop]=t.now:bt.style(t.elem,t.prop,t.now+t.unit)}}},$.propHooks.scrollTop=$.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},bt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},bt.fx=$.prototype.init,bt.fx.step={};var be,xe,we=/^(?:toggle|show|hide)$/,ke=/queueHooks$/;bt.Animation=bt.extend(K,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return b(i.elem,t,Xt.exec(e),i),i}]},tweener:function(t,e){bt.isFunction(t)?(e=t,t=["*"]):t=t.match(It);for(var i,n=0,r=t.length;n<r;n++)i=t[n],K.tweeners[i]=K.tweeners[i]||[],K.tweeners[i].unshift(e)},prefilters:[U],prefilter:function(t,e){e?K.prefilters.unshift(t):K.prefilters.push(t)}}),bt.speed=function(t,e,i){var n=t&&"object"==typeof t?bt.extend({},t):{complete:i||!i&&e||bt.isFunction(t)&&t,duration:t,easing:i&&e||e&&!bt.isFunction(e)&&e};return bt.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in bt.fx.speeds?n.duration=bt.fx.speeds[n.duration]:n.duration=bt.fx.speeds._default),null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){bt.isFunction(n.old)&&n.old.call(this),n.queue&&bt.dequeue(this,n.queue)},n},bt.fn.extend({fadeTo:function(t,e,i,n){return this.filter(qt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=bt.isEmptyObject(t),o=bt.speed(e,i,n),s=function(){var e=K(this,bt.extend({},t),o);(r||Wt.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=bt.timers,s=Wt.get(this);if(r)s[r]&&s[r].stop&&n(s[r]);else for(r in s)s[r]&&s[r].stop&&ke.test(r)&&n(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(i),e=!1,o.splice(r,1));!e&&i||bt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=Wt.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],o=bt.timers,s=n?n.length:0;for(i.finish=!0,bt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),bt.each(["toggle","show","hide"],function(t,e){var i=bt.fn[e];bt.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(Y(e,!0),t,n,r)}}),bt.each({slideDown:Y("show"),slideUp:Y("hide"),slideToggle:Y("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){bt.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),bt.timers=[],bt.fx.tick=function(){var t,e=0,i=bt.timers;for(be=bt.now();e<i.length;e++)t=i[e],t()||i[e]!==t||i.splice(e--,1);i.length||bt.fx.stop(),be=void 0},bt.fx.timer=function(t){bt.timers.push(t),bt.fx.start()},bt.fx.interval=13,bt.fx.start=function(){xe||(xe=!0,G())},bt.fx.stop=function(){xe=null},bt.fx.speeds={slow:600,fast:200,_default:400},bt.fn.delay=function(t,e){return t=bt.fx?bt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=i.setTimeout(e,t);n.stop=function(){i.clearTimeout(r)}})},function(){var t=st.createElement("input"),e=st.createElement("select"),i=e.appendChild(st.createElement("option"));t.type="checkbox",vt.checkOn=""!==t.value,vt.optSelected=i.selected,t=st.createElement("input"),t.value="t",t.type="radio",vt.radioValue="t"===t.value}();var Se,Ce=bt.expr.attrHandle;bt.fn.extend({attr:function(t,e){return Ht(this,bt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){bt.removeAttr(this,t)})}}),bt.extend({attr:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?bt.prop(t,e,i):(1===o&&bt.isXMLDoc(t)||(r=bt.attrHooks[e.toLowerCase()]||(bt.expr.match.bool.test(e)?Se:void 0)),void 0!==i?null===i?void bt.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):r&&"get"in r&&null!==(n=r.get(t,e))?n:(n=bt.find.attr(t,e),null==n?void 0:n))},attrHooks:{type:{set:function(t,e){if(!vt.radioValue&&"radio"===e&&l(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,r=e&&e.match(It);if(r&&1===t.nodeType)for(;i=r[n++];)t.removeAttribute(i)}}),Se={set:function(t,e,i){return e===!1?bt.removeAttr(t,i):t.setAttribute(i,i),i}},bt.each(bt.expr.match.bool.source.match(/\w+/g),function(t,e){var i=Ce[e]||bt.find.attr;Ce[e]=function(t,e,n){var r,o,s=e.toLowerCase();return n||(o=Ce[s],Ce[s]=r,r=null!=i(t,e,n)?s:null,Ce[s]=o),r}});var Te=/^(?:input|select|textarea|button)$/i,Me=/^(?:a|area)$/i;bt.fn.extend({prop:function(t,e){return Ht(this,bt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[bt.propFix[t]||t]})}}),bt.extend({prop:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&bt.isXMLDoc(t)||(e=bt.propFix[e]||e,r=bt.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=bt.find.attr(t,"tabindex");return e?parseInt(e,10):Te.test(t.nodeName)||Me.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),vt.optSelected||(bt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),bt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){bt.propFix[this.toLowerCase()]=this}),bt.fn.extend({addClass:function(t){var e,i,n,r,o,s,a,l=0;if(bt.isFunction(t))return this.each(function(e){bt(this).addClass(t.call(this,e,J(this)))});if("string"==typeof t&&t)for(e=t.match(It)||[];i=this[l++];)if(r=J(i),n=1===i.nodeType&&" "+Z(r)+" "){for(s=0;o=e[s++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");a=Z(n),r!==a&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,n,r,o,s,a,l=0;if(bt.isFunction(t))return this.each(function(e){bt(this).removeClass(t.call(this,e,J(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(It)||[];i=this[l++];)if(r=J(i),n=1===i.nodeType&&" "+Z(r)+" "){for(s=0;o=e[s++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");a=Z(n),r!==a&&i.setAttribute("class",a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):bt.isFunction(t)?this.each(function(i){bt(this).toggleClass(t.call(this,i,J(this),e),e)}):this.each(function(){var e,n,r,o;if("string"===i)for(n=0,r=bt(this),o=t.match(It)||[];e=o[n++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==i||(e=J(this),e&&Wt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":Wt.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+Z(J(i))+" ").indexOf(e)>-1)return!0;return!1}});var Ae=/\r/g;bt.fn.extend({val:function(t){var e,i,n,r=this[0];{if(arguments.length)return n=bt.isFunction(t),this.each(function(i){var r;1===this.nodeType&&(r=n?t.call(this,i,bt(this).val()):t,null==r?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=bt.map(r,function(t){return null==t?"":t+""})),e=bt.valHooks[this.type]||bt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=bt.valHooks[r.type]||bt.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(Ae,""):null==i?"":i)}}}),bt.extend({valHooks:{option:{get:function(t){var e=bt.find.attr(t,"value");return null!=e?e:Z(bt.text(t))}},select:{get:function(t){var e,i,n,r=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],c=s?o+1:r.length;for(n=o<0?c:s?o:0;n<c;n++)if(i=r[n],(i.selected||n===o)&&!i.disabled&&(!i.parentNode.disabled||!l(i.parentNode,"optgroup"))){if(e=bt(i).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var i,n,r=t.options,o=bt.makeArray(e),s=r.length;s--;)n=r[s],(n.selected=bt.inArray(bt.valHooks.option.get(n),o)>-1)&&(i=!0);return i||(t.selectedIndex=-1),o}}}}),bt.each(["radio","checkbox"],function(){bt.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=bt.inArray(bt(t).val(),e)>-1}},vt.checkOn||(bt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Le=/^(?:focusinfocus|focusoutblur)$/;bt.extend(bt.event,{trigger:function(t,e,n,r){var o,s,a,l,c,h,u,d=[n||st],f=pt.call(t,"type")?t.type:t,p=pt.call(t,"namespace")?t.namespace.split("."):[];if(s=a=n=n||st,3!==n.nodeType&&8!==n.nodeType&&!Le.test(f+bt.event.triggered)&&(f.indexOf(".")>-1&&(p=f.split("."),f=p.shift(),p.sort()),c=f.indexOf(":")<0&&"on"+f,t=t[bt.expando]?t:new bt.Event(f,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:bt.makeArray(e,[t]),u=bt.event.special[f]||{},r||!u.trigger||u.trigger.apply(n,e)!==!1)){if(!r&&!u.noBubble&&!bt.isWindow(n)){for(l=u.delegateType||f,Le.test(l+f)||(s=s.parentNode);s;s=s.parentNode)d.push(s),a=s;a===(n.ownerDocument||st)&&d.push(a.defaultView||a.parentWindow||i)}for(o=0;(s=d[o++])&&!t.isPropagationStopped();)t.type=o>1?l:u.bindType||f,h=(Wt.get(s,"events")||{})[t.type]&&Wt.get(s,"handle"),h&&h.apply(s,e),h=c&&s[c],h&&h.apply&&Bt(s)&&(t.result=h.apply(s,e),t.result===!1&&t.preventDefault());return t.type=f,r||t.isDefaultPrevented()||u._default&&u._default.apply(d.pop(),e)!==!1||!Bt(n)||c&&bt.isFunction(n[f])&&!bt.isWindow(n)&&(a=n[c],a&&(n[c]=null),bt.event.triggered=f,n[f](),bt.event.triggered=void 0,a&&(n[c]=a)),t.result}},simulate:function(t,e,i){var n=bt.extend(new bt.Event,i,{type:t,isSimulated:!0});bt.event.trigger(n,null,e)}}),bt.fn.extend({trigger:function(t,e){return this.each(function(){bt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return bt.event.trigger(t,e,i,!0)}}),bt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){bt.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),bt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),vt.focusin="onfocusin"in i,vt.focusin||bt.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){bt.event.simulate(e,t.target,bt.event.fix(t))};bt.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=Wt.access(n,e);r||n.addEventListener(t,i,!0),Wt.access(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=Wt.access(n,e)-1;r?Wt.access(n,e,r):(n.removeEventListener(t,i,!0),Wt.remove(n,e))}}});var Oe=i.location,De=bt.now(),_e=/\?/;bt.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new i.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||bt.error("Invalid XML: "+t),e};var Pe=/\[\]$/,Ee=/\r?\n/g,Ne=/^(?:submit|button|image|reset|file)$/i,Ie=/^(?:input|select|textarea|keygen)/i;bt.param=function(t,e){var i,n=[],r=function(t,e){var i=bt.isFunction(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(t)||t.jquery&&!bt.isPlainObject(t))bt.each(t,function(){r(this.name,this.value)});else for(i in t)Q(i,t[i],e,r);return n.join("&")},bt.fn.extend({serialize:function(){return bt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=bt.prop(this,"elements");return t?bt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!bt(this).is(":disabled")&&Ie.test(this.nodeName)&&!Ne.test(t)&&(this.checked||!Kt.test(t))}).map(function(t,e){var i=bt(this).val();return null==i?null:Array.isArray(i)?bt.map(i,function(t){return{name:e.name,value:t.replace(Ee,"\r\n")}}):{name:e.name,value:i.replace(Ee,"\r\n")}}).get()}});var ze=/%20/g,Re=/#.*$/,He=/([?&])_=[^&]*/,Be=/^(.*?):[ \t]*([^\r\n]*)$/gm,We=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,je=/^(?:GET|HEAD)$/,Fe=/^\/\//,$e={},Ge={},Xe="*/".concat("*"),Ye=st.createElement("a");Ye.href=Oe.href,bt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Oe.href,type:"GET",isLocal:We.test(Oe.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":bt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?it(it(t,bt.ajaxSettings),e):it(bt.ajaxSettings,t)},ajaxPrefilter:tt($e),ajaxTransport:tt(Ge),ajax:function(t,e){function n(t,e,n,a){var c,d,f,x,w,k=e;h||(h=!0,l&&i.clearTimeout(l),r=void 0,s=a||"",S.readyState=t>0?4:0,c=t>=200&&t<300||304===t,n&&(x=nt(p,S,n)),x=rt(p,x,S,c),c?(p.ifModified&&(w=S.getResponseHeader("Last-Modified"),w&&(bt.lastModified[o]=w),w=S.getResponseHeader("etag"),w&&(bt.etag[o]=w)),204===t||"HEAD"===p.type?k="nocontent":304===t?k="notmodified":(k=x.state,d=x.data,f=x.error,c=!f)):(f=k,!t&&k||(k="error",t<0&&(t=0))),S.status=t,S.statusText=(e||k)+"",c?v.resolveWith(g,[d,k,S]):v.rejectWith(g,[S,k,f]),S.statusCode(b),b=void 0,u&&m.trigger(c?"ajaxSuccess":"ajaxError",[S,p,c?d:f]),y.fireWith(g,[S,k]),u&&(m.trigger("ajaxComplete",[S,p]),--bt.active||bt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,o,s,a,l,c,h,u,d,f,p=bt.ajaxSetup({},e),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?bt(g):bt.event,v=bt.Deferred(),y=bt.Callbacks("once memory"),b=p.statusCode||{},x={},w={},k="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(h){if(!a)for(a={};e=Be.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return h?s:null},setRequestHeader:function(t,e){return null==h&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,x[t]=e),this},overrideMimeType:function(t){return null==h&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(h)S.always(t[S.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||k;return r&&r.abort(e),n(0,e),this}};if(v.promise(S),p.url=((t||p.url||Oe.href)+"").replace(Fe,Oe.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(It)||[""],null==p.crossDomain){c=st.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=Ye.protocol+"//"+Ye.host!=c.protocol+"//"+c.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=bt.param(p.data,p.traditional)),et($e,p,e,S),h)return S;u=bt.event&&p.global,u&&0===bt.active++&&bt.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!je.test(p.type),o=p.url.replace(Re,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(ze,"+")):(f=p.url.slice(o.length),p.data&&(o+=(_e.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(o=o.replace(He,"$1"),f=(_e.test(o)?"&":"?")+"_="+De++ +f),p.url=o+f),p.ifModified&&(bt.lastModified[o]&&S.setRequestHeader("If-Modified-Since",bt.lastModified[o]),bt.etag[o]&&S.setRequestHeader("If-None-Match",bt.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||e.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Xe+"; q=0.01":""):p.accepts["*"]);for(d in p.headers)S.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(p.beforeSend.call(g,S,p)===!1||h))return S.abort();if(k="abort",y.add(p.complete),S.done(p.success),S.fail(p.error),r=et(Ge,p,e,S)){if(S.readyState=1,u&&m.trigger("ajaxSend",[S,p]),h)return S;p.async&&p.timeout>0&&(l=i.setTimeout(function(){S.abort("timeout")},p.timeout));try{h=!1,r.send(x,n)}catch(t){if(h)throw t;n(-1,t)}}else n(-1,"No Transport");return S},getJSON:function(t,e,i){return bt.get(t,e,i,"json")},getScript:function(t,e){return bt.get(t,void 0,e,"script")}}),bt.each(["get","post"],function(t,e){bt[e]=function(t,i,n,r){return bt.isFunction(i)&&(r=r||n,n=i,i=void 0),bt.ajax(bt.extend({url:t,type:e,dataType:r,data:i,success:n},bt.isPlainObject(t)&&t))}}),bt._evalUrl=function(t){return bt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},bt.fn.extend({wrapAll:function(t){var e;return this[0]&&(bt.isFunction(t)&&(t=t.call(this[0])),e=bt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return bt.isFunction(t)?this.each(function(e){bt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=bt(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=bt.isFunction(t);return this.each(function(i){bt(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){bt(this).replaceWith(this.childNodes)}),this}}),bt.expr.pseudos.hidden=function(t){return!bt.expr.pseudos.visible(t)},bt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length);
},bt.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(t){}};var qe={0:200,1223:204},Ue=bt.ajaxSettings.xhr();vt.cors=!!Ue&&"withCredentials"in Ue,vt.ajax=Ue=!!Ue,bt.ajaxTransport(function(t){var e,n;if(vt.cors||Ue&&!t.crossDomain)return{send:function(r,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(s in r)a.setRequestHeader(s,r[s]);e=function(t){return function(){e&&(e=n=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(qe[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),n=a.onerror=e("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&i.setTimeout(function(){e&&n()})},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),bt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),bt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return bt.globalEval(t),t}}}),bt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),bt.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,r){e=bt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&r("error"===t.type?404:200,t.type)}),st.head.appendChild(e[0])},abort:function(){i&&i()}}}});var Ve=[],Ke=/(=)\?(?=&|$)|\?\?/;bt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ve.pop()||bt.expando+"_"+De++;return this[t]=!0,t}}),bt.ajaxPrefilter("json jsonp",function(t,e,n){var r,o,s,a=t.jsonp!==!1&&(Ke.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ke.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=bt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Ke,"$1"+r):t.jsonp!==!1&&(t.url+=(_e.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||bt.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=i[r],i[r]=function(){s=arguments},n.always(function(){void 0===o?bt(i).removeProp(r):i[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,Ve.push(r)),s&&bt.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),vt.createHTMLDocument=function(){var t=st.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),bt.parseHTML=function(t,e,i){if("string"!=typeof t)return[];"boolean"==typeof e&&(i=e,e=!1);var n,r,o;return e||(vt.createHTMLDocument?(e=st.implementation.createHTMLDocument(""),n=e.createElement("base"),n.href=st.location.href,e.head.appendChild(n)):e=st),r=Lt.exec(t),o=!i&&[],r?[e.createElement(r[1])]:(r=C([t],e,o),o&&o.length&&bt(o).remove(),bt.merge([],r.childNodes))},bt.fn.load=function(t,e,i){var n,r,o,s=this,a=t.indexOf(" ");return a>-1&&(n=Z(t.slice(a)),t=t.slice(0,a)),bt.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&bt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(n?bt("<div>").append(bt.parseHTML(t)).find(n):t)}).always(i&&function(t,e){s.each(function(){i.apply(this,o||[t.responseText,e,t])})}),this},bt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){bt.fn[e]=function(t){return this.on(e,t)}}),bt.expr.pseudos.animated=function(t){return bt.grep(bt.timers,function(e){return t===e.elem}).length},bt.offset={setOffset:function(t,e,i){var n,r,o,s,a,l,c,h=bt.css(t,"position"),u=bt(t),d={};"static"===h&&(t.style.position="relative"),a=u.offset(),o=bt.css(t,"top"),l=bt.css(t,"left"),c=("absolute"===h||"fixed"===h)&&(o+l).indexOf("auto")>-1,c?(n=u.position(),s=n.top,r=n.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),bt.isFunction(e)&&(e=e.call(t,i,bt.extend({},a))),null!=e.top&&(d.top=e.top-a.top+s),null!=e.left&&(d.left=e.left-a.left+r),"using"in e?e.using.call(t,d):u.css(d)}},bt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){bt.offset.setOffset(this,t,e)});var e,i,n,r,o=this[0];if(o)return o.getClientRects().length?(n=o.getBoundingClientRect(),e=o.ownerDocument,i=e.documentElement,r=e.defaultView,{top:n.top+r.pageYOffset-i.clientTop,left:n.left+r.pageXOffset-i.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===bt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),l(t[0],"html")||(n=t.offset()),n={top:n.top+bt.css(t[0],"borderTopWidth",!0),left:n.left+bt.css(t[0],"borderLeftWidth",!0)}),{top:e.top-n.top-bt.css(i,"marginTop",!0),left:e.left-n.left-bt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===bt.css(t,"position");)t=t.offsetParent;return t||ee})}}),bt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;bt.fn[t]=function(n){return Ht(this,function(t,n,r){var o;return bt.isWindow(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r?o?o[e]:t[n]:void(o?o.scrollTo(i?o.pageXOffset:r,i?r:o.pageYOffset):t[n]=r)},t,n,arguments.length)}}),bt.each(["top","left"],function(t,e){bt.cssHooks[e]=R(vt.pixelPosition,function(t,i){if(i)return i=z(t,e),ue.test(i)?bt(t).position()[e]+"px":i})}),bt.each({Height:"height",Width:"width"},function(t,e){bt.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){bt.fn[n]=function(r,o){var s=arguments.length&&(i||"boolean"!=typeof r),a=i||(r===!0||o===!0?"margin":"border");return Ht(this,function(e,i,r){var o;return bt.isWindow(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?bt.css(e,i,a):bt.style(e,i,r,a)},e,s?r:void 0,s)}})}),bt.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),bt.holdReady=function(t){t?bt.readyWait++:bt.ready(!0)},bt.isArray=Array.isArray,bt.parseJSON=JSON.parse,bt.nodeName=l,n=[],r=function(){return bt}.apply(e,n),!(void 0!==r&&(t.exports=r));var Ze=i.jQuery,Je=i.$;return bt.noConflict=function(t){return i.$===bt&&(i.$=Je),t&&i.jQuery===bt&&(i.jQuery=Ze),bt},o||(i.jQuery=i.$=bt),bt})},function(t,e,i){t.exports=i(18)},function(t,e,i){function n(t,e){var i=a(t)?r:o;return i(t,s(e))}var r=i(19),o=i(20),s=i(53),a=i(36);t.exports=n},function(t,e){function i(t,e){for(var i=-1,n=null==t?0:t.length;++i<n&&e(t[i],i,t)!==!1;);return t}t.exports=i},function(t,e,i){var n=i(21),r=i(52),o=r(n);t.exports=o},function(t,e,i){function n(t,e){return t&&r(t,e,o)}var r=i(22),o=i(24);t.exports=n},function(t,e,i){var n=i(23),r=n();t.exports=r},function(t,e){function i(t){return function(e,i,n){for(var r=-1,o=Object(e),s=n(e),a=s.length;a--;){var l=s[t?a:++r];if(i(o[l],l,o)===!1)break}return e}}t.exports=i},function(t,e,i){function n(t){return s(t)?r(t):o(t)}var r=i(25),o=i(45),s=i(49);t.exports=n},function(t,e,i){function n(t,e){var i=s(t),n=!i&&o(t),h=!i&&!n&&a(t),d=!i&&!n&&!h&&c(t),f=i||n||h||d,p=f?r(t.length,String):[],g=p.length;for(var m in t)!e&&!u.call(t,m)||f&&("length"==m||h&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||l(m,g))||p.push(m);return p}var r=i(26),o=i(27),s=i(36),a=i(37),l=i(39),c=i(40),h=Object.prototype,u=h.hasOwnProperty;t.exports=n},function(t,e){function i(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}t.exports=i},function(t,e,i){var n=i(28),r=i(35),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(t){return r(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=l},function(t,e,i){function n(t){return o(t)&&r(t)==s}var r=i(29),o=i(35),s="[object Arguments]";t.exports=n},function(t,e,i){function n(t){return null==t?void 0===t?l:a:c&&c in Object(t)?o(t):s(t)}var r=i(30),o=i(33),s=i(34),a="[object Null]",l="[object Undefined]",c=r?r.toStringTag:void 0;t.exports=n},function(t,e,i){var n=i(31),r=n.Symbol;t.exports=r},function(t,e,i){var n=i(32),r="object"==typeof self&&self&&self.Object===Object&&self,o=n||r||Function("return this")();t.exports=o},function(t,e){(function(e){var i="object"==typeof e&&e&&e.Object===Object&&e;t.exports=i}).call(e,function(){return this}())},function(t,e,i){function n(t){var e=s.call(t,l),i=t[l];try{t[l]=void 0;var n=!0}catch(t){}var r=a.call(t);return n&&(e?t[l]=i:delete t[l]),r}var r=i(30),o=Object.prototype,s=o.hasOwnProperty,a=o.toString,l=r?r.toStringTag:void 0;t.exports=n},function(t,e){function i(t){return r.call(t)}var n=Object.prototype,r=n.toString;t.exports=i},function(t,e){function i(t){return null!=t&&"object"==typeof t}t.exports=i},function(t,e){var i=Array.isArray;t.exports=i},function(t,e,i){(function(t){var n=i(31),r=i(38),o="object"==typeof e&&e&&!e.nodeType&&e,s=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===o,l=a?n.Buffer:void 0,c=l?l.isBuffer:void 0,h=c||r;t.exports=h}).call(e,i(5)(t))},function(t,e){function i(){return!1}t.exports=i},function(t,e){function i(t,e){return e=null==e?n:e,!!e&&("number"==typeof t||r.test(t))&&t>-1&&t%1==0&&t<e}var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=i},function(t,e,i){var n=i(41),r=i(43),o=i(44),s=o&&o.isTypedArray,a=s?r(s):n;t.exports=a},function(t,e,i){function n(t){return s(t)&&o(t.length)&&!!_[r(t)]}var r=i(29),o=i(42),s=i(35),a="[object Arguments]",l="[object Array]",c="[object Boolean]",h="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",g="[object Object]",m="[object RegExp]",v="[object Set]",y="[object String]",b="[object WeakMap]",x="[object ArrayBuffer]",w="[object DataView]",k="[object Float32Array]",S="[object Float64Array]",C="[object Int8Array]",T="[object Int16Array]",M="[object Int32Array]",A="[object Uint8Array]",L="[object Uint8ClampedArray]",O="[object Uint16Array]",D="[object Uint32Array]",_={};_[k]=_[S]=_[C]=_[T]=_[M]=_[A]=_[L]=_[O]=_[D]=!0,_[a]=_[l]=_[x]=_[c]=_[w]=_[h]=_[u]=_[d]=_[f]=_[p]=_[g]=_[m]=_[v]=_[y]=_[b]=!1,t.exports=n},function(t,e){function i(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}var n=9007199254740991;t.exports=i},function(t,e){function i(t){return function(e){return t(e)}}t.exports=i},function(t,e,i){(function(t){var n=i(32),r="object"==typeof e&&e&&!e.nodeType&&e,o=r&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===r,a=s&&n.process,l=function(){try{return a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=l}).call(e,i(5)(t))},function(t,e,i){function n(t){if(!r(t))return o(t);var e=[];for(var i in Object(t))a.call(t,i)&&"constructor"!=i&&e.push(i);return e}var r=i(46),o=i(47),s=Object.prototype,a=s.hasOwnProperty;t.exports=n},function(t,e){function i(t){var e=t&&t.constructor,i="function"==typeof e&&e.prototype||n;return t===i}var n=Object.prototype;t.exports=i},function(t,e,i){var n=i(48),r=n(Object.keys,Object);t.exports=r},function(t,e){function i(t,e){return function(i){return t(e(i))}}t.exports=i},function(t,e,i){function n(t){return null!=t&&o(t.length)&&!r(t)}var r=i(50),o=i(42);t.exports=n},function(t,e,i){function n(t){if(!o(t))return!1;var e=r(t);return e==a||e==l||e==s||e==c}var r=i(29),o=i(51),s="[object AsyncFunction]",a="[object Function]",l="[object GeneratorFunction]",c="[object Proxy]";t.exports=n},function(t,e){function i(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=i},function(t,e,i){function n(t,e){return function(i,n){if(null==i)return i;if(!r(i))return t(i,n);for(var o=i.length,s=e?o:-1,a=Object(i);(e?s--:++s<o)&&n(a[s],s,a)!==!1;);return i}}var r=i(49);t.exports=n},function(t,e,i){function n(t){return"function"==typeof t?t:r}var r=i(54);t.exports=n},function(t,e){function i(t){return t}t.exports=i},function(t,e,i){function n(t,e){var i=a(t)?r:o;return i(t,s(e,3))}var r=i(56),o=i(57),s=i(58),a=i(36);t.exports=n},function(t,e){function i(t,e){for(var i=-1,n=null==t?0:t.length,r=0,o=[];++i<n;){var s=t[i];e(s,i,t)&&(o[r++]=s)}return o}t.exports=i},function(t,e,i){function n(t,e){var i=[];return r(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i}var r=i(20);t.exports=n},function(t,e,i){function n(t){return"function"==typeof t?t:null==t?s:"object"==typeof t?a(t)?o(t[0],t[1]):r(t):l(t)}var r=i(59),o=i(123),s=i(54),a=i(36),l=i(139);t.exports=n},function(t,e,i){function n(t){var e=o(t);return 1==e.length&&e[0][2]?s(e[0][0],e[0][1]):function(i){return i===t||r(i,t,e)}}var r=i(60),o=i(120),s=i(122);t.exports=n},function(t,e,i){function n(t,e,i,n){var l=i.length,c=l,h=!n;if(null==t)return!c;for(t=Object(t);l--;){var u=i[l];if(h&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++l<c;){u=i[l];var d=u[0],f=t[d],p=u[1];if(h&&u[2]){if(void 0===f&&!(d in t))return!1}else{var g=new r;if(n)var m=n(f,p,d,t,e,g);if(!(void 0===m?o(p,f,s|a,n,g):m))return!1}}return!0}var r=i(61),o=i(97),s=1,a=2;t.exports=n},function(t,e,i){function n(t){var e=this.__data__=new r(t);this.size=e.size}var r=i(62),o=i(70),s=i(71),a=i(72),l=i(73),c=i(74);n.prototype.clear=o,n.prototype.delete=s,n.prototype.get=a,n.prototype.has=l,n.prototype.set=c,t.exports=n},function(t,e,i){function n(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}var r=i(63),o=i(64),s=i(67),a=i(68),l=i(69);n.prototype.clear=r,n.prototype.delete=o,n.prototype.get=s,n.prototype.has=a,n.prototype.set=l,t.exports=n},function(t,e){function i(){this.__data__=[],this.size=0}t.exports=i},function(t,e,i){function n(t){var e=this.__data__,i=r(e,t);if(i<0)return!1;var n=e.length-1;return i==n?e.pop():s.call(e,i,1),--this.size,!0}var r=i(65),o=Array.prototype,s=o.splice;t.exports=n},function(t,e,i){function n(t,e){for(var i=t.length;i--;)if(r(t[i][0],e))return i;return-1}var r=i(66);t.exports=n},function(t,e){function i(t,e){return t===e||t!==t&&e!==e}t.exports=i},function(t,e,i){function n(t){var e=this.__data__,i=r(e,t);return i<0?void 0:e[i][1]}var r=i(65);t.exports=n},function(t,e,i){function n(t){return r(this.__data__,t)>-1}var r=i(65);t.exports=n},function(t,e,i){function n(t,e){var i=this.__data__,n=r(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this}var r=i(65);t.exports=n},function(t,e,i){function n(){this.__data__=new r,this.size=0}var r=i(62);t.exports=n},function(t,e){function i(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}t.exports=i},function(t,e){function i(t){return this.__data__.get(t)}t.exports=i},function(t,e){function i(t){return this.__data__.has(t)}t.exports=i},function(t,e,i){function n(t,e){var i=this.__data__;if(i instanceof r){var n=i.__data__;if(!o||n.length<a-1)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new s(n)}return i.set(t,e),this.size=i.size,this}var r=i(62),o=i(75),s=i(82),a=200;t.exports=n},function(t,e,i){var n=i(76),r=i(31),o=n(r,"Map");t.exports=o},function(t,e,i){function n(t,e){var i=o(t,e);return r(i)?i:void 0}var r=i(77),o=i(81);t.exports=n},function(t,e,i){function n(t){if(!s(t)||o(t))return!1;var e=r(t)?p:c;return e.test(a(t))}var r=i(50),o=i(78),s=i(51),a=i(80),l=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,h=Function.prototype,u=Object.prototype,d=h.toString,f=u.hasOwnProperty,p=RegExp("^"+d.call(f).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=n},function(t,e,i){function n(t){return!!o&&o in t}var r=i(79),o=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=n},function(t,e,i){var n=i(31),r=n["__core-js_shared__"];t.exports=r},function(t,e){function i(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var n=Function.prototype,r=n.toString;t.exports=i},function(t,e){function i(t,e){return null==t?void 0:t[e]}t.exports=i},function(t,e,i){function n(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}var r=i(83),o=i(91),s=i(94),a=i(95),l=i(96);n.prototype.clear=r,n.prototype.delete=o,n.prototype.get=s,n.prototype.has=a,n.prototype.set=l,t.exports=n},function(t,e,i){function n(){this.size=0,this.__data__={hash:new r,map:new(s||o),string:new r}}var r=i(84),o=i(62),s=i(75);t.exports=n},function(t,e,i){function n(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}var r=i(85),o=i(87),s=i(88),a=i(89),l=i(90);n.prototype.clear=r,n.prototype.delete=o,n.prototype.get=s,n.prototype.has=a,n.prototype.set=l,t.exports=n},function(t,e,i){function n(){this.__data__=r?r(null):{},this.size=0}var r=i(86);t.exports=n},function(t,e,i){var n=i(76),r=n(Object,"create");t.exports=r},function(t,e){function i(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=i},function(t,e,i){function n(t){var e=this.__data__;if(r){var i=e[t];return i===o?void 0:i}return a.call(e,t)?e[t]:void 0}var r=i(86),o="__lodash_hash_undefined__",s=Object.prototype,a=s.hasOwnProperty;t.exports=n},function(t,e,i){function n(t){var e=this.__data__;return r?void 0!==e[t]:s.call(e,t)}var r=i(86),o=Object.prototype,s=o.hasOwnProperty;t.exports=n},function(t,e,i){function n(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=r&&void 0===e?o:e,this}var r=i(86),o="__lodash_hash_undefined__";t.exports=n},function(t,e,i){function n(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}var r=i(92);t.exports=n},function(t,e,i){function n(t,e){var i=t.__data__;return r(e)?i["string"==typeof e?"string":"hash"]:i.map}var r=i(93);t.exports=n},function(t,e){function i(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=i},function(t,e,i){function n(t){return r(this,t).get(t)}var r=i(92);t.exports=n},function(t,e,i){function n(t){return r(this,t).has(t)}var r=i(92);t.exports=n},function(t,e,i){function n(t,e){var i=r(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this}var r=i(92);t.exports=n},function(t,e,i){function n(t,e,i,s,a){return t===e||(null==t||null==e||!o(t)&&!o(e)?t!==t&&e!==e:r(t,e,i,s,n,a))}var r=i(98),o=i(35);t.exports=n},function(t,e,i){function n(t,e,i,n,m,y){var b=c(t),x=c(e),w=b?p:l(t),k=x?p:l(e);w=w==f?g:w,k=k==f?g:k;var S=w==g,C=k==g,T=w==k;if(T&&h(t)){if(!h(e))return!1;b=!0,S=!1}if(T&&!S)return y||(y=new r),b||u(t)?o(t,e,i,n,m,y):s(t,e,w,i,n,m,y);if(!(i&d)){var M=S&&v.call(t,"__wrapped__"),A=C&&v.call(e,"__wrapped__");if(M||A){var L=M?t.value():t,O=A?e.value():e;return y||(y=new r),m(L,O,i,n,y)}}return!!T&&(y||(y=new r),a(t,e,i,n,m,y))}var r=i(61),o=i(99),s=i(105),a=i(109),l=i(115),c=i(36),h=i(37),u=i(40),d=1,f="[object Arguments]",p="[object Array]",g="[object Object]",m=Object.prototype,v=m.hasOwnProperty;t.exports=n},function(t,e,i){function n(t,e,i,n,c,h){var u=i&a,d=t.length,f=e.length;if(d!=f&&!(u&&f>d))return!1;var p=h.get(t);if(p&&h.get(e))return p==e;var g=-1,m=!0,v=i&l?new r:void 0;for(h.set(t,e),h.set(e,t);++g<d;){var y=t[g],b=e[g];if(n)var x=u?n(b,y,g,e,t,h):n(y,b,g,t,e,h);if(void 0!==x){if(x)continue;m=!1;break}if(v){if(!o(e,function(t,e){if(!s(v,e)&&(y===t||c(y,t,i,n,h)))return v.push(e)})){m=!1;break}}else if(y!==b&&!c(y,b,i,n,h)){m=!1;break}}return h.delete(t),h.delete(e),m}var r=i(100),o=i(103),s=i(104),a=1,l=2;t.exports=n},function(t,e,i){function n(t){var e=-1,i=null==t?0:t.length;for(this.__data__=new r;++e<i;)this.add(t[e])}var r=i(82),o=i(101),s=i(102);n.prototype.add=n.prototype.push=o,n.prototype.has=s,t.exports=n},function(t,e){function i(t){return this.__data__.set(t,n),this}var n="__lodash_hash_undefined__";t.exports=i},function(t,e){function i(t){return this.__data__.has(t)}t.exports=i},function(t,e){function i(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}t.exports=i},function(t,e){function i(t,e){return t.has(e)}t.exports=i},function(t,e,i){function n(t,e,i,n,r,S,T){switch(i){case k:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case w:return!(t.byteLength!=e.byteLength||!S(new o(t),new o(e)));case d:case f:case m:return s(+t,+e);case p:return t.name==e.name&&t.message==e.message;case v:case b:return t==e+"";case g:var M=l;case y:var A=n&h;if(M||(M=c),t.size!=e.size&&!A)return!1;var L=T.get(t);if(L)return L==e;n|=u,T.set(t,e);var O=a(M(t),M(e),n,r,S,T);return T.delete(t),O;case x:if(C)return C.call(t)==C.call(e)}return!1}var r=i(30),o=i(106),s=i(66),a=i(99),l=i(107),c=i(108),h=1,u=2,d="[object Boolean]",f="[object Date]",p="[object Error]",g="[object Map]",m="[object Number]",v="[object RegExp]",y="[object Set]",b="[object String]",x="[object Symbol]",w="[object ArrayBuffer]",k="[object DataView]",S=r?r.prototype:void 0,C=S?S.valueOf:void 0;t.exports=n},function(t,e,i){var n=i(31),r=n.Uint8Array;t.exports=r},function(t,e){function i(t){var e=-1,i=Array(t.size);return t.forEach(function(t,n){i[++e]=[n,t]}),i}t.exports=i},function(t,e){function i(t){var e=-1,i=Array(t.size);return t.forEach(function(t){i[++e]=t}),i}t.exports=i},function(t,e,i){function n(t,e,i,n,s,l){var c=i&o,h=r(t),u=h.length,d=r(e),f=d.length;if(u!=f&&!c)return!1;for(var p=u;p--;){var g=h[p];if(!(c?g in e:a.call(e,g)))return!1}var m=l.get(t);if(m&&l.get(e))return m==e;var v=!0;l.set(t,e),l.set(e,t);for(var y=c;++p<u;){g=h[p];var b=t[g],x=e[g];if(n)var w=c?n(x,b,g,e,t,l):n(b,x,g,t,e,l);if(!(void 0===w?b===x||s(b,x,i,n,l):w)){v=!1;break}y||(y="constructor"==g)}if(v&&!y){var k=t.constructor,S=e.constructor;k!=S&&"constructor"in t&&"constructor"in e&&!("function"==typeof k&&k instanceof k&&"function"==typeof S&&S instanceof S)&&(v=!1)}return l.delete(t),l.delete(e),v}var r=i(110),o=1,s=Object.prototype,a=s.hasOwnProperty;t.exports=n},function(t,e,i){function n(t){return r(t,s,o)}var r=i(111),o=i(113),s=i(24);t.exports=n},function(t,e,i){function n(t,e,i){var n=e(t);return o(t)?n:r(n,i(t))}var r=i(112),o=i(36);t.exports=n},function(t,e){function i(t,e){for(var i=-1,n=e.length,r=t.length;++i<n;)t[r+i]=e[i];return t}t.exports=i},function(t,e,i){var n=i(56),r=i(114),o=Object.prototype,s=o.propertyIsEnumerable,a=Object.getOwnPropertySymbols,l=a?function(t){return null==t?[]:(t=Object(t),n(a(t),function(e){return s.call(t,e)}))}:r;t.exports=l},function(t,e){function i(){return[]}t.exports=i},function(t,e,i){var n=i(116),r=i(75),o=i(117),s=i(118),a=i(119),l=i(29),c=i(80),h="[object Map]",u="[object Object]",d="[object Promise]",f="[object Set]",p="[object WeakMap]",g="[object DataView]",m=c(n),v=c(r),y=c(o),b=c(s),x=c(a),w=l;(n&&w(new n(new ArrayBuffer(1)))!=g||r&&w(new r)!=h||o&&w(o.resolve())!=d||s&&w(new s)!=f||a&&w(new a)!=p)&&(w=function(t){var e=l(t),i=e==u?t.constructor:void 0,n=i?c(i):"";if(n)switch(n){case m:return g;case v:return h;case y:return d;case b:return f;case x:return p}return e}),t.exports=w},function(t,e,i){var n=i(76),r=i(31),o=n(r,"DataView");t.exports=o},function(t,e,i){var n=i(76),r=i(31),o=n(r,"Promise");t.exports=o},function(t,e,i){var n=i(76),r=i(31),o=n(r,"Set");t.exports=o},function(t,e,i){var n=i(76),r=i(31),o=n(r,"WeakMap");t.exports=o},function(t,e,i){function n(t){for(var e=o(t),i=e.length;i--;){var n=e[i],s=t[n];e[i]=[n,s,r(s)]}return e}var r=i(121),o=i(24);t.exports=n},function(t,e,i){function n(t){return t===t&&!r(t)}var r=i(51);t.exports=n},function(t,e){function i(t,e){return function(i){return null!=i&&(i[t]===e&&(void 0!==e||t in Object(i)))}}t.exports=i},function(t,e,i){function n(t,e){return a(t)&&l(e)?c(h(t),e):function(i){var n=o(i,t);return void 0===n&&n===e?s(i,t):r(e,n,u|d)}}var r=i(97),o=i(124),s=i(136),a=i(127),l=i(121),c=i(122),h=i(135),u=1,d=2;t.exports=n},function(t,e,i){function n(t,e,i){var n=null==t?void 0:r(t,e);return void 0===n?i:n}var r=i(125);t.exports=n},function(t,e,i){function n(t,e){e=r(e,t);for(var i=0,n=e.length;null!=t&&i<n;)t=t[o(e[i++])];return i&&i==n?t:void 0}var r=i(126),o=i(135);t.exports=n},function(t,e,i){function n(t,e){return r(t)?t:o(t,e)?[t]:s(a(t))}var r=i(36),o=i(127),s=i(129),a=i(132);t.exports=n},function(t,e,i){function n(t,e){if(r(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!o(t))||(a.test(t)||!s.test(t)||null!=e&&t in Object(e))}var r=i(36),o=i(128),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=n},function(t,e,i){function n(t){return"symbol"==typeof t||o(t)&&r(t)==s}var r=i(29),o=i(35),s="[object Symbol]";t.exports=n},function(t,e,i){var n=i(130),r=/^\./,o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,a=n(function(t){var e=[];return r.test(t)&&e.push(""),t.replace(o,function(t,i,n,r){e.push(n?r.replace(s,"$1"):i||t)}),e});t.exports=a},function(t,e,i){function n(t){var e=r(t,function(t){return i.size===o&&i.clear(),t}),i=e.cache;return e}var r=i(131),o=500;t.exports=n},function(t,e,i){function n(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(o);var i=function(){var n=arguments,r=e?e.apply(this,n):n[0],o=i.cache;if(o.has(r))return o.get(r);var s=t.apply(this,n);return i.cache=o.set(r,s)||o,s};return i.cache=new(n.Cache||r),i}var r=i(82),o="Expected a function";n.Cache=r,t.exports=n},function(t,e,i){function n(t){return null==t?"":r(t)}var r=i(133);t.exports=n},function(t,e,i){function n(t){if("string"==typeof t)return t;if(s(t))return o(t,n)+"";if(a(t))return h?h.call(t):"";var e=t+"";return"0"==e&&1/t==-l?"-0":e}var r=i(30),o=i(134),s=i(36),a=i(128),l=1/0,c=r?r.prototype:void 0,h=c?c.toString:void 0;t.exports=n},function(t,e){function i(t,e){for(var i=-1,n=null==t?0:t.length,r=Array(n);++i<n;)r[i]=e(t[i],i,t);return r}t.exports=i},function(t,e,i){function n(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}var r=i(128),o=1/0;t.exports=n},function(t,e,i){function n(t,e){return null!=t&&o(t,e,r)}var r=i(137),o=i(138);t.exports=n},function(t,e){function i(t,e){return null!=t&&e in Object(t)}t.exports=i},function(t,e,i){function n(t,e,i){e=r(e,t);for(var n=-1,h=e.length,u=!1;++n<h;){var d=c(e[n]);if(!(u=null!=t&&i(t,d)))break;t=t[d]}return u||++n!=h?u:(h=null==t?0:t.length,!!h&&l(h)&&a(d,h)&&(s(t)||o(t)))}var r=i(126),o=i(27),s=i(36),a=i(39),l=i(42),c=i(135);t.exports=n},function(t,e,i){function n(t){return s(t)?r(a(t)):o(t)}var r=i(140),o=i(141),s=i(127),a=i(135);t.exports=n},function(t,e){function i(t){return function(e){return null==e?void 0:e[t]}}t.exports=i},function(t,e,i){function n(t){return function(e){return r(e,t)}}var r=i(125);t.exports=n},function(t,e,i){function n(t){var e=null==t?0:t.length;return e?r(t,1):[]}var r=i(143);t.exports=n},function(t,e,i){function n(t,e,i,s,a){var l=-1,c=t.length;for(i||(i=o),a||(a=[]);++l<c;){var h=t[l];e>0&&i(h)?e>1?n(h,e-1,i,s,a):r(a,h):s||(a[a.length]=h)}return a}var r=i(112),o=i(144);t.exports=n},function(t,e,i){function n(t){return s(t)||o(t)||!!(a&&t&&t[a])}var r=i(30),o=i(27),s=i(36),a=r?r.isConcatSpreadable:void 0;t.exports=n},function(t,e,i){function n(t,e){return r(o(t,e),1)}var r=i(143),o=i(146);t.exports=n},function(t,e,i){function n(t,e){var i=a(t)?r:s;return i(t,o(e,3))}var r=i(134),o=i(58),s=i(147),a=i(36);t.exports=n},function(t,e,i){function n(t,e){var i=-1,n=o(t)?Array(t.length):[];return r(t,function(t,r,o){n[++i]=e(t,r,o)}),n}var r=i(20),o=i(49);t.exports=n},function(t,e,i){var n=i(149),r=i(151),o=Object.prototype,s=o.hasOwnProperty,a=r(function(t,e,i){s.call(t,i)?t[i].push(e):n(t,i,[e])});t.exports=a},function(t,e,i){function n(t,e,i){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}var r=i(150);t.exports=n},function(t,e,i){var n=i(76),r=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=r},function(t,e,i){function n(t,e){return function(i,n){var l=a(i)?r:o,c=e?e():{};return l(i,t,s(n,2),c)}}var r=i(152),o=i(153),s=i(58),a=i(36);t.exports=n},function(t,e){function i(t,e,i,n){for(var r=-1,o=null==t?0:t.length;++r<o;){var s=t[r];e(n,s,i(s),t)}return n}t.exports=i},function(t,e,i){function n(t,e,i,n){return r(t,function(t,r,o){e(n,t,i(t),o)}),n}var r=i(20);t.exports=n},function(t,e,i){function n(t){return null==t?[]:r(t,o(t))}var r=i(155),o=i(24);t.exports=n},function(t,e,i){function n(t,e){return r(e,function(e){return t[e]})}var r=i(134);t.exports=n},function(t,e,i){var n,r;(function(o){/*!
	 * typeahead.js 0.11.1
	 * https://github.com/twitter/typeahead.js
	 * Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT
	 */
!function(o,s){n=[i(16)],r=function(t){return s(t)}.apply(e,n),!(void 0!==r&&(t.exports=r))}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,i){function n(t,e){return i(e,t)}t.each(e,n)},map:t.map,filter:t.grep,every:function(e,i){var n=!0;return e?(t.each(e,function(t,r){if(!(n=i.call(null,r,t,e)))return!1}),!!n):n},some:function(e,i){var n=!1;return e?(t.each(e,function(t,r){if(n=i.call(null,r,t,e))return!1}),!!n):n},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function i(){return String(e)}return t.isFunction(e)?e:i},defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n,r;return function(){var o,s,a=this,l=arguments;return o=function(){n=null,i||(r=t.apply(a,l))},s=i&&!n,clearTimeout(n),n=setTimeout(o,e),s&&(r=t.apply(a,l)),r}},throttle:function(t,e){var i,n,r,o,s,a;return s=0,a=function(){s=new Date,r=null,o=t.apply(i,n)},function(){var l=new Date,c=e-(l-s);return i=this,n=arguments,c<=0?(clearTimeout(r),r=null,s=l,o=t.apply(i,n)):r||(r=setTimeout(a,c)),o}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),i=function(){"use strict";function t(t){var s,a;return a=e.mixin({},o,t),s={css:r(),classes:a,html:i(a),selectors:n(a)},{css:s.css,html:s.html,classes:s.classes,selectors:s.selectors,mixin:function(t){e.mixin(t,s)}}}function i(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function n(t){var i={};return e.each(t,function(t,e){i[e]="."+t}),i}function r(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}var o={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return t}(),n=function(){"use strict";function i(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var n,r;return n="typeahead:",r={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},e.mixin(i.prototype,{_trigger:function(e,i){var r;return r=t.Event(n+e),(i=i||[]).unshift(r),this.$el.trigger.apply(this.$el,i),r},before:function(t){var e,i;return e=[].slice.call(arguments,1),i=this._trigger("before"+t,e),i.isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=r[t])&&this._trigger(e,[].slice.call(arguments,1))}}),i}(),r=function(){"use strict";function t(t,e,i,n){var r;if(!i)return this;for(e=e.split(c),i=n?l(i,n):i,this._callbacks=this._callbacks||{};r=e.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][t].push(i);return this}function e(e,i,n){return t.call(this,"async",e,i,n)}function i(e,i,n){return t.call(this,"sync",e,i,n)}function n(t){var e;if(!this._callbacks)return this;for(t=t.split(c);e=t.shift();)delete this._callbacks[e];return this}function r(t){var e,i,n,r,o;if(!this._callbacks)return this;for(t=t.split(c),n=[].slice.call(arguments,1);(e=t.shift())&&(i=this._callbacks[e]);)r=s(i.sync,this,[e].concat(n)),o=s(i.async,this,[e].concat(n)),r()&&h(o);return this}function s(t,e,i){function n(){for(var n,r=0,o=t.length;!n&&r<o;r+=1)n=t[r].apply(e,i)===!1;return!n}return n}function a(){var t;return t=window.setImmediate?function(t){o(function(){t()})}:function(t){setTimeout(function(){t()},0)}}function l(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var c=/\s+/,h=a();return{onSync:i,onAsync:e,off:n,trigger:r}}(),s=function(t){"use strict";function i(t,i,n){for(var r,o=[],s=0,a=t.length;s<a;s++)o.push(e.escapeRegExChars(t[s]));return r=n?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",i?new RegExp(r):new RegExp(r,"i")}var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(r){function o(e){var i,n,o;return(i=a.exec(e.data))&&(o=t.createElement(r.tagName),r.className&&(o.className=r.className),n=e.splitText(i.index),n.splitText(i[0].length),o.appendChild(n.cloneNode(!0)),e.parentNode.replaceChild(o,n)),!!i}function s(t,e){for(var i,n=3,r=0;r<t.childNodes.length;r++)i=t.childNodes[r],i.nodeType===n?r+=e(i)?1:0:s(i,e)}var a;r=e.mixin({},n,r),r.node&&r.pattern&&(r.pattern=e.isArray(r.pattern)?r.pattern:[r.pattern],a=i(r.pattern,r.caseSensitive,r.wordsOnly),s(r.node,o))}}(window.document),a=function(){"use strict";function i(i,r){i=i||{},i.input||t.error("input is missing"),r.mixin(this),this.$hint=t(i.hint),this.$input=t(i.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=n(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop)}function n(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function o(t,e){return i.normalizeQuery(t)===i.normalizeQuery(e)}function s(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},i.normalizeQuery=function(t){return e.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(i.prototype,r,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=a[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var i;switch(t){case"up":case"down":i=!s(e);break;default:i=!1}i&&e.preventDefault()},_shouldTrigger:function(t,e){var i;switch(t){case"tab":i=!s(e);break;default:i=!0}return i},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var i,n;i=o(t,this.query),n=!!i&&this.query.length!==t.length,this.query=t,e||i?!e&&n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,i,n,r,o=this;return t=e.bind(this._onBlur,this),i=e.bind(this._onFocus,this),n=e.bind(this._onKeydown,this),r=e.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",i).on("keydown.tt",n),!e.isMsie()||e.isMsie()>9?this.$input.on("input.tt",r):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){a[t.which||t.keyCode]||e.defer(e.bind(o._onInput,o,t))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,i,n;t=this.getInputValue(),e=this.getHint(),i=t!==e&&0===e.indexOf(t),n=""!==t&&i&&!this.hasOverflow(),!n&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,i,n;return t=this.$input.val().length,i=this.$input[0].selectionStart,e.isNumber(i)?i===t:!document.selection||(n=document.selection.createRange(),n.moveStart("character",-t),t===n.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")}}),i}(),l=function(){"use strict";function i(i,r){i=i||{},i.templates=i.templates||{},i.templates.notFound=i.templates.notFound||i.templates.empty,i.source||t.error("missing source"),i.node||t.error("missing node"),i.name&&!a(i.name)&&t.error("invalid dataset name: "+i.name),r.mixin(this),this.highlight=!!i.highlight,this.name=i.name||c(),this.limit=i.limit||5,this.displayFn=n(i.display||i.displayKey),this.templates=o(i.templates,this.displayFn),this.source=i.source.__ttAdapter?i.source.__ttAdapter():i.source,this.async=e.isUndefined(i.async)?this.source.length>2:!!i.async,this._resetLastSuggestion(),this.$el=t(i.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function n(t){function i(e){return e[t]}return t=t||e.stringify,e.isFunction(t)?t:i}function o(i,n){function r(e){return t("<div>").text(n(e))}return{notFound:i.notFound&&e.templatify(i.notFound),pending:i.pending&&e.templatify(i.pending),header:i.header&&e.templatify(i.header),footer:i.footer&&e.templatify(i.footer),suggestion:i.suggestion||r}}function a(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var l,c;return l={val:"tt-selectable-display",obj:"tt-selectable-object"},c=e.getIdGenerator(),i.extractData=function(e){var i=t(e);return i.data(l.obj)?{val:i.data(l.val)||"",obj:i.data(l.obj)||null}:null},e.mixin(i.prototype,r,{_overwrite:function(t,e){e=e||[],e.length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){e=e||[],e.length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var i;i=this._getSuggestionsFragment(t,e),this.$lastSuggestion=i.children().last(),this.$el.html(i).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var i,n;i=this._getSuggestionsFragment(t,e),n=i.children().last(),this.$lastSuggestion.after(i),this.$lastSuggestion=n},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(i,n){var r,o=this;return r=document.createDocumentFragment(),e.each(n,function(e){var n,s;s=o._injectQuery(i,e),n=t(o.templates.suggestion(s)).data(l.obj,e).data(l.val,o.displayFn(e)).addClass(o.classes.suggestion+" "+o.classes.selectable),r.appendChild(n[0])}),this.highlight&&s({className:this.classes.highlight,node:r,pattern:i}),t(r)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=t()},_injectQuery:function(t,i){return e.isObject(i)?e.mixin({_query:t},i):i},update:function(e){function i(t){s||(s=!0,t=(t||[]).slice(0,r.limit),a=t.length,r._overwrite(e,t),a<r.limit&&r.async&&r.trigger("asyncRequested",e))}function n(i){i=i||[],!o&&a<r.limit&&(r.cancel=t.noop,a+=i.length,r._append(e,i.slice(0,r.limit-a)),r.async&&r.trigger("asyncReceived",e))}var r=this,o=!1,s=!1,a=0;this.cancel(),this.cancel=function(){o=!0,r.cancel=t.noop,r.async&&r.trigger("asyncCanceled",e)},this.source(e,i,n),!s&&i([])},cancel:t.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=t("<div>")}}),i}(),c=function(){"use strict";function i(i,n){function r(e){var i=o.$node.find(e.node).first();return e.node=i.length?i:t("<div>").appendTo(o.$node),new l(e,n)}var o=this;i=i||{},i.node||t.error("node is required"),n.mixin(this),this.$node=t(i.node),this.query=null,this.datasets=e.map(i.datasets,r)}return e.mixin(i.prototype,r,{_onSelectableClick:function(e){this.trigger("selectableClicked",t(e.currentTarget))},_onRendered:function(t,e,i,n){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,i,n)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function t(t){return t.isEmpty()}return e.every(this.datasets,t)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,i,n,r;e=t.position().top,i=e+t.outerHeight(!0),n=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),e<0?this.$node.scrollTop(n+e):r<i&&this.$node.scrollTop(n+(i-r))},bind:function(){var t,i=this;return t=e.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),e.each(this.datasets,function(t){t.onSync("asyncRequested",i._propagate,i).onSync("asyncCanceled",i._propagate,i).onSync("asyncReceived",i._propagate,i).onSync("rendered",i._onRendered,i).onSync("cleared",i._onCleared,i)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,i,n,r;return i=this.getActiveSelectable(),e=this._getSelectables(),n=i?e.index(i):-1,r=n+t,r=(r+1)%(e.length+1)-1,r=r<-1?e.length-1:r,r===-1?null:e.eq(r)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?l.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(t){function i(e){e.update(t)}var n=t!==this.query;return n&&(this.query=t,e.each(this.datasets,i)),n},empty:function(){function t(t){t.clear()}e.each(this.datasets,t),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function i(t){t.destroy()}this.$node.off(".tt"),this.$node=t("<div>"),e.each(this.datasets,i)}}),i}(),h=function(){"use strict";function t(){c.apply(this,[].slice.call(arguments,0))}var i=c.prototype;return e.mixin(t.prototype,c.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),i.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),i.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),i._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),i._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),i.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),t}(),u=function(){"use strict";function i(i,r){var o,s,a,l,c,h,u,d,f,p,g;i=i||{},i.input||t.error("missing input"),i.menu||t.error("missing menu"),i.eventBus||t.error("missing event bus"),r.mixin(this),this.eventBus=i.eventBus,this.minLength=e.isNumber(i.minLength)?i.minLength:1,this.input=i.input,this.menu=i.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),o=n(this,"activate","open","_onFocused"),s=n(this,"deactivate","_onBlurred"),a=n(this,"isActive","isOpen","_onEnterKeyed"),l=n(this,"isActive","isOpen","_onTabKeyed"),c=n(this,"isActive","_onEscKeyed"),h=n(this,"isActive","open","_onUpKeyed"),u=n(this,"isActive","open","_onDownKeyed"),d=n(this,"isActive","isOpen","_onLeftKeyed"),f=n(this,"isActive","isOpen","_onRightKeyed"),p=n(this,"_openIfActive","_onQueryChanged"),g=n(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",o,this).onSync("blurred",s,this).onSync("enterKeyed",a,this).onSync("tabKeyed",l,this).onSync("escKeyed",c,this).onSync("upKeyed",h,this).onSync("downKeyed",u,this).onSync("leftKeyed",d,this).onSync("rightKeyed",f,this).onSync("queryChanged",p,this).onSync("whitespaceChanged",g,this).onSync("langDirChanged",this._onLangDirChanged,this)}function n(t){var i=[].slice.call(arguments,1);return function(){var n=[].slice.call(arguments);e.each(i,function(e){return t[e].apply(t,n)})}}return e.mixin(i.prototype,{_hacks:function(){var i,n;i=this.input.$input||t("<div>"),n=this.menu.$node||t("<div>"),i.on("blur.tt",function(t){var r,o,s;r=document.activeElement,o=n.is(r),s=n.has(r).length>0,e.isMsie()&&(o||s)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){i.focus()}))}),n.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,i,n){this._updateHint(),this.eventBus.trigger("render",i,n,e)},_onAsyncRequested:function(t,e,i){this.eventBus.trigger("asyncrequest",i,e)},_onAsyncCanceled:function(t,e,i){this.eventBus.trigger("asynccancel",i,e)},_onAsyncReceived:function(t,e,i){this.eventBus.trigger("asyncreceive",i,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var i;(i=this.menu.getActiveSelectable())&&this.select(i)&&e.preventDefault()},_onTabKeyed:function(t,e){var i;(i=this.menu.getActiveSelectable())?this.select(i)&&e.preventDefault():(i=this.menu.getTopSelectable())&&this.autocomplete(i)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return t=e.isString(t)?t:this.input.getQuery()||"",t.length>=this.minLength},_updateHint:function(){var t,i,n,r,o,s,l;t=this.menu.getTopSelectable(),i=this.menu.getSelectableData(t),n=this.input.getInputValue(),!i||e.isBlankString(n)||this.input.hasOverflow()?this.input.clearHint():(r=a.normalizeQuery(n),o=e.escapeRegExChars(r),s=new RegExp("^(?:"+o+")(.+$)","i"),l=s.exec(i.val),l&&this.input.setHint(n+l[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(e.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return!(!e||this.eventBus.before("select",e.obj))&&(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0)},autocomplete:function(t){var e,i,n;return e=this.input.getQuery(),i=this.menu.getSelectableData(t),n=i&&e!==i.val,!(!n||this.eventBus.before("autocomplete",i.obj))&&(this.input.setQuery(i.val),this.eventBus.trigger("autocomplete",i.obj),!0)},moveCursor:function(t){var e,i,n,r,o;return e=this.input.getQuery(),i=this.menu.selectableRelativeToCursor(t),n=this.menu.getSelectableData(i),r=n?n.obj:null,o=this._minLengthMet()&&this.menu.update(e),!o&&!this.eventBus.before("cursorchange",r)&&(this.menu.setCursor(i),n?this.input.setInputValue(n.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),i}();!function(){"use strict";function r(e,i){e.each(function(){var e,n=t(this);(e=n.data(g.typeahead))&&i(e,n)})}function o(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(l(t)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function s(t,e){t.data(g.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(t){}return t}function l(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function d(t){var i,n;i=t.data(g.www),n=t.parent().filter(i.selectors.wrapper),e.each(t.data(g.attrs),function(i,n){e.isUndefined(i)?t.removeAttr(n):t.attr(n,i)}),t.removeData(g.typeahead).removeData(g.www).removeData(g.attr).removeClass(i.classes.input),n.length&&(t.detach().insertAfter(n),n.remove())}function f(i){var n,r;return n=e.isJQuery(i)||e.isElement(i),r=n?t(i).first():[],r.length?r:null}var p,g,m;p=t.fn.typeahead,g={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},m={initialize:function(r,l){function d(){var i,d,m,v,y,b,x,w,k,S,C;e.each(l,function(t){t.highlight=!!r.highlight}),i=t(this),d=t(p.html.wrapper),m=f(r.hint),v=f(r.menu),y=r.hint!==!1&&!m,b=r.menu!==!1&&!v,y&&(m=o(i,p)),b&&(v=t(p.html.menu).css(p.css.menu)),m&&m.val(""),i=s(i,p),(y||b)&&(d.css(p.css.wrapper),i.css(y?p.css.input:p.css.inputWithNoHint),i.wrap(d).parent().prepend(y?m:null).append(b?v:null)),C=b?h:c,x=new n({el:i}),w=new a({hint:m,input:i},p),k=new C({node:v,datasets:l},p),S=new u({input:w,menu:k,eventBus:x,minLength:r.minLength},p),i.data(g.www,p),i.data(g.typeahead,S)}var p;return l=e.isArray(l)?l:[].slice.call(arguments,1),r=r||{},p=i(r.classNames),this.each(d)},isEnabled:function(){var t;return r(this.first(),function(e){t=e.isEnabled()}),t},enable:function(){return r(this,function(t){t.enable()}),this},disable:function(){return r(this,function(t){t.disable()}),this},isActive:function(){var t;return r(this.first(),function(e){t=e.isActive()}),t},activate:function(){return r(this,function(t){t.activate()}),this},deactivate:function(){return r(this,function(t){t.deactivate()}),this},isOpen:function(){var t;return r(this.first(),function(e){t=e.isOpen()}),t},open:function(){return r(this,function(t){t.open()}),this},close:function(){return r(this,function(t){t.close()}),this},select:function(e){var i=!1,n=t(e);return r(this.first(),function(t){i=t.select(n)}),i},autocomplete:function(e){var i=!1,n=t(e);return r(this.first(),function(t){i=t.autocomplete(n)}),i},moveCursor:function(t){var e=!1;return r(this.first(),function(i){e=i.moveCursor(t)}),e},val:function(t){var e;return arguments.length?(r(this,function(e){e.setVal(t)}),this):(r(this.first(),function(t){e=t.getVal()}),e)},destroy:function(){return r(this,function(t,e){d(e),t.destroy()}),this}},t.fn.typeahead=function(t){return m[t]?m[t].apply(this,[].slice.call(arguments,1)):m.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=p,this}}()})}).call(e,i(2).setImmediate)},function(t,e,i){var n,r;/*!
	 * typeahead.js 0.11.1
	 * https://github.com/twitter/typeahead.js
	 * Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT
	 */
!function(o,s){n=[i(16)],r=function(t){return o.Bloodhound=s(t)}.apply(e,n),!(void 0!==r&&(t.exports=r))}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,i){function n(t,e){return i(e,t)}t.each(e,n)},map:t.map,filter:t.grep,every:function(e,i){var n=!0;return e?(t.each(e,function(t,r){if(!(n=i.call(null,r,t,e)))return!1}),!!n):n},some:function(e,i){var n=!1;return e?(t.each(e,function(t,r){if(n=i.call(null,r,t,e))return!1}),!!n):n},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function i(){return String(e)}return t.isFunction(e)?e:i},defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n,r;return function(){var o,s,a=this,l=arguments;return o=function(){n=null,i||(r=t.apply(a,l))},s=i&&!n,clearTimeout(n),n=setTimeout(o,e),s&&(r=t.apply(a,l)),r}},throttle:function(t,e){var i,n,r,o,s,a;return s=0,a=function(){s=new Date,r=null,o=t.apply(i,n)},function(){var l=new Date,c=e-(l-s);return i=this,n=arguments,c<=0?(clearTimeout(r),r=null,s=l,o=t.apply(i,n)):r||(r=setTimeout(a,c)),o}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),i="0.11.1",n=function(){"use strict";function t(t){return t=e.toStr(t),t?t.split(/\s+/):[]}function i(t){return t=e.toStr(t),t?t.split(/\W+/):[]}function n(t){return function(i){return i=e.isArray(i)?i:[].slice.call(arguments,0),function(n){var r=[];return e.each(i,function(i){r=r.concat(t(e.toStr(n[i])))}),r}}}return{nonword:i,whitespace:t,obj:{nonword:n(i),whitespace:n(t)}}}(),r=function(){"use strict";function i(i){this.maxSize=e.isNumber(i)?i:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function n(){this.head=this.tail=null}function r(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(i.prototype,{set:function(t,e){var i,n=this.list.tail;this.size>=this.maxSize&&(this.list.remove(n),delete this.hash[n.key],this.size--),(i=this.hash[t])?(i.val=e,this.list.moveToFront(i)):(i=new r(t,e),this.list.add(i),this.hash[t]=i,this.size++)},get:function(t){var e=this.hash[t];if(e)return this.list.moveToFront(e),e.val},reset:function(){this.size=0,this.hash={},this.list=new n}}),e.mixin(n.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),i}(),o=function(){"use strict";function i(t,i){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix)),this.ls=i||a,!this.ls&&this._noop()}function n(){return(new Date).getTime()}function r(t){return JSON.stringify(e.isUndefined(t)?null:t)}function o(e){return t.parseJSON(e)}function s(t){var e,i,n=[],r=a.length;for(e=0;e<r;e++)(i=a.key(e)).match(t)&&n.push(i.replace(t,""));return n}var a;try{a=window.localStorage,a.setItem("~~~","!"),a.removeItem("~~~")}catch(t){a=null}return e.mixin(i.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=e.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(t){"QuotaExceededError"===t.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),o(this.ls.getItem(this._prefix(t)))},set:function(t,i,o){return e.isNumber(o)?this._safeSet(this._ttlKey(t),r(n()+o)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),r(i))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=s(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var i=o(this.ls.getItem(this._ttlKey(t)));return!!(e.isNumber(i)&&n()>i)}}),i}(),s=function(){"use strict";function i(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=t.cache===!1?new r(0):a}var n=0,o={},s=6,a=new r(10);return i.setMaxPendingRequests=function(t){s=t},i.resetCache=function(){a.reset()},e.mixin(i.prototype,{_fingerprint:function(e){return e=e||{},e.url+e.type+t.param(e.data||{})},_get:function(t,e){function i(t){e(null,t),h._cache.set(l,t)}function r(){e(!0)}function a(){n--,delete o[l],h.onDeckRequestArgs&&(h._get.apply(h,h.onDeckRequestArgs),h.onDeckRequestArgs=null)}var l,c,h=this;l=this._fingerprint(t),this.cancelled||l!==this.lastReq||((c=o[l])?c.done(i).fail(r):n<s?(n++,o[l]=this._send(t).done(i).fail(r).always(a)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(i,n){var r,o;n=n||t.noop,i=e.isString(i)?{url:i}:i||{},o=this._fingerprint(i),this.cancelled=!1,this.lastReq=o,(r=this._cache.get(o))?n(null,r):this._get(i,n)},cancel:function(){this.cancelled=!0}}),i}(),a=window.SearchIndex=function(){"use strict";function i(i){i=i||{},i.datumTokenizer&&i.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.identify=i.identify||e.stringify,this.datumTokenizer=i.datumTokenizer,this.queryTokenizer=i.queryTokenizer,this.reset()}function n(t){return t=e.filter(t,function(t){return!!t}),t=e.map(t,function(t){return t.toLowerCase()})}function r(){var t={};return t[l]=[],t[a]={},t}function o(t){for(var e={},i=[],n=0,r=t.length;n<r;n++)e[t[n]]||(e[t[n]]=!0,i.push(t[n]));return i}function s(t,e){var i=0,n=0,r=[];t=t.sort(),e=e.sort();for(var o=t.length,s=e.length;i<o&&n<s;)t[i]<e[n]?i++:t[i]>e[n]?n++:(r.push(t[i]),i++,n++);return r}var a="c",l="i";return e.mixin(i.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var i=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var o,s;i.datums[o=i.identify(t)]=t,s=n(i.datumTokenizer(t)),e.each(s,function(t){var e,n,s;for(e=i.trie,n=t.split("");s=n.shift();)e=e[a][s]||(e[a][s]=r()),e[l].push(o)})})},get:function(t){var i=this;return e.map(t,function(t){return i.datums[t]})},search:function(t){var i,r,c=this;return i=n(this.queryTokenizer(t)),e.each(i,function(t){var e,i,n,o;if(r&&0===r.length)return!1;for(e=c.trie,i=t.split("");e&&(n=i.shift());)e=e[a][n];return e&&0===i.length?(o=e[l].slice(0),void(r=r?s(r,o):o)):(r=[],!1)}),r?e.map(o(r),function(t){return c.datums[t]}):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=r()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),i}(),l=function(){"use strict";function t(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new o(t.cacheKey)}var i;return i={data:"data",protocol:"protocol",thumbprint:"thumbprint"},e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(i.data,t,this.ttl),this.storage.set(i.protocol,location.protocol,this.ttl),this.storage.set(i.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,e={};return this.cache?(e.data=this.storage.get(i.data),e.protocol=this.storage.get(i.protocol),e.thumbprint=this.storage.get(i.thumbprint),t=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!t?e.data:null):null},fromNetwork:function(t){function e(){t(!0)}function i(e){t(null,r.transform(e))}var n,r=this;t&&(n=this.prepare(this._settings()),this.transport(n).fail(e).done(i))},clear:function(){return this.storage.clear(),this}}),t}(),c=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new s({cache:t.cache,limiter:t.limiter,transport:t.transport})}return e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,e){function i(t,i){e(t?[]:r.transform(i))}var n,r=this;if(e)return t=t||"",n=this.prepare(t,this._settings()),this.transport.get(n,i)},cancelLastRequest:function(){this.transport.cancel()}}),t}(),h=function(){"use strict";function n(n){var r;return n?(r={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:e.identity,transform:e.identity,transport:null},n=e.isString(n)?{url:n}:n,n=e.mixin(r,n),!n.url&&t.error("prefetch requires url to be set"),n.transform=n.filter||n.transform,n.cacheKey=n.cacheKey||n.url,n.thumbprint=i+n.thumbprint,n.transport=n.transport?a(n.transport):t.ajax,n):null}function r(i){var n;if(i)return n={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:e.identity,transport:null},i=e.isString(i)?{url:i}:i,i=e.mixin(n,i),!i.url&&t.error("remote requires url to be set"),i.transform=i.filter||i.transform,i.prepare=o(i),i.limiter=s(i),i.transport=i.transport?a(i.transport):t.ajax,delete i.replace,delete i.wildcard,delete i.rateLimitBy,delete i.rateLimitWait,i}function o(t){function e(t,e){return e.url=o(e.url,t),e}function i(t,e){return e.url=e.url.replace(s,encodeURIComponent(t)),e}function n(t,e){return e}var r,o,s;return r=t.prepare,o=t.replace,s=t.wildcard,r?r:r=o?e:t.wildcard?i:n}function s(t){function i(t){return function(i){return e.debounce(i,t)}}function n(t){return function(i){return e.throttle(i,t)}}var r,o,s;return r=t.limiter,o=t.rateLimitBy,s=t.rateLimitWait,r||(r=/^throttle$/i.test(o)?n(s):i(s)),r}function a(i){return function(n){function r(t){e.defer(function(){s.resolve(t)})}function o(t){e.defer(function(){s.reject(t)})}var s=t.Deferred();return i(n,r,o),s}}return function(i){var o,s;return o={initialize:!0,identify:e.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},i=e.mixin(o,i||{}),!i.datumTokenizer&&t.error("datumTokenizer is required"),!i.queryTokenizer&&t.error("queryTokenizer is required"),s=i.sorter,i.sorter=s?function(t){return t.sort(s)}:e.identity,i.local=e.isFunction(i.local)?i.local():i.local,i.prefetch=n(i.prefetch),i.remote=r(i.remote),i}}(),u=function(){"use strict";function i(t){t=h(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new c(t.remote):null,this.prefetch=t.prefetch?new l(t.prefetch):null,this.index=new a({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),t.initialize!==!1&&this.initialize()}var r;return r=window&&window.Bloodhound,i.noConflict=function(){return window&&(window.Bloodhound=r),i},i.tokenizers=n,e.mixin(i.prototype,{__ttAdapter:function(){function t(t,e,n){return i.search(t,e,n)}function e(t,e){return i.search(t,e)}var i=this;return this.remote?t:e},_loadPrefetch:function(){function e(t,e){return t?i.reject():(r.add(e),r.prefetch.store(r.index.serialize()),void i.resolve())}var i,n,r=this;return i=t.Deferred(),this.prefetch?(n=this.prefetch.fromCache())?(this.index.bootstrap(n),i.resolve()):this.prefetch.fromNetwork(e):i.resolve(),i.promise()},_initialize:function(){function t(){e.add(e.local)}var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(t),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=e.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,i,n){function r(t){var i=[];e.each(t,function(t){!e.some(o,function(e){return s.identify(t)===s.identify(e)})&&i.push(t)}),n&&n(i)}var o,s=this;return o=this.sorter(this.index.search(t)),i(this.remote?o.slice():o),this.remote&&o.length<this.sufficient?this.remote.get(t,r):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return s.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),i}();return u})},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Field=void 0;var o=i(1),s=r(o),a=i(159),l=i(160),c=n(l),h=i(9),u=i(10),d={cache:function(t){t&&(this._cached.packet=t,this._cached.rawval=this.getValue(t,!0))},getPacket:function(){var t=bliss.packets[this._pname];return t&&t.get(0)},getValue:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&t.__get__(this._fname,e)},hasChanged:function(){var t=this.getPacket();return this._cached.packet!==t&&this._cached.rawval!==this.getValue(t,!0)},oninit:function(t){this._fname=t.attrs.name,this._pname=t.attrs.packet,this._raw=t.attrs.raw===!0,this._cached={packet:null,rawval:null}},onbeforeupdate:function(t,e){return this.hasChanged()},view:function(t){var e=this.getPacket(),i=this.getValue(e,this._raw);if(this.cache(e),void 0===i||null===i)i="N/A";else if(i instanceof h.CommandDefinition)i=i.opcode?i.name:"N/A";else if(i instanceof u.EVRDefinition)i=i.code?i.name:"N/A";else if(t.attrs.format){var n=e._defn.fields[this._fname],r=n&&n.type;i=r&&r.isTime?c.utc()(t.attrs.format,i):(0,a.sprintf)(t.attrs.format,i)}return(0,s.default)("bliss-field",t.attrs,i)}};e.default=d,e.Field=d},function(t,e,i){!function(t){function i(){var t=arguments[0],e=i.cache;return e[t]&&e.hasOwnProperty(t)||(e[t]=i.parse(t)),i.format.call(null,e[t],arguments)}function n(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function r(t,e){return Array(e+1).join(t)}var o={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};i.format=function(t,e){var s,a,l,c,h,u,d,f=1,p=t.length,g="",m=[],v=!0,y="";for(a=0;a<p;a++)if(g=n(t[a]),"string"===g)m[m.length]=t[a];else if("array"===g){if(c=t[a],c[2])for(s=e[f],l=0;l<c[2].length;l++){if(!s.hasOwnProperty(c[2][l]))throw new Error(i("[sprintf] property '%s' does not exist",c[2][l]));s=s[c[2][l]]}else s=c[1]?e[c[1]]:e[f++];if("function"==n(s)&&(s=s()),o.not_string.test(c[8])&&o.not_json.test(c[8])&&"number"!=n(s)&&isNaN(s))throw new TypeError(i("[sprintf] expecting number but found %s",n(s)));switch(o.number.test(c[8])&&(v=s>=0),c[8]){case"b":s=s.toString(2);break;case"c":s=String.fromCharCode(s);break;case"d":case"i":s=parseInt(s,10);break;case"j":s=JSON.stringify(s,null,c[6]?parseInt(c[6]):0);break;case"e":s=c[7]?s.toExponential(c[7]):s.toExponential();break;case"f":s=c[7]?parseFloat(s).toFixed(c[7]):parseFloat(s);break;case"g":s=c[7]?parseFloat(s).toPrecision(c[7]):parseFloat(s);break;case"o":s=s.toString(8);break;case"s":s=(s=String(s))&&c[7]?s.substring(0,c[7]):s;break;case"u":s>>>=0;break;case"x":s=s.toString(16);break;case"X":s=s.toString(16).toUpperCase()}o.json.test(c[8])?m[m.length]=s:(!o.number.test(c[8])||v&&!c[3]?y="":(y=v?"+":"-",s=s.toString().replace(o.sign,"")),u=c[4]?"0"===c[4]?"0":c[4].charAt(1):" ",d=c[6]-(y+s).length,h=c[6]&&d>0?r(u,d):"",m[m.length]=c[5]?y+s+h:"0"===u?y+h+s:h+y+s)}return m.join("")},i.cache={},i.parse=function(t){for(var e=t,i=[],n=[],r=0;e;){if(null!==(i=o.text.exec(e)))n[n.length]=i[0];else if(null!==(i=o.modulo.exec(e)))n[n.length]="%";else{if(null===(i=o.placeholder.exec(e)))throw new SyntaxError("[sprintf] unexpected placeholder");if(i[2]){r|=1;var s=[],a=i[2],l=[];if(null===(l=o.key.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s[s.length]=l[1];""!==(a=a.substring(l[0].length));)if(null!==(l=o.key_access.exec(a)))s[s.length]=l[1];else{if(null===(l=o.index_access.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");s[s.length]=l[1]}i[2]=s}else r|=2;if(3===r)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n[n.length]=i}e=e.substring(i[0].length)}return n};var s=function(t,e,n){return n=(e||[]).slice(0),n.splice(0,0,t),i.apply(null,n)};e.sprintf=i,e.vsprintf=s}("undefined"==typeof window?this:window)},function(t,e){!function(){function e(t,c,d){function f(t,e){var i;if(e){if(i=e.getTime(),y){var n=a(e);if(e=new Date(i+n+v),a(e)!==n){var r=a(e);e=new Date(i+r+v)}}}else{var o=Date.now();o>b?(b=o,g=new Date(b),i=b,y&&(g=new Date(b+a(g)+v))):i=b,e=g}return p(t,e,m,i)}function p(t,e,a,c){for(var h="",u=null,d=!1,f=t.length,g=!1,m=0;m<f;m++){var b=t.charCodeAt(m);if(d!==!0)37!==b?h+=t[m]:d=!0;else{if(45===b){u="";continue}if(95===b){u=" ";continue}if(48===b){u="0";continue}if(58===b){g&&l("[WARNING] detected use of unsupported %:: or %::: modifiers to strftime"),g=!0;continue}switch(b){case 37:h+="%";break;case 65:h+=a.days[e.getDay()];break;case 66:h+=a.months[e.getMonth()];break;case 67:h+=i(Math.floor(e.getFullYear()/100),u);break;case 68:h+=p(a.formats.D,e,a,c);break;case 70:h+=p(a.formats.F,e,a,c);break;case 72:h+=i(e.getHours(),u);break;case 73:h+=i(r(e.getHours()),u);break;case 76:h+=n(Math.floor(c%1e3));break;case 77:h+=i(e.getMinutes(),u);break;case 80:h+=e.getHours()<12?a.am:a.pm;break;case 82:h+=p(a.formats.R,e,a,c);break;case 83:h+=i(e.getSeconds(),u);break;case 84:h+=p(a.formats.T,e,a,c);break;case 85:h+=i(o(e,"sunday"),u);break;case 87:h+=i(o(e,"monday"),u);break;case 88:h+=p(a.formats.X,e,a,c);break;case 89:h+=e.getFullYear();break;case 90:if(y&&0===v)h+="GMT";else{var x=e.toString().match(/\(([\w\s]+)\)/);h+=x&&x[1]||""}break;case 97:h+=a.shortDays[e.getDay()];break;case 98:h+=a.shortMonths[e.getMonth()];break;case 99:h+=p(a.formats.c,e,a,c);break;case 100:h+=i(e.getDate(),u);break;case 101:h+=i(e.getDate(),null==u?" ":u);break;case 104:h+=a.shortMonths[e.getMonth()];break;case 106:var w=new Date(e.getFullYear(),0,1),k=Math.ceil((e.getTime()-w.getTime())/864e5);h+=n(k);break;case 107:h+=i(e.getHours(),null==u?" ":u);break;case 108:h+=i(r(e.getHours()),null==u?" ":u);break;case 109:h+=i(e.getMonth()+1,u);break;case 110:h+="\n";break;case 111:var k=e.getDate();h+=a.ordinalSuffixes?String(k)+(a.ordinalSuffixes[k-1]||s(k)):String(k)+s(k);break;case 112:h+=e.getHours()<12?a.AM:a.PM;break;case 114:h+=p(a.formats.r,e,a,c);break;case 115:h+=Math.floor(c/1e3);break;case 116:h+="\t";break;case 117:var k=e.getDay();h+=0===k?7:k;break;case 118:h+=p(a.formats.v,e,a,c);break;case 119:h+=e.getDay();break;case 120:h+=p(a.formats.x,e,a,c);break;case 121:h+=(""+e.getFullYear()).slice(2);break;case 122:if(y&&0===v)h+=g?"+00:00":"+0000";else{var S;S=0!==v?v/6e4:-e.getTimezoneOffset();var C=S<0?"-":"+",T=g?":":"",M=Math.floor(Math.abs(S/60)),A=Math.abs(S%60);h+=C+i(M)+T+i(A)}break;default:d&&(h+="%"),h+=t[m]}u=null,d=!1}}return h}var g,m=t||u,v=c||0,y=d||!1,b=0,x=f;return x.localize=function(t){return new e(t||m,v,y)},x.localizeByIdentifier=function(t){var e=h[t];return e?x.localize(e):(l('[WARNING] No locale found with identifier "'+t+'".'),x)},x.timezone=function(t){var i=v,n=y,r=typeof t;if("number"===r||"string"===r)if(n=!0,"string"===r){var o="-"===t[0]?-1:1,s=parseInt(t.slice(1,3),10),a=parseInt(t.slice(3,5),10);i=o*(60*s+a)*60*1e3}else"number"===r&&(i=60*t*1e3);return new e(m,i,n)},x.utc=function(){return new e(m,v,!0)},x}function i(t,e){return""===e||t>9?t:(null==e&&(e="0"),e+t)}function n(t){return t>99?t:t>9?"0"+t:"00"+t}function r(t){return 0===t?12:t>12?t-12:t}function o(t,e){e=e||"sunday";var i=t.getDay();"monday"===e&&(0===i?i=6:i--);var n=Date.UTC(t.getFullYear(),0,1),r=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()),o=Math.floor((r-n)/864e5),s=(o+7-i)/7;return Math.floor(s)}function s(t){var e=t%10,i=t%100;if(i>=11&&i<=13||0===e||e>=4)return"th";switch(e){case 1:return"st";case 2:return"nd";case 3:return"rd"}}function a(t){return 6e4*(t.getTimezoneOffset()||0)}function l(t){"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t)}var c,h={de_DE:{days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],AM:"AM",PM:"PM",am:"am",pm:"pm",formats:{c:"%a %d %b %Y %X %Z",D:"%d.%m.%Y",F:"%Y-%m-%d",R:"%H:%M",r:"%I:%M:%S %p",T:"%H:%M:%S",v:"%e-%b-%Y",X:"%T",x:"%D"}},en_CA:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ordinalSuffixes:["st","nd","rd","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","st","nd","rd","th","th","th","th","th","th","th","st"],AM:"AM",PM:"PM",am:"am",pm:"pm",formats:{c:"%a %d %b %Y %X %Z",D:"%d/%m/%y",F:"%Y-%m-%d",R:"%H:%M",r:"%I:%M:%S %p",T:"%H:%M:%S",v:"%e-%b-%Y",X:"%r",x:"%D"}},en_US:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ordinalSuffixes:["st","nd","rd","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","st","nd","rd","th","th","th","th","th","th","th","st"],AM:"AM",PM:"PM",am:"am",pm:"pm",formats:{c:"%a %d %b %Y %X %Z",D:"%m/%d/%y",F:"%Y-%m-%d",R:"%H:%M",r:"%I:%M:%S %p",T:"%H:%M:%S",v:"%e-%b-%Y",X:"%r",x:"%D"}},es_MX:{days:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],shortDays:["dom","lun","mar","mi","jue","vie","sb"],months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre"," diciembre"],shortMonths:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],AM:"AM",PM:"PM",am:"am",pm:"pm",formats:{c:"%a %d %b %Y %X %Z",D:"%d/%m/%Y",F:"%Y-%m-%d",R:"%H:%M",r:"%I:%M:%S %p",T:"%H:%M:%S",v:"%e-%b-%Y",X:"%T",x:"%D"}},fr_FR:{days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortDays:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],months:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],shortMonths:["janv.","fvr.","mars","avril","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],AM:"AM",PM:"PM",am:"am",pm:"pm",formats:{c:"%a %d %b %Y %X %Z",D:"%d/%m/%Y",F:"%Y-%m-%d",R:"%H:%M",r:"%I:%M:%S %p",T:"%H:%M:%S",v:"%e-%b-%Y",X:"%T",x:"%D"}},it_IT:{days:["domenica","luned","marted","mercoled","gioved","venerd","sabato"],shortDays:["dom","lun","mar","mer","gio","ven","sab"],months:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],shortMonths:["pr","mag","giu","lug","ago","set","ott","nov","dic"],AM:"AM",PM:"PM",am:"am",pm:"pm",formats:{c:"%a %d %b %Y %X %Z",D:"%d/%m/%Y",F:"%Y-%m-%d",R:"%H:%M",r:"%I:%M:%S %p",T:"%H:%M:%S",v:"%e-%b-%Y",X:"%T",x:"%D"}},nl_NL:{days:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],shortDays:["zo","ma","di","wo","do","vr","za"],months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],shortMonths:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],AM:"AM",PM:"PM",am:"am",pm:"pm",formats:{c:"%a %d %b %Y %X %Z",D:"%d-%m-%y",F:"%Y-%m-%d",R:"%H:%M",r:"%I:%M:%S %p",T:"%H:%M:%S",v:"%e-%b-%Y",X:"%T",x:"%D"}},pt_BR:{days:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],shortDays:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],months:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],shortMonths:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],AM:"AM",PM:"PM",am:"am",pm:"pm",formats:{c:"%a %d %b %Y %X %Z",D:"%d-%m-%Y",F:"%Y-%m-%d",R:"%H:%M",r:"%I:%M:%S %p",T:"%H:%M:%S",v:"%e-%b-%Y",X:"%T",x:"%D"}},ru_RU:{days:["","","","","","",""],shortDays:["","","","","","",""],months:["","","","","","","","","","","",""],shortMonths:["","","","","","","","","","","",""],AM:"AM",PM:"PM",am:"am",pm:"pm",formats:{c:"%a %d %b %Y %X",D:"%d.%m.%y",F:"%Y-%m-%d",R:"%H:%M",r:"%I:%M:%S %p",T:"%H:%M:%S",v:"%e-%b-%Y",X:"%T",x:"%D"}},tr_TR:{days:["Pazar","Pazartesi","Sal","aramba","Perembe","Cuma","Cumartesi"],shortDays:["Paz","Pzt","Sal","r","Pr","Cum","Cts"],months:["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk"],shortMonths:["Oca","ub","Mar","Nis","May","Haz","Tem","Au","Eyl","Eki","Kas","Ara"],AM:"",PM:"S",am:"",pm:"S",formats:{c:"%a %d %b %Y %X %Z",D:"%d-%m-%Y",F:"%Y-%m-%d",R:"%H:%M",r:"%I:%M:%S %p",T:"%H:%M:%S",v:"%e-%b-%Y",X:"%T",x:"%D"}},zh_CN:{days:["","","","","","",""],shortDays:["","","","","","",""],months:["","","","","","","","","","","",""],shortMonths:["","","","","","","","","","","",""],AM:"",PM:"",am:"",pm:"",formats:{c:"%a %d %b %Y %X %Z",D:"%d/%m/%y",F:"%Y-%m-%d",R:"%H:%M",r:"%I:%M:%S %p",T:"%H:%M:%S",v:"%e-%b-%Y",X:"%r",x:"%D"}}},u=h.en_US,d=new e(u,0,!1),f="undefined"!=typeof t;f?c=t.exports=d:(c=function(){return this||(0,eval)("this")}(),c.strftime=d),"function"!=typeof Date.now&&(Date.now=function(){return+new Date})}()},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Messages=void 0;var o=i(1),s=r(o),a=i(11),l=n(a),c={_messages:[],_source:null,add:function(t){this._messages.push(this.normalizeMessage(t)),s.default.redraw()},updateMessageBoxScroll:function(){var t=document.getElementById("blisslogs");t&&(t.scrollTop=t.scrollHeight)},normalizeMessage:function(t){return{timestamp:Date.parse(t.asctime),severity:t.levelname,message:t.message}},oninit:function(t){var e=this;this._source=new EventSource("/messages"),this._source.onmessage=function(t){e.add(JSON.parse(t.data)),e.updateMessageBoxScroll()}},view:function(t){var e=this._messages.map(function(t){return(0,s.default)("div",{class:"row log-"+t.severity.toLowerCase()},[(0,s.default)("div",{class:"col-lg-3"},l.datetime(t.timestamp)),(0,s.default)("div",{class:"col-lg-2"},t.severity),(0,s.default)("div",{class:"col-lg-7"},t.message)])});return(0,s.default)("bliss-messages",t.attrs,(0,s.default)("div",{class:"container",id:"blisslogs"},e))}};e.default=c,e.Messages=c},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Plot=void 0;var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(1),a=n(s),l=i(163),c=n(l);window.Highcharts=c.default;var h={plot:function(t){var e=this,i=t._defn.name,n=this._packets[i];n&&n.forEach(function(n){var r=e._chart.get(i+"."+n);if(r){var o=e._time.get(t),s=t.__get__(n);r.addPoint([o,s],!0,r.data.length>600)}})},processTagTime:function(t){this._time=new u(t.attrs.packet,t.attrs.name)},oninit:function(t){var e=this;this._options={credits:{enabled:!1},legend:{enabled:!0},rangeSelector:{enabled:!1},series:[],title:{text:t.attrs.title},xAxis:{title:{text:"Time (UTC)"}},yAxis:{title:{text:t.attrs["y-title"]}}},this._packets={},this._time=null,t.children.forEach(function(t){if("bliss-plot-time"===t.tag)e.processTagTime(t);else if(t.tag.startsWith("bliss-plot-")){var i=t.attrs.name,n=t.attrs.packet,r=t.tag.substr(11),o=n+"."+i;e._options.series.push({id:o,name:t.attrs.caption||i,color:t.attrs.color,data:[],tooltip:{valueDecimals:2},type:r,showInNavigator:!0}),e._packets[n]=e._packets[n]||[],e._packets[n].push(i)}}),null===this._time&&(this._time=new u),bliss.events.on("bliss:tlm:packet",function(t){return e.plot(t)})},oncreate:function(t){this._chart=new c.default.StockChart(t.dom,this._options)},view:function(t){return(0,a.default)("bliss-plot",t.attrs)}},u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r(this,t),this._pname=e,this._fname=i}return o(t,[{key:"get",value:function(t){var e=this.hasTime(t)?t.__get__(this._fname):null;return e instanceof Date?e=e.getTime():"number"!=typeof e&&(e=Date.now()),e}},{key:"hasTime",value:function(t){var e=t&&t._defn;return e&&this._pname===e.name&&this._fname in e.fields}}]),t}();e.default=h,e.Plot=h},function(t,e){!function(e,i){"object"==typeof t&&t.exports?t.exports=e.document?i(e):i:e.Highcharts=i(e)}("undefined"!=typeof window?window:this,function(t){t=function(){var t=window,e=t.document,i=t.navigator&&t.navigator.userAgent||"",n=e&&e.createElementNS&&!!e.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,r=/(edge|msie|trident)/i.test(i)&&!window.opera,o=!n,s=/Firefox/.test(i),a=s&&4>parseInt(i.split("Firefox/")[1],10);return t.Highcharts?t.Highcharts.error(16,!0):{product:"Highstock",version:"5.0.12",deg2rad:2*Math.PI/360,doc:e,hasBidiBug:a,hasTouch:e&&void 0!==e.documentElement.ontouchstart,isMS:r,isWebKit:/AppleWebKit/.test(i),isFirefox:s,isTouchDevice:/(Mobile|Android|Windows Phone)/.test(i),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:n,vml:o,win:t,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[]}}(),function(t){var e=[],i=t.charts,n=t.doc,r=t.win;t.error=function(e,i){if(e=t.isNumber(e)?"Highcharts error #"+e+": www.highcharts.com/errors/"+e:e,i)throw Error(e);r.console&&console.log(e)},t.Fx=function(t,e,i){this.options=e,this.elem=t,this.prop=i},t.Fx.prototype={dSetter:function(){var t,e=this.paths[0],i=this.paths[1],n=[],r=this.now,o=e.length;if(1===r)n=this.toD;else if(o===i.length&&1>r)for(;o--;)t=parseFloat(e[o]),n[o]=isNaN(t)?e[o]:r*parseFloat(i[o]-t)+t;else n=i;this.elem.attr("d",n,null,!0)},update:function(){var t=this.elem,e=this.prop,i=this.now,n=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,i,null,!0):t.style[e]=i+this.unit,n&&n.call(t,i,this)},run:function(t,i,n){var r,o=this,s=function(t){return!s.stopped&&o.step(t)};this.startTime=+new Date,this.start=t,this.end=i,this.unit=n,this.now=this.start,this.pos=0,s.elem=this.elem,s.prop=this.prop,s()&&1===e.push(s)&&(s.timerId=setInterval(function(){
for(r=0;r<e.length;r++)e[r]()||e.splice(r--,1);e.length||clearInterval(s.timerId)},13))},step:function(e){var i,n=+new Date,r=this.options,o=this.elem,s=r.complete,a=r.duration,l=r.curAnim;return o.attr&&!o.element?e=!1:e||n>=a+this.startTime?(this.now=this.end,this.pos=1,this.update(),i=l[this.prop]=!0,t.objectEach(l,function(t){!0!==t&&(i=!1)}),i&&s&&s.call(o),e=!1):(this.pos=r.easing((n-this.startTime)/a),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0),e},initPath:function(e,i,n){function r(t){var e,i;for(h=t.length;h--;)e="M"===t[h]||"L"===t[h],i=/[a-zA-Z]/.test(t[h+3]),e&&i&&t.splice(h+1,0,t[h+1],t[h+2],t[h+1],t[h+2])}function o(t,e){for(;t.length<l;){t[0]=e[l-t.length];var i=t.slice(0,p);[].splice.apply(t,[0,0].concat(i)),m&&(i=t.slice(t.length-p),[].splice.apply(t,[t.length,0].concat(i)),h--)}t[0]="M"}function s(t,e){for(var i=(l-t.length)/p;0<i&&i--;)c=t.slice().splice(t.length/v-p,p*v),c[0]=e[l-p-i*p],f&&(c[p-6]=c[p-2],c[p-5]=c[p-1]),[].splice.apply(t,[t.length/v,0].concat(c)),m&&i--}i=i||"";var a,l,c,h,u=e.startX,d=e.endX,f=-1<i.indexOf("C"),p=f?7:3;i=i.split(" "),n=n.slice();var g,m=e.isArea,v=m?2:1;if(f&&(r(i),r(n)),u&&d){for(h=0;h<u.length;h++){if(u[h]===d[0]){a=h;break}if(u[0]===d[d.length-u.length+h]){a=h,g=!0;break}}void 0===a&&(i=[])}return i.length&&t.isNumber(a)&&(l=n.length+a*v*p,g?(o(i,n),s(n,i)):(o(n,i),s(i,n))),[i,n]}},t.Fx.prototype.fillSetter=t.Fx.prototype.strokeSetter=function(){this.elem.attr(this.prop,t.color(this.start).tweenTo(t.color(this.end),this.pos),null,!0)},t.extend=function(t,e){var i;t||(t={});for(i in e)t[i]=e[i];return t},t.merge=function(){var e,i,n=arguments,r={},o=function(e,i){return"object"!=typeof e&&(e={}),t.objectEach(i,function(n,r){!t.isObject(n,!0)||t.isClass(n)||t.isDOMElement(n)?e[r]=i[r]:e[r]=o(e[r]||{},n)}),e};for(!0===n[0]&&(r=n[1],n=Array.prototype.slice.call(n,2)),i=n.length,e=0;e<i;e++)r=o(r,n[e]);return r},t.pInt=function(t,e){return parseInt(t,e||10)},t.isString=function(t){return"string"==typeof t},t.isArray=function(t){return t=Object.prototype.toString.call(t),"[object Array]"===t||"[object Array Iterator]"===t},t.isObject=function(e,i){return!(!e||"object"!=typeof e||i&&t.isArray(e))},t.isDOMElement=function(e){return t.isObject(e)&&"number"==typeof e.nodeType},t.isClass=function(e){var i=e&&e.constructor;return!(!t.isObject(e,!0)||t.isDOMElement(e)||!i||!i.name||"Object"===i.name)},t.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.erase=function(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}},t.defined=function(t){return void 0!==t&&null!==t},t.attr=function(e,i,n){var r;return t.isString(i)?t.defined(n)?e.setAttribute(i,n):e&&e.getAttribute&&(r=e.getAttribute(i)):t.defined(i)&&t.isObject(i)&&t.objectEach(i,function(t,i){e.setAttribute(i,t)}),r},t.splat=function(e){return t.isArray(e)?e:[e]},t.syncTimeout=function(t,e,i){return e?setTimeout(t,e,i):void t.call(0,i)},t.pick=function(){var t,e,i=arguments,n=i.length;for(t=0;t<n;t++)if(e=i[t],void 0!==e&&null!==e)return e},t.css=function(e,i){t.isMS&&!t.svg&&i&&void 0!==i.opacity&&(i.filter="alpha(opacity="+100*i.opacity+")"),t.extend(e.style,i)},t.createElement=function(e,i,r,o,s){e=n.createElement(e);var a=t.css;return i&&t.extend(e,i),s&&a(e,{padding:0,border:"none",margin:0}),r&&a(e,r),o&&o.appendChild(e),e},t.extendClass=function(e,i){var n=function(){};return n.prototype=new e,t.extend(n.prototype,i),n},t.pad=function(t,e,i){return Array((e||2)+1-String(t).length).join(i||0)+t},t.relativeLength=function(t,e){return/%$/.test(t)?e*parseFloat(t)/100:parseFloat(t)},t.wrap=function(t,e,i){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments),e=arguments,r=this;return r.proceed=function(){n.apply(r,arguments.length?arguments:e)},t.unshift(n),t=i.apply(this,t),r.proceed=null,t}},t.getTZOffset=function(e){var i=t.Date;return 6e4*(i.hcGetTimezoneOffset&&i.hcGetTimezoneOffset(e)||i.hcTimezoneOffset||0)},t.dateFormat=function(e,i,n){if(!t.defined(i)||isNaN(i))return t.defaultOptions.lang.invalidDate||"";e=t.pick(e,"%Y-%m-%d %H:%M:%S");var r=t.Date,o=new r(i-t.getTZOffset(i)),s=o[r.hcGetHours](),a=o[r.hcGetDay](),l=o[r.hcGetDate](),c=o[r.hcGetMonth](),h=o[r.hcGetFullYear](),u=t.defaultOptions.lang,d=u.weekdays,f=u.shortWeekdays,p=t.pad,r=t.extend({a:f?f[a]:d[a].substr(0,3),A:d[a],d:p(l),e:p(l,2," "),w:a,b:u.shortMonths[c],B:u.months[c],m:p(c+1),y:h.toString().substr(2,2),Y:h,H:p(s),k:s,I:p(s%12||12),l:s%12||12,M:p(o[r.hcGetMinutes]()),p:12>s?"AM":"PM",P:12>s?"am":"pm",S:p(o.getSeconds()),L:p(Math.round(i%1e3),3)},t.dateFormats);return t.objectEach(r,function(t,n){for(;-1!==e.indexOf("%"+n);)e=e.replace("%"+n,"function"==typeof t?t(i):t)}),n?e.substr(0,1).toUpperCase()+e.substr(1):e},t.formatSingle=function(e,i){var n=/\.([0-9])/,r=t.defaultOptions.lang;return/f$/.test(e)?(n=(n=e.match(n))?n[1]:-1,null!==i&&(i=t.numberFormat(i,n,r.decimalPoint,-1<e.indexOf(",")?r.thousandsSep:""))):i=t.dateFormat(e,i),i},t.format=function(e,i){for(var n,r,o,s,a,l="{",c=!1,h=[];e&&(l=e.indexOf(l),-1!==l);){if(n=e.slice(0,l),c){for(n=n.split(":"),r=n.shift().split("."),s=r.length,a=i,o=0;o<s;o++)a=a[r[o]];n.length&&(a=t.formatSingle(n.join(":"),a)),h.push(a)}else h.push(n);e=e.slice(l+1),l=(c=!c)?"}":"{"}return h.push(e),h.join("")},t.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},t.normalizeTickInterval=function(e,i,n,r,o){var s,a=e;for(n=t.pick(n,1),s=e/n,i||(i=o?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===r&&(1===n?i=t.grep(i,function(t){return 0===t%1}):.1>=n&&(i=[1/n]))),r=0;r<i.length&&(a=i[r],!(o&&a*n>=e||!o&&s<=(i[r]+(i[r+1]||i[r]))/2));r++);return a=t.correctFloat(a*n,-Math.round(Math.log(.001)/Math.LN10))},t.stableSort=function(t,e){var i,n,r=t.length;for(n=0;n<r;n++)t[n].safeI=n;for(t.sort(function(t,n){return i=e(t,n),0===i?t.safeI-n.safeI:i}),n=0;n<r;n++)delete t[n].safeI},t.arrayMin=function(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i},t.arrayMax=function(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i},t.destroyObjectProperties=function(e,i){t.objectEach(e,function(t,n){t&&t!==i&&t.destroy&&t.destroy(),delete e[n]})},t.discardElement=function(e){var i=t.garbageBin;i||(i=t.createElement("div")),e&&i.appendChild(e),i.innerHTML=""},t.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},t.setAnimation=function(e,i){i.renderer.globalAnimation=t.pick(e,i.options.chart.animation,!0)},t.animObject=function(e){return t.isObject(e)?t.merge(e):{duration:e?500:0}},t.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},t.numberFormat=function(e,i,n,r){e=+e||0,i=+i;var o,s,a=t.defaultOptions.lang,l=(e.toString().split(".")[1]||"").length;return-1===i?i=Math.min(l,20):t.isNumber(i)||(i=2),s=(Math.abs(e)+Math.pow(10,-Math.max(i,l)-1)).toFixed(i),l=String(t.pInt(s)),o=3<l.length?l.length%3:0,n=t.pick(n,a.decimalPoint),r=t.pick(r,a.thousandsSep),e=(0>e?"-":"")+(o?l.substr(0,o)+r:""),e+=l.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+r),i&&(e+=n+s.slice(-i)),e},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getStyle=function(e,i,n){return"width"===i?Math.min(e.offsetWidth,e.scrollWidth)-t.getStyle(e,"padding-left")-t.getStyle(e,"padding-right"):"height"===i?Math.min(e.offsetHeight,e.scrollHeight)-t.getStyle(e,"padding-top")-t.getStyle(e,"padding-bottom"):((e=r.getComputedStyle(e,void 0))&&(e=e.getPropertyValue(i),t.pick(n,!0)&&(e=t.pInt(e))),e)},t.inArray=function(t,e){return e.indexOf?e.indexOf(t):[].indexOf.call(e,t)},t.grep=function(t,e){return[].filter.call(t,e)},t.find=function(t,e){return[].find.call(t,e)},t.map=function(t,e){for(var i=[],n=0,r=t.length;n<r;n++)i[n]=e.call(t[n],t[n],n,t);return i},t.offset=function(t){var e=n.documentElement;return t=t.getBoundingClientRect(),{top:t.top+(r.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(r.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},t.stop=function(t,i){for(var n=e.length;n--;)e[n].elem!==t||i&&i!==e[n].prop||(e[n].stopped=!0)},t.each=function(t,e,i){return Array.prototype.forEach.call(t,e,i)},t.objectEach=function(t,e,i){for(var n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)},t.addEvent=function(e,i,n){function o(t){t.target=t.srcElement||r,n.call(e,t)}var s=e.hcEvents=e.hcEvents||{};return e.addEventListener?e.addEventListener(i,n,!1):e.attachEvent&&(e.hcEventsIE||(e.hcEventsIE={}),e.hcEventsIE[n.toString()]=o,e.attachEvent("on"+i,o)),s[i]||(s[i]=[]),s[i].push(n),function(){t.removeEvent(e,i,n)}},t.removeEvent=function(e,i,n){function r(t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.attachEvent&&(i=e.hcEventsIE[i.toString()],e.detachEvent("on"+t,i))}function o(){var n,o;e.nodeName&&(i?(n={},n[i]=!0):n=l,t.objectEach(n,function(t,e){if(l[e])for(o=l[e].length;o--;)r(e,l[e][o])}))}var s,a,l=e.hcEvents;l&&(i?(s=l[i]||[],n?(a=t.inArray(n,s),-1<a&&(s.splice(a,1),l[i]=s),r(i,n)):(o(),l[i]=[])):(o(),e.hcEvents={}))},t.fireEvent=function(e,i,r,o){var s;s=e.hcEvents;var a,l;if(r=r||{},n.createEvent&&(e.dispatchEvent||e.fireEvent))s=n.createEvent("Events"),s.initEvent(i,!0,!0),t.extend(s,r),e.dispatchEvent?e.dispatchEvent(s):e.fireEvent(i,s);else if(s)for(s=s[i]||[],a=s.length,r.target||t.extend(r,{preventDefault:function(){r.defaultPrevented=!0},target:e,type:i}),i=0;i<a;i++)(l=s[i])&&!1===l.call(e,r)&&r.preventDefault();o&&!r.defaultPrevented&&o(r)},t.animate=function(e,i,n){var r,o,s,a,l="";t.isObject(n)||(a=arguments,n={duration:a[2],easing:a[3],complete:a[4]}),t.isNumber(n.duration)||(n.duration=400),n.easing="function"==typeof n.easing?n.easing:Math[n.easing]||Math.easeInOutSine,n.curAnim=t.merge(i),t.objectEach(i,function(a,c){t.stop(e,c),s=new t.Fx(e,n,c),o=null,"d"===c?(s.paths=s.initPath(e,e.d,i.d),s.toD=i.d,r=0,o=1):e.attr?r=e.attr(c):(r=parseFloat(t.getStyle(e,c))||0,"opacity"!==c&&(l="px")),o||(o=a),o&&o.match&&o.match("px")&&(o=o.replace(/px/g,"")),s.run(r,o,l)})},t.seriesType=function(e,i,n,r,o){var s=t.getOptions(),a=t.seriesTypes;return a[e]?t.error(27):(s.plotOptions[e]=t.merge(s.plotOptions[i],n),a[e]=t.extendClass(a[i]||function(){},r),a[e].prototype.type=e,o&&(a[e].prototype.pointClass=t.extendClass(t.Point,o)),a[e])},t.uniqueKey=function(){var t=Math.random().toString(36).substring(2,9),e=0;return function(){return"highcharts-"+t+"-"+e++}}(),r.jQuery&&(r.jQuery.fn.highcharts=function(){var e=[].slice.call(arguments);if(this[0])return e[0]?(new(t[t.isString(e[0])?e.shift():"Chart"])(this[0],e[0],e[1]),this):i[t.attr(this[0],"data-highcharts-chart")]}),n&&!n.defaultView&&(t.getStyle=function(e,i){var n={width:"clientWidth",height:"clientHeight"}[i];return e.style[i]?t.pInt(e.style[i]):("opacity"===i&&(i="filter"),n?(e.style.zoom=1,Math.max(e[n]-2*t.getStyle(e,"padding"),0)):(e=e.currentStyle[i.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()})],"filter"===i&&(e=e.replace(/alpha\(opacity=([0-9]+)\)/,function(t,e){return e/100})),""===e?1:t.pInt(e)))}),Array.prototype.forEach||(t.each=function(t,e,i){for(var n=0,r=t.length;n<r;n++)if(!1===e.call(i,t[n],n,t))return n}),Array.prototype.indexOf||(t.inArray=function(t,e){var i,n=0;if(e)for(i=e.length;n<i;n++)if(e[n]===t)return n;return-1}),Array.prototype.filter||(t.grep=function(t,e){for(var i=[],n=0,r=t.length;n<r;n++)e(t[n],n)&&i.push(t[n]);return i}),Array.prototype.find||(t.find=function(t,e){var i,n=t.length;for(i=0;i<n;i++)if(e(t[i],i))return t[i]})}(t),function(t){var e=t.each,i=t.isNumber,n=t.map,r=t.merge,o=t.pInt;t.Color=function(e){return this instanceof t.Color?void this.init(e):new t.Color(e)},t.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),1]}}],names:{none:"rgba(255,255,255,0)",white:"#ffffff",black:"#000000"},init:function(e){var i,r,o,s;if((this.input=e=this.names[e&&e.toLowerCase?e.toLowerCase():""]||e)&&e.stops)this.stops=n(e.stops,function(e){return new t.Color(e[1])});else if(e&&"#"===e[0]&&(i=e.length,e=parseInt(e.substr(1),16),7===i?r=[(16711680&e)>>16,(65280&e)>>8,255&e,1]:4===i&&(r=[(3840&e)>>4|(3840&e)>>8,(240&e)>>4|240&e,(15&e)<<4|15&e,1])),!r)for(o=this.parsers.length;o--&&!r;)s=this.parsers[o],(i=s.regex.exec(e))&&(r=s.parse(i));this.rgba=r||[]},get:function(t){var n,o=this.input,s=this.rgba;return this.stops?(n=r(o),n.stops=[].concat(n.stops),e(this.stops,function(e,i){n.stops[i]=[n.stops[i][0],e.get(t)]})):n=s&&i(s[0])?"rgb"===t||!t&&1===s[3]?"rgb("+s[0]+","+s[1]+","+s[2]+")":"a"===t?s[3]:"rgba("+s.join(",")+")":o,n},brighten:function(t){var n,r=this.rgba;if(this.stops)e(this.stops,function(e){e.brighten(t)});else if(i(t)&&0!==t)for(n=0;3>n;n++)r[n]+=o(255*t),0>r[n]&&(r[n]=0),255<r[n]&&(r[n]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this},tweenTo:function(t,e){var i,n;return t.rgba.length?(i=this.rgba,t=t.rgba,n=1!==t[3]||1!==i[3],t=(n?"rgba(":"rgb(")+Math.round(t[0]+(i[0]-t[0])*(1-e))+","+Math.round(t[1]+(i[1]-t[1])*(1-e))+","+Math.round(t[2]+(i[2]-t[2])*(1-e))+(n?","+(t[3]+(i[3]-t[3])*(1-e)):"")+")"):t=t.input||"none",t}},t.color=function(e){return new t.Color(e)}}(t),function(t){var e,i,n=t.addEvent,r=t.animate,o=t.attr,s=t.charts,a=t.color,l=t.css,c=t.createElement,h=t.defined,u=t.deg2rad,d=t.destroyObjectProperties,f=t.doc,p=t.each,g=t.extend,m=t.erase,v=t.grep,y=t.hasTouch,b=t.inArray,x=t.isArray,w=t.isFirefox,k=t.isMS,S=t.isObject,C=t.isString,T=t.isWebKit,M=t.merge,A=t.noop,L=t.objectEach,O=t.pick,D=t.pInt,_=t.removeEvent,P=t.stop,E=t.svg,N=t.SVG_NS,I=t.symbolSizes,z=t.win;e=t.SVGElement=function(){return this},g(e.prototype,{opacity:1,SVG_NS:N,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline".split(" "),init:function(t,e){this.element="span"===e?c(e):f.createElementNS(this.SVG_NS,e),this.renderer=t},animate:function(e,i,n){return i=t.animObject(O(i,this.renderer.globalAnimation,!0)),0!==i.duration?(n&&(i.complete=n),r(this,e,i)):(this.attr(e,null,n),i.step&&i.step.call(this)),this},colorGradient:function(e,i,n){var r,o,s,a,l,c,u,d,f,g,m,v=this.renderer,y=[];e.radialGradient?o="radialGradient":e.linearGradient&&(o="linearGradient"),o&&(s=e[o],l=v.gradients,u=e.stops,g=n.radialReference,x(s)&&(e[o]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&g&&!h(s.gradientUnits)&&(a=s,s=M(s,v.getRadialAttr(g,a),{gradientUnits:"userSpaceOnUse"})),L(s,function(t,e){"id"!==e&&y.push(e,t)}),L(u,function(t){y.push(t)}),y=y.join(","),l[y]?g=l[y].attr("id"):(s.id=g=t.uniqueKey(),l[y]=c=v.createElement(o).attr(s).add(v.defs),c.radAttr=a,c.stops=[],p(u,function(e){0===e[1].indexOf("rgba")?(r=t.color(e[1]),d=r.get("rgb"),f=r.get("a")):(d=e[1],f=1),e=v.createElement("stop").attr({offset:e[0],"stop-color":d,"stop-opacity":f}).add(c),c.stops.push(e)})),m="url("+v.url+"#"+g+")",n.setAttribute(i,m),n.gradient=y,e.toString=function(){return m})},applyTextOutline:function(e){var i,n,r,s,a,l=this.element;if(-1!==e.indexOf("contrast")&&(e=e.replace(/contrast/g,this.renderer.getContrast(l.style.fill))),e=e.split(" "),n=e[e.length-1],(r=e[0])&&"none"!==r&&t.svg){for(this.fakeTS=!0,e=[].slice.call(l.getElementsByTagName("tspan")),this.ySetter=this.xSetter,r=r.replace(/(^[\d\.]+)(.*?)$/g,function(t,e,i){return 2*e+i}),a=e.length;a--;)i=e[a],"highcharts-text-outline"===i.getAttribute("class")&&m(e,l.removeChild(i));s=l.firstChild,p(e,function(t,e){0===e&&(t.setAttribute("x",l.getAttribute("x")),e=l.getAttribute("y"),t.setAttribute("y",e||0),null===e&&l.setAttribute("y",0)),t=t.cloneNode(1),o(t,{class:"highcharts-text-outline",fill:n,stroke:n,"stroke-width":r,"stroke-linejoin":"round"}),l.insertBefore(t,s)})}},attr:function(t,e,i,n){var r,o,s,a,l=this.element,c=this;return"string"==typeof t&&void 0!==e&&(r=t,t={},t[r]=e),"string"==typeof t?c=(this[t+"Getter"]||this._defaultGetter).call(this,t,l):(L(t,function(e,i){s=!1,n||P(this,i),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(i)&&(o||(this.symbolAttr(t),o=!0),s=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),s||(a=this[i+"Setter"]||this._defaultSetter,a.call(this,e,i,l),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,e,a))},this),this.afterSetters()),i&&i(),c},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(t,e,i){for(var n=this.shadows,r=n.length;r--;)i.call(n[r],"height"===t?Math.max(e-(n[r].cutHeight||0),0):"d"===t?this.d:e,t,n[r])},addClass:function(t,e){var i=this.attr("class")||"";return-1===i.indexOf(t)&&(e||(t=(i+(i?" ":"")+t).replace("  "," ")),this.attr("class",t)),this},hasClass:function(t){return-1!==o(this.element,"class").indexOf(t)},removeClass:function(t){return o(this.element,"class",(o(this.element,"class")||"").replace(t,"")),this},symbolAttr:function(t){var e=this;p("x y r start end width height innerR anchorX anchorY".split(" "),function(i){e[i]=O(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t,e){var i,n=this,r={};return e=e||t.strokeWidth||0,i=Math.round(e)%2/2,t.x=Math.floor(t.x||n.x||0)+i,t.y=Math.floor(t.y||n.y||0)+i,t.width=Math.floor((t.width||n.width||0)-2*i),t.height=Math.floor((t.height||n.height||0)-2*i),h(t.strokeWidth)&&(t.strokeWidth=e),L(t,function(t,e){n[e]!==t&&(n[e]=r[e]=t)}),r},css:function(t){var e,i,n=this.styles,r={},s=this.element,a="",c=!n,h=["textOutline","textOverflow","width"];return t&&t.color&&(t.fill=t.color),n&&L(t,function(t,e){t!==n[e]&&(r[e]=t,c=!0)}),c&&(n&&(t=g(n,r)),e=this.textWidth=t&&t.width&&"auto"!==t.width&&"text"===s.nodeName.toLowerCase()&&D(t.width),this.styles=t,e&&!E&&this.renderer.forExport&&delete t.width,k&&!E?l(this.element,t):(i=function(t,e){return"-"+e.toLowerCase()},L(t,function(t,e){-1===b(e,h)&&(a+=e.replace(/([A-Z])/g,i)+":"+t+";")}),a&&o(s,"style",a)),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t&&t.textOutline&&this.applyTextOutline(t.textOutline))),this},strokeWidth:function(){return this["stroke-width"]||0},on:function(t,e){var i=this,n=i.element;return y&&"click"===t?(n.ontouchstart=function(t){i.touchEventFired=Date.now(),t.preventDefault(),e.call(n,t)},n.onclick=function(t){(-1===z.navigator.userAgent.indexOf("Android")||1100<Date.now()-(i.touchEventFired||0))&&e.call(n,t)}):n["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){return this.inverted=t,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,i=this.scaleX,n=this.scaleY,r=this.inverted,o=this.rotation,s=this.element;r&&(t+=this.width,e+=this.height),t=["translate("+t+","+e+")"],r?t.push("rotate(90) scale(-1,1)"):o&&t.push("rotate("+o+" "+(s.getAttribute("x")||0)+" "+(s.getAttribute("y")||0)+")"),(h(i)||h(n))&&t.push("scale("+O(i,1)+" "+O(n,1)+")"),t.length&&s.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var n,r,o,s,a={};r=this.renderer,o=r.alignedObjects;var l,c;return t?(this.alignOptions=t,this.alignByTranslate=e,(!i||C(i))&&(this.alignTo=n=i||"renderer",m(o,this),o.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,n=this.alignTo),i=O(i,r[n],r),n=t.align,r=t.verticalAlign,o=(i.x||0)+(t.x||0),s=(i.y||0)+(t.y||0),"right"===n?l=1:"center"===n&&(l=2),l&&(o+=(i.width-(t.width||0))/l),a[e?"translateX":"x"]=Math.round(o),"bottom"===r?c=1:"middle"===r&&(c=2),c&&(s+=(i.height-(t.height||0))/c),a[e?"translateY":"y"]=Math.round(s),this[this.placed?"animate":"attr"](a),this.placed=!0,this.alignAttr=a,this},getBBox:function(t,e){var i,n,r,o,s,a=this.renderer,l=this.element,c=this.styles,h=this.textStr,d=a.cache,f=a.cacheKeys;if(e=O(e,this.rotation),n=e*u,r=c&&c.fontSize,void 0!==h&&(s=h.toString(),-1===s.indexOf("<")&&(s=s.replace(/[0-9]/g,"0")),s+=["",e||0,r,c&&c.width,c&&c.textOverflow].join()),s&&!t&&(i=d[s]),!i){if(l.namespaceURI===this.SVG_NS||a.forExport){try{(o=this.fakeTS&&function(t){p(l.querySelectorAll(".highcharts-text-outline"),function(e){e.style.display=t})})&&o("none"),i=l.getBBox?g({},l.getBBox()):{width:l.offsetWidth,height:l.offsetHeight},o&&o("")}catch(t){}(!i||0>i.width)&&(i={width:0,height:0})}else i=this.htmlGetBBox();if(a.isSVG&&(t=i.width,a=i.height,c&&"11px"===c.fontSize&&17===Math.round(a)&&(i.height=a=14),e&&(i.width=Math.abs(a*Math.sin(n))+Math.abs(t*Math.cos(n)),i.height=Math.abs(a*Math.cos(n))+Math.abs(t*Math.sin(n)))),s&&0<i.height){for(;250<f.length;)delete d[f.shift()];d[s]||f.push(s),d[s]=i}}return i},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,i=this.renderer,n=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:i.box).appendChild(n),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t=this,e=t.element||{},i=t.renderer.isSVG&&"SPAN"===e.nodeName&&t.parentGroup,n=e.ownerSVGElement;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,P(t),t.clipPath&&n&&(p(n.querySelectorAll("[clip-path]"),function(e){-1<e.getAttribute("clip-path").indexOf(t.clipPath.element.id+")")&&e.removeAttribute("clip-path")}),t.clipPath=t.clipPath.destroy()),t.stops){for(n=0;n<t.stops.length;n++)t.stops[n]=t.stops[n].destroy();t.stops=null}for(t.safeRemoveChild(e),t.destroyShadows();i&&i.div&&0===i.div.childNodes.length;)e=i.parentGroup,t.safeRemoveChild(i.div),delete i.div,i=e;return t.alignTo&&m(t.renderer.alignedObjects,t),L(t,function(e,i){delete t[i]}),null},shadow:function(t,e,i){var n,r,s,a,l,c,h=[],u=this.element;if(t){if(!this.shadows){for(a=O(t.width,3),l=(t.opacity||.15)/a,c=this.parentInverted?"(-1,-1)":"("+O(t.offsetX,1)+", "+O(t.offsetY,1)+")",n=1;n<=a;n++)r=u.cloneNode(0),s=2*a+1-2*n,o(r,{isShadow:"true",stroke:t.color||"#000000","stroke-opacity":l*n,"stroke-width":s,transform:"translate"+c,fill:"none"}),i&&(o(r,"height",Math.max(o(r,"height")-s,0)),r.cutHeight=s),e?e.element.appendChild(r):u.parentNode.insertBefore(r,u),h.push(r);this.shadows=h}}else this.destroyShadows();return this},destroyShadows:function(){p(this.shadows||[],function(t){this.safeRemoveChild(t)},this),this.shadows=void 0},xGetter:function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},_defaultGetter:function(t){return t=O(this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,i){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),i.setAttribute(e,t),this[e]=t},dashstyleSetter:function(t){var e,i=this["stroke-width"];if("inherit"===i&&(i=1),t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),e=t.length;e--;)t[e]=D(t[e])*i;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,i){this[e]=t,i.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=f.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(f.createTextNode(String(O(t),"").replace(/<[^>]*>/g,"")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,i){"string"==typeof t?i.setAttribute(e,t):t&&this.colorGradient(t,e,i)},visibilitySetter:function(t,e,i){"inherit"===t?i.removeAttribute(e):i.setAttribute(e,t)},zIndexSetter:function(t,e){var i,n,r=this.renderer,o=this.parentGroup,s=(o||r).element||r.box,a=this.element;i=this.added;var l;if(h(t)&&(a.zIndex=t,t=+t,this[e]===t&&(i=!1),this[e]=t),i){for((t=this.zIndex)&&o&&(o.handleZ=!0),e=s.childNodes,l=0;l<e.length&&!n;l++)o=e[l],i=o.zIndex,o!==a&&(D(i)>t||!h(t)&&h(i)||0>t&&!h(i)&&s!==r.box)&&(s.insertBefore(a,o),n=!0);n||s.appendChild(a)}return n},_defaultSetter:function(t,e,i){i.setAttribute(e,t)}}),e.prototype.yGetter=e.prototype.xGetter,e.prototype.translateXSetter=e.prototype.translateYSetter=e.prototype.rotationSetter=e.prototype.verticalAlignSetter=e.prototype.scaleXSetter=e.prototype.scaleYSetter=function(t,e){this[e]=t,this.doTransform=!0},e.prototype["stroke-widthSetter"]=e.prototype.strokeSetter=function(t,i,n){this[i]=t,this.stroke&&this["stroke-width"]?(e.prototype.fillSetter.call(this,this.stroke,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===i&&0===t&&this.hasStroke&&(n.removeAttribute("stroke"),this.hasStroke=!1)},i=t.SVGRenderer=function(){this.init.apply(this,arguments)},g(i.prototype,{Element:e,SVG_NS:N,init:function(t,e,i,r,s,a){var c;r=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}).css(this.getStyle(r)),c=r.element,t.appendChild(c),-1===t.innerHTML.indexOf("xmlns")&&o(c,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=c,this.boxWrapper=r,this.alignedObjects=[],this.url=(w||T)&&f.getElementsByTagName("base").length?z.location.href.replace(/#.*?$/,"").replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(f.createTextNode("Created with Highstock 5.0.12")),this.defs=this.createElement("defs").add(),this.allowHTML=a,this.forExport=s,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,i,!1);var h;w&&t.getBoundingClientRect&&(e=function(){l(t,{left:0,top:0}),h=t.getBoundingClientRect(),l(t,{left:Math.ceil(h.left)-h.left+"px",top:Math.ceil(h.top)-h.top+"px"})},e(),this.unSubPixelFix=n(z,"resize",e))},getStyle:function(t){return this.style=g({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),d(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:A,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},getSpanWidth:function(t,e){var i=t.getBBox(!0).width;return!E&&this.forExport&&(i=this.measureSpanWidth(e.firstChild.data,t.styles)),i},applyEllipsis:function(t,e,i,n){var r,o=this.getSpanWidth(t,e),s=o>n,o=i,a=0,l=i.length,c=function(t){e.removeChild(e.firstChild),t&&e.appendChild(f.createTextNode(t))};if(s){for(;a<=l;)r=Math.ceil((a+l)/2),o=i.substring(0,r)+"",c(o),o=this.getSpanWidth(t,e),a===l?a=l+1:o>n?l=r-1:a=r;0===l&&c("")}return s},buildText:function(t){var e,i,n,r,s,a,c=t.element,h=this,u=h.forExport,d=O(t.textStr,"").toString(),g=-1!==d.indexOf("<"),m=c.childNodes,y=o(c,"x"),b=t.styles,x=t.textWidth,w=b&&b.lineHeight,k=b&&b.textOutline,S=b&&"ellipsis"===b.textOverflow,C=b&&"nowrap"===b.whiteSpace,T=b&&b.fontSize,M=m.length,b=x&&!t.added&&this.box,A=function(t){var e;return e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:T||h.style.fontSize||12,w?D(w):h.fontMetrics(e,t.getAttribute("style")?t:c).h};if(s=[d,S,C,w,k,T,x].join(),s!==t.textCache){for(t.textCache=s;M--;)c.removeChild(m[M]);g||k||S||x||-1!==d.indexOf(" ")?(e=/<.*class="([^"]+)".*>/,i=/<.*style="([^"]+)".*>/,n=/<.*href="([^"]+)".*>/,b&&b.appendChild(c),d=g?d.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[d],d=v(d,function(t){return""!==t}),p(d,function(s,d){var g,m=0;s=s.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),g=s.split("|||"),p(g,function(s){if(""!==s||1===g.length){var p,v,b={},w=f.createElementNS(h.SVG_NS,"tspan");if(e.test(s)&&(p=s.match(e)[1],o(w,"class",p)),i.test(s)&&(v=s.match(i)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),o(w,"style",v)),n.test(s)&&!u&&(o(w,"onclick",'location.href="'+s.match(n)[1]+'"'),l(w,{cursor:"pointer"})),s=(s.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">")," "!==s){if(w.appendChild(f.createTextNode(s)),m?b.dx=0:d&&null!==y&&(b.x=y),o(w,b),c.appendChild(w),!m&&a&&(!E&&u&&l(w,{display:"block"}),o(w,"dy",A(w))),x){b=s.replace(/([^\^])-/g,"$1- ").split(" "),p=1<g.length||d||1<b.length&&!C;var k,T=[],M=A(w),L=t.rotation;for(S&&(r=h.applyEllipsis(t,w,s,x));!S&&p&&(b.length||T.length);)t.rotation=0,k=h.getSpanWidth(t,w),s=k>x,void 0===r&&(r=s),s&&1!==b.length?(w.removeChild(w.firstChild),T.unshift(b.pop())):(b=T,T=[],b.length&&!C&&(w=f.createElementNS(N,"tspan"),o(w,{dy:M,x:y}),v&&o(w,"style",v),c.appendChild(w)),k>x&&(x=k)),b.length&&w.appendChild(f.createTextNode(b.join(" ").replace(/- /g,"-")));t.rotation=L}m++}}}),a=a||c.childNodes.length}),r&&t.attr("title",t.textStr),b&&b.removeChild(c),k&&t.applyTextOutline&&t.applyTextOutline(k)):c.appendChild(f.createTextNode(d.replace(/&lt;/g,"<").replace(/&gt;/g,">")))}},getContrast:function(t){return t=a(t).rgba,510<t[0]+t[1]+t[2]?"#000000":"#FFFFFF"},button:function(t,e,i,r,o,s,a,l,c){var h=this.label(t,e,i,c,null,null,null,null,"button"),u=0;h.attr(M({padding:8,r:2},o));var d,f,p,m;return o=M({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},o),d=o.style,delete o.style,s=M(o,{fill:"#e6e6e6"},s),f=s.style,delete s.style,a=M(o,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},a),p=a.style,delete a.style,l=M(o,{style:{color:"#cccccc"}},l),m=l.style,delete l.style,n(h.element,k?"mouseover":"mouseenter",function(){3!==u&&h.setState(1)}),n(h.element,k?"mouseout":"mouseleave",function(){3!==u&&h.setState(u)}),h.setState=function(t){1!==t&&(h.state=u=t),h.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),h.attr([o,s,a,l][t||0]).css([d,f,p,m][t||0])},h.attr(o).css(g({cursor:"default"},d)),h.on("click",function(t){3!==u&&r.call(h,t)})},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e={fill:"none"};return x(t)?e.d=t:S(t)&&g(e,t),this.createElement("path").attr(e)},circle:function(t,e,i){return t=S(t)?t:{x:t,y:e,r:i},e=this.createElement("circle"),e.xSetter=e.ySetter=function(t,e,i){i.setAttribute("c"+e,t)},e.attr(t)},arc:function(t,e,i,n,r,o){return S(t)?(n=t,e=n.y,i=n.r,t=n.x):n={innerR:n,start:r,end:o},t=this.symbol("arc",t,e,i,i,n),t.r=i,t},rect:function(t,e,i,n,r,s){r=S(t)?t.r:r;var a=this.createElement("rect");return t=S(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(i,0),height:Math.max(n,0)},void 0!==s&&(t.strokeWidth=s,t=a.crisp(t)),t.fill="none",r&&(t.r=r),a.rSetter=function(t,e,i){
o(i,{rx:t,ry:t})},a.attr(t)},setSize:function(t,e,i){var n=this.alignedObjects,r=n.length;for(this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:O(i,!0)?void 0:0});r--;)n[r].align()},g:function(t){var e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e},image:function(t,e,i,n,r){var o={preserveAspectRatio:"none"};return 1<arguments.length&&g(o,{x:e,y:i,width:n,height:r}),o=this.createElement("image").attr(o),o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):o.element.setAttribute("hc-svg-href",t),o},symbol:function(t,e,i,n,r,o){var a,u,d,m=this,v=/^url\((.*?)\)$/,y=v.test(t),b=!y&&(this.symbols[t]?t:"circle"),x=b&&this.symbols[b],w=h(e)&&x&&x.call(this.symbols,Math.round(e),Math.round(i),n,r,o);return x?(a=this.path(w),a.attr("fill","none"),g(a,{symbolName:b,x:e,y:i,width:n,height:r}),o&&g(a,o)):y&&(u=t.match(v)[1],a=this.image(u),a.imgwidth=O(I[u]&&I[u].width,o&&o.width),a.imgheight=O(I[u]&&I[u].height,o&&o.height),d=function(){a.attr({width:a.width,height:a.height})},p(["width","height"],function(t){a[t+"Setter"]=function(t,e){var i={},n=this["img"+e],r="width"===e?"translateX":"translateY";this[e]=t,h(n)&&(this.element&&this.element.setAttribute(e,n),this.alignByTranslate||(i[r]=((this[e]||0)-n)/2,this.attr(i)))}}),h(e)&&a.attr({x:e,y:i}),a.isImg=!0,h(a.imgwidth)&&h(a.imgheight)?d():(a.attr({width:0,height:0}),c("img",{onload:function(){var t=s[m.chartIndex];0===this.width&&(l(this,{position:"absolute",top:"-999em"}),f.body.appendChild(this)),I[u]={width:this.width,height:this.height},a.imgwidth=this.width,a.imgheight=this.height,a.element&&d(),this.parentNode&&this.parentNode.removeChild(this),m.imgCount--,!m.imgCount&&t&&t.onload&&t.onload()},src:u}),this.imgCount++)),a},symbols:{circle:function(t,e,i,n){return this.arc(t+i/2,e+n/2,i/2,n/2,{start:0,end:2*Math.PI,open:!1})},square:function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,r){var o=r.start,s=r.r||i,a=r.r||n||i,l=r.end-.001;i=r.innerR,n=r.open;var c=Math.cos(o),u=Math.sin(o),d=Math.cos(l),l=Math.sin(l);return r=r.end-o<Math.PI?0:1,s=["M",t+s*c,e+a*u,"A",s,a,0,r,1,t+s*d,e+a*l],h(i)&&s.push(n?"M":"L",t+i*d,e+i*l,"A",i,i,0,r,0,t+i*c,e+i*u),s.push(n?"":"Z"),s},callout:function(t,e,i,n,r){var o=Math.min(r&&r.r||0,i,n),s=o+6,a=r&&r.anchorX;r=r&&r.anchorY;var l;return l=["M",t+o,e,"L",t+i-o,e,"C",t+i,e,t+i,e,t+i,e+o,"L",t+i,e+n-o,"C",t+i,e+n,t+i,e+n,t+i-o,e+n,"L",t+o,e+n,"C",t,e+n,t,e+n,t,e+n-o,"L",t,e+o,"C",t,e,t,e,t+o,e],a&&a>i?r>e+s&&r<e+n-s?l.splice(13,3,"L",t+i,r-6,t+i+6,r,t+i,r+6,t+i,e+n-o):l.splice(13,3,"L",t+i,n/2,a,r,t+i,n/2,t+i,e+n-o):a&&0>a?r>e+s&&r<e+n-s?l.splice(33,3,"L",t,r+6,t-6,r,t,r-6,t,e+o):l.splice(33,3,"L",t,n/2,a,r,t,n/2,t,e+o):r&&r>n&&a>t+s&&a<t+i-s?l.splice(23,3,"L",a+6,e+n,a,e+n+6,a-6,e+n,t+o,e+n):r&&0>r&&a>t+s&&a<t+i-s&&l.splice(3,3,"L",a-6,e,a,e-6,a+6,e,i-o,e),l}},clipRect:function(e,i,n,r){var o=t.uniqueKey(),s=this.createElement("clipPath").attr({id:o}).add(this.defs);return e=this.rect(e,i,n,r,0).add(s),e.id=o,e.clipPath=s,e.count=0,e},text:function(t,e,i,n){var r=!E&&this.forExport,o={};return!n||!this.allowHTML&&this.forExport?(o.x=Math.round(e||0),i&&(o.y=Math.round(i)),(t||0===t)&&(o.text=t),t=this.createElement("text").attr(o),r&&t.css({position:"absolute"}),n||(t.xSetter=function(t,e,i){var n,r,o=i.getElementsByTagName("tspan"),s=i.getAttribute(e);for(r=0;r<o.length;r++)n=o[r],n.getAttribute(e)===s&&n.setAttribute(e,t);i.setAttribute(e,t)}),t):this.html(t,e,i)},fontMetrics:function(t,e){return t=t||e&&e.style&&e.style.fontSize||this.style&&this.style.fontSize,t=/px/.test(t)?D(t):/em/.test(t)?parseFloat(t)*(e?this.fontMetrics(null,e.parentNode).f:16):12,e=24>t?t+3:Math.round(1.2*t),{h:e,b:Math.round(.8*e),f:t}},rotCorr:function(t,e,i){var n=t;return e&&i&&(n=Math.max(n*Math.cos(e*u),4)),{x:-t/3*Math.sin(e*u),y:n}},label:function(i,n,r,o,s,a,l,c,u){var d,f,m,v,y,b,x,w,k,S,C,T,A,L=this,O=L.g("button"!==u&&"label"),D=O.text=L.text("",0,0,l).attr({zIndex:1}),P=0,E=3,N=0,I={},z=/^url\((.*?)\)$/.test(o),R=z;u&&O.addClass("highcharts-"+u),R=z,S=function(){return(w||0)%2/2},C=function(){var t=D.element.style,e={};f=(void 0===m||void 0===v||x)&&h(D.textStr)&&D.getBBox(),O.width=(m||f.width||0)+2*E+N,O.height=(v||f.height||0)+2*E,k=E+L.fontMetrics(t&&t.fontSize,D).b,R&&(d||(O.box=d=L.symbols[o]||z?L.symbol(o):L.rect(),d.addClass(("button"===u?"":"highcharts-label-box")+(u?" highcharts-"+u+"-box":"")),d.add(O),t=S(),e.x=t,e.y=(c?-k:0)+t),e.width=Math.round(O.width),e.height=Math.round(O.height),d.attr(g(e,I)),I={})},T=function(){var t,e=N+E;t=c?0:k,h(m)&&f&&("center"===x||"right"===x)&&(e+={center:.5,right:1}[x]*(m-f.width)),e===D.x&&t===D.y||(D.attr("x",e),void 0!==t&&D.attr("y",t)),D.x=e,D.y=t},A=function(t,e){d?d.attr(t,e):I[t]=e},O.onAdd=function(){D.add(O),O.attr({text:i||0===i?i:"",x:n,y:r}),d&&h(s)&&O.attr({anchorX:s,anchorY:a})},O.widthSetter=function(e){m=t.isNumber(e)?e:null},O.heightSetter=function(t){v=t},O["text-alignSetter"]=function(t){x=t},O.paddingSetter=function(t){h(t)&&t!==E&&(E=O.padding=t,T())},O.paddingLeftSetter=function(t){h(t)&&t!==N&&(N=t,T())},O.alignSetter=function(t){t={left:0,center:.5,right:1}[t],t!==P&&(P=t,f&&O.attr({x:y}))},O.textSetter=function(t){void 0!==t&&D.textSetter(t),C(),T()},O["stroke-widthSetter"]=function(t,e){t&&(R=!0),w=this["stroke-width"]=t,A(e,t)},O.strokeSetter=O.fillSetter=O.rSetter=function(t,e){"fill"===e&&t&&(R=!0),A(e,t)},O.anchorXSetter=function(t,e){s=O.anchorX=t,A(e,Math.round(t)-S()-y)},O.anchorYSetter=function(t,e){a=O.anchorY=t,A(e,t-b)},O.xSetter=function(t){O.x=t,P&&(t-=P*((m||f.width)+2*E)),y=Math.round(t),O.attr("translateX",y)},O.ySetter=function(t){b=O.y=Math.round(t),O.attr("translateY",b)};var H=O.css;return g(O,{css:function(t){if(t){var e={};t=M(t),p(O.textProps,function(i){void 0!==t[i]&&(e[i]=t[i],delete t[i])}),D.css(e)}return H.call(O,t)},getBBox:function(){return{width:f.width+2*E,height:f.height+2*E,x:f.x-E,y:f.y-E}},shadow:function(t){return t&&(C(),d&&d.shadow(t)),O},destroy:function(){_(O.element,"mouseenter"),_(O.element,"mouseleave"),D&&(D=D.destroy()),d&&(d=d.destroy()),e.prototype.destroy.call(O),O=L=C=T=A=null}})}}),t.Renderer=i}(t),function(t){var e=t.attr,i=t.createElement,n=t.css,r=t.defined,o=t.each,s=t.extend,a=t.isFirefox,l=t.isMS,c=t.isWebKit,h=t.pInt,u=t.SVGRenderer,d=t.win,f=t.wrap;s(t.SVGElement.prototype,{htmlCss:function(t){var e=this.element;return(e=t&&"SPAN"===e.tagName&&t.width)&&(delete t.width,this.textWidth=e,this.updateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=s(this.styles,t),n(this.element,t),this},htmlGetBBox:function(){var t=this.element;return"text"===t.nodeName&&(t.style.position="absolute"),{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,i=this.translateX||0,s=this.translateY||0,a=this.x||0,l=this.y||0,u=this.textAlign||"left",d={left:0,center:.5,right:1}[u],f=this.styles;if(n(e,{marginLeft:i,marginTop:s}),this.shadows&&o(this.shadows,function(t){n(t,{marginLeft:i+1,marginTop:s+1})}),this.inverted&&o(e.childNodes,function(i){t.invertChild(i,e)}),"SPAN"===e.tagName){var p=this.rotation,g=h(this.textWidth),m=f&&f.whiteSpace,v=[p,u,e.innerHTML,this.textWidth,this.textAlign].join();v!==this.cTT&&(f=t.fontMetrics(e.style.fontSize).b,r(p)&&this.setSpanRotation(p,d,f),n(e,{width:"",whiteSpace:m||"nowrap"}),e.offsetWidth>g&&/[ \-]/.test(e.textContent||e.innerText)&&n(e,{width:g+"px",display:"block",whiteSpace:m||"normal"}),this.getSpanCorrection(e.offsetWidth,f,d,p,u)),n(e,{left:a+(this.xCorr||0)+"px",top:l+(this.yCorr||0)+"px"}),c&&(f=e.offsetHeight),this.cTT=v}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,i){var r={},o=l?"-ms-transform":c?"-webkit-transform":a?"MozTransform":d.opera?"-o-transform":"";r[o]=r.transform="rotate("+t+"deg)",r[o+(a?"Origin":"-origin")]=r.transformOrigin=100*e+"% "+i+"px",n(this.element,r)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),s(u.prototype,{html:function(t,n,r){var a=this.createElement("span"),l=a.element,c=a.renderer,h=c.isSVG,u=function(t,e){o(["opacity","visibility"],function(i){f(t,i+"Setter",function(t,i,n,r){t.call(this,i,n,r),e[n]=i})})};return a.textSetter=function(t){t!==l.innerHTML&&delete this.bBox,l.innerHTML=this.textStr=t,a.htmlUpdateTransform()},h&&u(a,a.element.style),a.xSetter=a.ySetter=a.alignSetter=a.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),a[e]=t,a.htmlUpdateTransform()},a.attr({text:t,x:Math.round(n),y:Math.round(r)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),l.style.whiteSpace="nowrap",a.css=a.htmlCss,h&&(a.add=function(t){var n,r=c.box.parentNode,h=[];if(this.parentGroup=t){if(n=t.div,!n){for(;t;)h.push(t),t=t.parentGroup;o(h.reverse(),function(t){var o,l=e(t.element,"class");l&&(l={className:l}),n=t.div=t.div||i("div",l,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},n||r),o=n.style,s(t,{on:function(){return a.on.apply({element:h[0].div},arguments),t},translateXSetter:function(e,i){o.left=e+"px",t[i]=e,t.doTransform=!0},translateYSetter:function(e,i){o.top=e+"px",t[i]=e,t.doTransform=!0}}),u(t,o)})}}else n=r;return n.appendChild(l),a.added=!0,a.alignOnAdd&&a.htmlUpdateTransform(),a}),a}})}(t),function(t){var e,i,n=t.createElement,r=t.css,o=t.defined,s=t.deg2rad,a=t.discardElement,l=t.doc,c=t.each,h=t.erase,u=t.extend;e=t.extendClass;var d=t.isArray,f=t.isNumber,p=t.isObject,g=t.merge;i=t.noop;var m=t.pick,v=t.pInt,y=t.SVGElement,b=t.SVGRenderer,x=t.win;t.svg||(i={docMode8:l&&8===l.documentMode,init:function(t,e){var i=["<",e,' filled="f" stroked="f"'],r=["position: ","absolute",";"],o="div"===e;("shape"===e||o)&&r.push("left:0;top:0;width:1px;height:1px;"),r.push("visibility: ",o?"hidden":"visible"),i.push(' style="',r.join(""),'"/>'),e&&(i=o||"span"===e||"img"===e?i.join(""):t.prepVML(i),this.element=n(i)),this.renderer=t},add:function(t){var e=this.renderer,i=this.element,n=e.box,r=t&&t.inverted,n=t?t.element||t:n;return t&&(this.parentGroup=t),r&&e.invertChild(i,n),n.appendChild(i),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this.className&&this.attr("class",this.className),this},updateTransform:y.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=Math.cos(t*s),i=Math.sin(t*s);r(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-i,", M21=",i,", M22=",e,", sizingMethod='auto expand')"].join(""):"none"})},getSpanCorrection:function(t,e,i,n,o){var a,l=n?Math.cos(n*s):1,c=n?Math.sin(n*s):0,h=m(this.elemHeight,this.element.offsetHeight);this.xCorr=0>l&&-t,this.yCorr=0>c&&-h,a=0>l*c,this.xCorr+=c*e*(a?1-i:i),this.yCorr-=l*e*(n?a?i:1-i:1),o&&"left"!==o&&(this.xCorr-=t*i*(0>l?-1:1),n&&(this.yCorr-=h*i*(0>c?-1:1)),r(this.element,{textAlign:o}))},pathToVML:function(t){for(var e=t.length,i=[];e--;)f(t[e])?i[e]=Math.round(10*t[e])-5:"Z"===t[e]?i[e]="x":(i[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(i[e+5]===i[e+7]&&(i[e+7]+=t[e+7]>t[e+5]?1:-1),i[e+6]===i[e+8]&&(i[e+8]+=t[e+8]>t[e+6]?1:-1)));return i.join(" ")||"x"},clip:function(t){var e,i=this;return t?(e=t.members,h(e,i),e.push(i),i.destroyClip=function(){h(e,i)},t=t.getCSS(i)):(i.destroyClip&&i.destroyClip(),t={clip:i.docMode8?"inherit":"rect(auto)"}),i.css(t)},css:y.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&a(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),y.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=x.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var i;return t=t.split(/[ ,]/),i=t.length,9!==i&&11!==i||(t[i-4]=t[i-2]=v(t[i-2])-10*e),t.join(" ")},shadow:function(t,e,i){var r,o,s,a,l,c,h,u=[],d=this.element,f=this.renderer,p=d.style,g=d.path;if(g&&"string"!=typeof g.value&&(g="x"),l=g,t){for(c=m(t.width,3),h=(t.opacity||.15)/c,r=1;3>=r;r++)a=2*c+1-2*r,i&&(l=this.cutOffPath(g.value,a+.5)),s=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',l,'" coordsize="10 10" style="',d.style.cssText,'" />'],o=n(f.prepVML(s),null,{left:v(p.left)+m(t.offsetX,1),top:v(p.top)+m(t.offsetY,1)}),i&&(o.cutOff=a+1),s=['<stroke color="',t.color||"#000000",'" opacity="',h*r,'"/>'],n(f.prepVML(s),null,null,o),e?e.element.appendChild(o):d.parentNode.insertBefore(o,d),u.push(o);this.shadows=u}return this},updateShadows:i,setAttr:function(t,e){this.docMode8?this.element[t]=e:this.element.setAttribute(t,e)},classSetter:function(t){(this.added?this.element:this).className=t},dashstyleSetter:function(t,e,i){(i.getElementsByTagName("stroke")[0]||n(this.renderer.prepVML(["<stroke/>"]),null,null,i))[e]=t||"solid",this[e]=t},dSetter:function(t,e,i){var n=this.shadows;if(t=t||[],this.d=t.join&&t.join(" "),i.path=t=this.pathToVML(t),n)for(i=n.length;i--;)n[i].path=n[i].cutOff?this.cutOffPath(t,n[i].cutOff):t;this.setAttr(e,t)},fillSetter:function(t,e,i){var n=i.nodeName;"SPAN"===n?i.style.color=t:"IMG"!==n&&(i.filled="none"!==t,this.setAttr("fillcolor",this.renderer.color(t,i,e,this)))},"fill-opacitySetter":function(t,e,i){n(this.renderer.prepVML(["<",e.split("-")[0],' opacity="',t,'"/>']),null,null,i)},opacitySetter:i,rotationSetter:function(t,e,i){i=i.style,this[e]=i[e]=t,i.left=-Math.round(Math.sin(t*s)+1)+"px",i.top=Math.round(Math.cos(t*s))+"px"},strokeSetter:function(t,e,i){this.setAttr("strokecolor",this.renderer.color(t,i,e,this))},"stroke-widthSetter":function(t,e,i){i.stroked=!!t,this[e]=t,f(t)&&(t+="px"),this.setAttr("strokeweight",t)},titleSetter:function(t,e){this.setAttr(e,t)},visibilitySetter:function(t,e,i){"inherit"===t&&(t="visible"),this.shadows&&c(this.shadows,function(i){i.style[e]=t}),"DIV"===i.nodeName&&(t="hidden"===t?"-999em":0,this.docMode8||(i.style[e]=t?"visible":"hidden"),e="top"),i.style[e]=t},xSetter:function(t,e,i){this[e]=t,"x"===e?e="left":"y"===e&&(e="top"),this.updateClipping?(this[e]=t,this.updateClipping()):i.style[e]=t},zIndexSetter:function(t,e,i){i.style[e]=t}},i["stroke-opacitySetter"]=i["fill-opacitySetter"],t.VMLElement=i=e(y,i),i.prototype.ySetter=i.prototype.widthSetter=i.prototype.heightSetter=i.prototype.xSetter,i={Element:i,isIE8:-1<x.navigator.userAgent.indexOf("MSIE 8.0"),init:function(t,e,i){var n,r;if(this.alignedObjects=[],n=this.createElement("div").css({position:"relative"}),r=n.element,t.appendChild(n.element),this.isVML=!0,this.box=r,this.boxWrapper=n,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,i,!1),!l.namespaces.hcv){l.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{l.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(t){l.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,e,i,n){var r=this.createElement(),o=p(t);return u(r,{members:[],count:0,left:(o?t.x:t)+1,top:(o?t.y:e)+1,width:(o?t.width:i)-1,height:(o?t.height:n)-1,getCSS:function(t){var e=t.element,i=e.nodeName,n=t.inverted,r=this.top-("shape"===i?e.offsetTop:0),o=this.left,e=o+this.width,s=r+this.height,r={clip:"rect("+Math.round(n?o:r)+"px,"+Math.round(n?s:e)+"px,"+Math.round(n?e:s)+"px,"+Math.round(n?r:o)+"px)"};return!n&&t.docMode8&&"DIV"===i&&u(r,{width:e+"px",height:s+"px"}),r},updateClipping:function(){c(r.members,function(t){t.element&&t.css(r.getCSS(t))})}})},color:function(e,i,r,o){var s,a,l,h=this,u=/^rgba/,d="none";if(e&&e.linearGradient?l="gradient":e&&e.radialGradient&&(l="pattern"),l){var f,p,g,m,v,y,b,x=e.linearGradient||e.radialGradient,w="";e=e.stops;var k,S=[],C=function(){a=['<fill colors="'+S.join(",")+'" opacity="',v,'" o:opacity2="',m,'" type="',l,'" ',w,'focus="100%" method="any" />'],n(h.prepVML(a),null,null,i)};if(g=e[0],k=e[e.length-1],0<g[0]&&e.unshift([0,g[1]]),1>k[0]&&e.push([1,k[1]]),c(e,function(e,i){u.test(e[1])?(s=t.color(e[1]),f=s.get("rgb"),p=s.get("a")):(f=e[1],p=1),S.push(100*e[0]+"% "+f),i?(v=p,y=f):(m=p,b=f)}),"fill"===r)if("gradient"===l)r=x.x1||x[0]||0,e=x.y1||x[1]||0,g=x.x2||x[2]||0,x=x.y2||x[3]||0,w='angle="'+(90-180*Math.atan((x-e)/(g-r))/Math.PI)+'"',C();else{var T,d=x.r,M=2*d,A=2*d,L=x.cx,O=x.cy,D=i.radialReference,d=function(){D&&(T=o.getBBox(),L+=(D[0]-T.x)/T.width-.5,O+=(D[1]-T.y)/T.height-.5,M*=D[2]/T.width,A*=D[2]/T.height),w='src="'+t.getOptions().global.VMLRadialGradientURL+'" size="'+M+","+A+'" origin="0.5,0.5" position="'+L+","+O+'" color2="'+b+'" ',C()};o.added?d():o.onAdd=d,d=y}else d=f}else u.test(e)&&"IMG"!==i.tagName?(s=t.color(e),o[r+"-opacitySetter"](s.get("a"),r,i),d=s.get("rgb")):(d=i.getElementsByTagName(r),d.length&&(d[0].opacity=1,d[0].type="solid"),d=e);return d},prepVML:function(t){var e=this.isIE8;return t=t.join(""),e?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=-1===t.indexOf('style="')?t.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):t.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):t=t.replace("<","<hcv:"),t},text:b.prototype.html,path:function(t){var e={coordsize:"10 10"};return d(t)?e.d=t:p(t)&&u(e,t),this.createElement("shape").attr(e)},circle:function(t,e,i){var n=this.symbol("circle");return p(t)&&(i=t.r,e=t.y,t=t.x),n.isCircle=!0,n.r=i,n.attr({x:t,y:e})},g:function(t){var e;return t&&(e={className:"highcharts-"+t,class:"highcharts-"+t}),this.createElement("div").attr(e)},image:function(t,e,i,n,r){var o=this.createElement("img").attr({src:t});return 1<arguments.length&&o.attr({x:e,y:i,width:n,height:r}),o},createElement:function(t){return"rect"===t?this.symbol(t):b.prototype.createElement.call(this,t)},invertChild:function(t,e){var i=this;e=e.style;var n="IMG"===t.tagName&&t.style;r(t,{flip:"x",left:v(e.width)-(n?v(n.top):1),top:v(e.height)-(n?v(n.left):1),rotation:-90}),c(t.childNodes,function(e){i.invertChild(e,t)})},symbols:{arc:function(t,e,i,n,r){var o=r.start,s=r.end,a=r.r||i||n;i=r.innerR,n=Math.cos(o);var l=Math.sin(o),c=Math.cos(s),h=Math.sin(s);return 0===s-o?["x"]:(o=["wa",t-a,e-a,t+a,e+a,t+a*n,e+a*l,t+a*c,e+a*h],r.open&&!i&&o.push("e","M",t,e),o.push("at",t-i,e-i,t+i,e+i,t+i*c,e+i*h,t+i*n,e+i*l,"x","e"),o.isArc=!0,o)},circle:function(t,e,i,n,r){return r&&o(r.r)&&(i=n=2*r.r),r&&r.isCircle&&(t-=i/2,e-=n/2),["wa",t,e,t+i,e+n,t+i,e+n/2,t+i,e+n/2,"e"]},rect:function(t,e,i,n,r){return b.prototype.symbols[o(r)&&r.r?"callout":"square"].call(0,t,e,i,n,r)}}},t.VMLRenderer=e=function(){this.init.apply(this,arguments)},e.prototype=g(b.prototype,i),t.Renderer=e),b.prototype.measureSpanWidth=function(t,e){var i=l.createElement("span");return t=l.createTextNode(t),i.appendChild(t),r(i,e),this.box.appendChild(i),e=i.offsetWidth,a(i),e}}(t),function(t){function e(){var e=t.defaultOptions.global,i=l.moment;if(e.timezone){if(i)return function(t){return-i.tz(t,e.timezone).utcOffset()};t.error(25)}return e.useUTC&&e.getTimezoneOffset}function i(){var i,n=t.defaultOptions.global,s=n.useUTC,c=s?"getUTC":"get",h=s?"setUTC":"set";t.Date=i=n.Date||l.Date,i.hcTimezoneOffset=s&&n.timezoneOffset,i.hcGetTimezoneOffset=e(),i.hcMakeTime=function(t,e,n,r,l,c){var h;return s?(h=i.UTC.apply(0,arguments),h+=o(h)):h=new i(t,e,a(n,1),a(r,0),a(l,0),a(c,0)).getTime(),h},r("Minutes Hours Day Date Month FullYear".split(" "),function(t){i["hcGet"+t]=c+t}),r("Milliseconds Seconds Minutes Hours Date Month FullYear".split(" "),function(t){i["hcSet"+t]=h+t})}var n=t.color,r=t.each,o=t.getTZOffset,s=t.merge,a=t.pick,l=t.win;t.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,VMLRadialGradientURL:"http://code.highcharts.com/5.0.12/gfx/vml-radial-gradient.png"},chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:t.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:t.isTouchDevice?25:10,backgroundColor:n("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},t.setOptions=function(e){return t.defaultOptions=s(!0,t.defaultOptions,e),i(),t.defaultOptions},t.getOptions=function(){return t.defaultOptions},t.defaultPlotOptions=t.defaultOptions.plotOptions,i()}(t),function(t){var e=t.correctFloat,i=t.defined,n=t.destroyObjectProperties,r=t.isNumber,o=t.merge,s=t.pick,a=t.deg2rad;t.Tick=function(t,e,i,n){this.axis=t,this.pos=e,this.type=i||"",this.isNewLabel=this.isNew=!0,i||n||this.addLabel()},t.Tick.prototype={addLabel:function(){var t,n=this.axis,r=n.options,a=n.chart,l=n.categories,c=n.names,h=this.pos,u=r.labels,d=n.tickPositions,f=h===d[0],p=h===d[d.length-1],c=l?s(l[h],c[h],h):h,l=this.label,d=d.info;n.isDatetimeAxis&&d&&(t=r.dateTimeLabelFormats[d.higherRanks[h]||d.unitName]),this.isFirst=f,this.isLast=p,r=n.labelFormatter.call({axis:n,chart:a,isFirst:f,isLast:p,dateTimeLabelFormat:t,value:n.isLog?e(n.lin2log(c)):c}),i(l)?l&&l.attr({text:r}):(this.labelLength=(this.label=l=i(r)&&u.enabled?a.renderer.text(r,0,0,u.useHTML).css(o(u.style)).add(n.labelGroup):null)&&l.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,i=this.axis,n=t.x,r=i.chart.chartWidth,o=i.chart.spacing,l=s(i.labelLeft,Math.min(i.pos,o[3])),o=s(i.labelRight,Math.max(i.pos+i.len,r-o[1])),c=this.label,h=this.rotation,u={left:0,center:.5,right:1}[i.labelAlign],d=c.getBBox().width,f=i.getSlotWidth(),p=f,g=1,m={};h?0>h&&n-u*d<l?e=Math.round(n/Math.cos(h*a)-l):0<h&&n+u*d>o&&(e=Math.round((r-n)/Math.cos(h*a))):(r=n+(1-u)*d,n-u*d<l?p=t.x+p*(1-u)-l:r>o&&(p=o-t.x+p*u,g=-1),p=Math.min(f,p),p<f&&"center"===i.labelAlign&&(t.x+=g*(f-p-u*(f-Math.min(d,p)))),(d>p||i.autoRotation&&(c.styles||{}).width)&&(e=p)),e&&(m.width=e,(i.options.labels.style||{}).textOverflow||(m.textOverflow="ellipsis"),c.css(m))},getPosition:function(t,e,i,n){var r=this.axis,o=r.chart,s=n&&o.oldChartHeight||o.chartHeight;return{x:t?r.translate(e+i,null,null,n)+r.transB:r.left+r.offset+(r.opposite?(n&&o.oldChartWidth||o.chartWidth)-r.right-r.left:0),y:t?s-r.bottom+r.offset-(r.opposite?r.height:0):s-r.translate(e+i,null,null,n)-r.transB}},getLabelPosition:function(t,e,n,r,o,s,l,c){var h=this.axis,u=h.transA,d=h.reversed,f=h.staggerLines,p=h.tickRotCorr||{x:0,y:0},g=o.y;return i(g)||(g=0===h.side?n.rotation?-8:-n.getBBox().height:2===h.side?p.y+8:Math.cos(n.rotation*a)*(p.y-n.getBBox(!1,0).height/2)),t=t+o.x+p.x-(s&&r?s*u*(d?-1:1):0),e=e+g-(s&&!r?s*u*(d?1:-1):0),f&&(n=l/(c||1)%f,h.opposite&&(n=f-n-1),e+=h.labelOffset/f*n),{x:t,y:Math.round(e)}},getMarkPath:function(t,e,i,n,r,o){return o.crispLine(["M",t,e,"L",t+(r?0:-i),e+(r?i:0)],n)},renderGridLine:function(t,e,i){var n=this.axis,r=n.options,o=this.gridLine,s={},a=this.pos,l=this.type,c=n.tickmarkOffset,h=n.chart.renderer,u=l?l+"Grid":"grid",d=r[u+"LineWidth"],f=r[u+"LineColor"],r=r[u+"LineDashStyle"];o||(s.stroke=f,s["stroke-width"]=d,r&&(s.dashstyle=r),l||(s.zIndex=1),t&&(s.opacity=0),this.gridLine=o=h.path().attr(s).addClass("highcharts-"+(l?l+"-":"")+"grid-line").add(n.gridGroup)),!t&&o&&(t=n.getPlotLinePath(a+c,o.strokeWidth()*i,t,!0))&&o[this.isNew?"attr":"animate"]({d:t,opacity:e})},renderMark:function(t,e,i){var n=this.axis,r=n.options,o=n.chart.renderer,a=this.type,l=a?a+"Tick":"tick",c=n.tickSize(l),h=this.mark,u=!h,d=t.x;t=t.y;var f=s(r[l+"Width"],!a&&n.isXAxis?1:0),r=r[l+"Color"];c&&(n.opposite&&(c[0]=-c[0]),u&&(this.mark=h=o.path().addClass("highcharts-"+(a?a+"-":"")+"tick").add(n.axisGroup),h.attr({stroke:r,"stroke-width":f})),h[u?"attr":"animate"]({d:this.getMarkPath(d,t,c[0],h.strokeWidth()*i,n.horiz,o),opacity:e}))},renderLabel:function(t,e,i,n){var o=this.axis,a=o.horiz,l=o.options,c=this.label,h=l.labels,u=h.step,d=o.tickmarkOffset,f=!0,p=t.x;t=t.y,c&&r(p)&&(c.xy=t=this.getLabelPosition(p,t,c,a,h,d,n,u),this.isFirst&&!this.isLast&&!s(l.showFirstLabel,1)||this.isLast&&!this.isFirst&&!s(l.showLastLabel,1)?f=!1:!a||o.isRadial||h.step||h.rotation||e||0===i||this.handleOverflow(t),u&&n%u&&(f=!1),f&&r(t.y)?(t.opacity=i,c[this.isNewLabel?"attr":"animate"](t),this.isNewLabel=!1):(c.attr("y",-9999),this.isNewLabel=!0),this.isNew=!1)},render:function(t,e,i){var n=this.axis,r=n.horiz,o=this.getPosition(r,this.pos,n.tickmarkOffset,e),a=o.x,l=o.y,n=r&&a===n.pos+n.len||!r&&l===n.pos?-1:1;i=s(i,1),this.isActive=!0,this.renderGridLine(e,i,n),this.renderMark(o,i,n),this.renderLabel(o,e,i,t)},destroy:function(){n(this,this.axis)}}}(t);var e=function(t){var e=t.addEvent,i=t.animObject,n=t.arrayMax,r=t.arrayMin,o=t.color,s=t.correctFloat,a=t.defaultOptions,l=t.defined,c=t.deg2rad,h=t.destroyObjectProperties,u=t.each,d=t.extend,f=t.fireEvent,p=t.format,g=t.getMagnitude,m=t.grep,v=t.inArray,y=t.isArray,b=t.isNumber,x=t.isString,w=t.merge,k=t.normalizeTickInterval,S=t.objectEach,C=t.pick,T=t.removeEvent,M=t.splat,A=t.syncTimeout,L=t.Tick,O=function(){this.init.apply(this,arguments)};return t.extend(O.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,labels:{enabled:!0,style:{color:"#666666",cursor:"default",fontSize:"11px"},x:0},minPadding:.01,maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return t.numberFormat(this.total,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"#000000",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,i){var n=i.isX,r=this;r.chart=t,r.horiz=t.inverted&&!r.isZAxis?!n:n,r.isXAxis=n,r.coll=r.coll||(n?"xAxis":"yAxis"),r.opposite=i.opposite,r.side=i.side||(r.horiz?r.opposite?0:2:r.opposite?1:3),r.setOptions(i);var o=this.options,s=o.type;r.labelFormatter=o.labels.formatter||r.defaultLabelFormatter,r.userOptions=i,r.minPixelPadding=0,r.reversed=o.reversed,r.visible=!1!==o.visible,r.zoomEnabled=!1!==o.zoomEnabled,r.hasNames="category"===s||!0===o.categories,r.categories=o.categories||r.hasNames,r.names=r.names||[],r.plotLinesAndBandsGroups={},r.isLog="logarithmic"===s,r.isDatetimeAxis="datetime"===s,r.positiveValuesOnly=r.isLog&&!r.allowNegativeLog,r.isLinked=l(o.linkedTo),r.ticks={},r.labelEdge=[],r.minorTicks={},r.plotLinesAndBands=[],r.alternateBands={},r.len=0,r.minRange=r.userMinRange=o.minRange||o.maxZoom,r.range=o.range,r.offset=o.offset||0,r.stacks={},r.oldStacks={},r.stacksTouched=0,r.max=null,r.min=null,r.crosshair=C(o.crosshair,M(t.options.tooltip.crosshairs)[n?0:1],!1),i=r.options.events,-1===v(r,t.axes)&&(n?t.axes.splice(t.xAxis.length,0,r):t.axes.push(r),t[r.coll].push(r)),r.series=r.series||[],t.inverted&&!r.isZAxis&&n&&void 0===r.reversed&&(r.reversed=!0),S(i,function(t,i){e(r,i,t)}),r.lin2log=o.linearToLogConverter||r.lin2log,r.isLog&&(r.val2lin=r.log2lin,r.lin2val=r.lin2log)},setOptions:function(t){this.options=w(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],w(a[this.coll],t))},defaultLabelFormatter:function(){var e,i=this.axis,n=this.value,r=i.categories,o=this.dateTimeLabelFormat,s=a.lang,l=s.numericSymbols,s=s.numericSymbolMagnitude||1e3,c=l&&l.length,h=i.options.labels.format,i=i.isLog?Math.abs(n):i.tickInterval;if(h)e=p(h,this);else if(r)e=n;else if(o)e=t.dateFormat(o,n);else if(c&&1e3<=i)for(;c--&&void 0===e;)r=Math.pow(s,c+1),i>=r&&0===10*n%r&&null!==l[c]&&0!==n&&(e=t.numberFormat(n/r,-1)+l[c]);return void 0===e&&(e=1e4<=Math.abs(n)?t.numberFormat(n,-1):t.numberFormat(n,-1,void 0,"")),e},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),u(t.series,function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var o,s=i.options,a=s.threshold;t.hasVisibleSeries=!0,t.positiveValuesOnly&&0>=a&&(a=null),t.isXAxis?(s=i.xData,s.length&&(i=r(s),b(i)||i instanceof Date||(s=m(s,function(t){return b(t)}),i=r(s)),t.dataMin=Math.min(C(t.dataMin,s[0]),i),t.dataMax=Math.max(C(t.dataMax,s[0]),n(s)))):(i.getExtremes(),o=i.dataMax,i=i.dataMin,l(i)&&l(o)&&(t.dataMin=Math.min(C(t.dataMin,i),i),t.dataMax=Math.max(C(t.dataMax,o),o)),l(a)&&(t.threshold=a),(!s.softThreshold||t.positiveValuesOnly)&&(t.softThreshold=!1))}})},translate:function(t,e,i,n,r,o){var s=this.linkedParent||this,a=1,l=0,c=n?s.oldTransA:s.transA;n=n?s.oldMin:s.min;var h=s.minPixelPadding;
return r=(s.isOrdinal||s.isBroken||s.isLog&&r)&&s.lin2val,c||(c=s.transA),i&&(a*=-1,l=s.len),s.reversed&&(a*=-1,l-=a*(s.sector||s.len)),e?(t=(t*a+l-h)/c+n,r&&(t=s.lin2val(t))):(r&&(t=s.val2lin(t)),t=a*(t-n)*c+l+a*h+(b(o)?c*o:0)),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,n,r){var o,s,a,l=this.chart,c=this.left,h=this.top,u=i&&l.oldChartHeight||l.chartHeight,d=i&&l.oldChartWidth||l.chartWidth;o=this.transB;var f=function(t,e,i){return(t<e||t>i)&&(n?t=Math.min(Math.max(e,t),i):a=!0),t};return r=C(r,this.translate(t,null,null,i)),t=i=Math.round(r+o),o=s=Math.round(u-r-o),b(r)?this.horiz?(o=h,s=u-this.bottom,t=i=f(t,c,c+this.width)):(t=c,i=d-this.right,o=s=f(o,h,h+this.height)):a=!0,a&&!n?null:l.renderer.crispLine(["M",t,o,"L",i,s],e||1)},getLinearTickPositions:function(t,e,i){var n,r=s(Math.floor(e/t)*t);i=s(Math.ceil(i/t)*t);var o=[];if(this.single)return[e];for(e=r;e<=i&&(o.push(e),e=s(e+t),e!==n);)n=e;return o},getMinorTickPositions:function(){var t=this,e=t.options,i=t.tickPositions,n=t.minorTickInterval,r=[],o=t.pointRangePadding||0,s=t.min-o,o=t.max+o,a=o-s;if(a&&a/n<t.len/3)if(t.isLog)u(this.paddedTicks,function(e,i,o){i&&r.push.apply(r,t.getLogTickPositions(n,o[i-1],o[i],!0))});else if(t.isDatetimeAxis&&"auto"===e.minorTickInterval)r=r.concat(t.getTimeTicks(t.normalizeTimeTickInterval(n),s,o,e.startOfWeek));else for(e=s+(i[0]-s)%n;e<=o&&e!==r[0];e+=n)r.push(e);return 0!==r.length&&t.trimTicks(r),r},adjustForMinRange:function(){var t,e,i,o,s,a,c,h,d=this.options,f=this.min,p=this.max;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(l(d.min)||l(d.max)?this.minRange=null:(u(this.series,function(t){for(a=t.xData,o=c=t.xIncrement?1:a.length-1;0<o;o--)s=a[o]-a[o-1],(void 0===i||s<i)&&(i=s)}),this.minRange=Math.min(5*i,this.dataMax-this.dataMin))),p-f<this.minRange&&(e=this.dataMax-this.dataMin>=this.minRange,h=this.minRange,t=(h-p+f)/2,t=[f-t,C(d.min,f-t)],e&&(t[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),f=n(t),p=[f+h,C(d.max,f+h)],e&&(p[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),p=r(p),p-f<h&&(t[0]=p-h,t[1]=C(d.min,p-h),f=n(t))),this.min=f,this.max=p},getClosest:function(){var t;return this.categories?t=1:u(this.series,function(e){var i=e.closestPointRange,n=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&l(i)&&n&&(t=l(t)?Math.min(t,i):i)}),t},nameToX:function(t){var e,i=y(this.categories),n=i?this.categories:this.names,r=t.options.x;return t.series.requireSorting=!1,l(r)||(r=!1===this.options.uniqueNames?t.series.autoIncrement():v(t.name,n)),-1===r?i||(e=n.length):e=r,void 0!==e&&(this.names[e]=t.name),e},updateNames:function(){var t=this;0<this.names.length&&(this.names.length=0,this.minRange=this.userMinRange,u(this.series||[],function(e){e.xIncrement=null,e.points&&!e.isDirtyData||(e.processData(),e.generatePoints()),u(e.points,function(i,n){var r;i.options&&(r=t.nameToX(i),void 0!==r&&r!==i.x&&(i.x=r,e.xData[n]=r))})}))},setAxisTranslation:function(t){var e,i=this,n=i.max-i.min,r=i.axisPointRange||0,o=0,s=0,a=i.linkedParent,l=!!i.categories,c=i.transA,h=i.isXAxis;(h||l||r)&&(e=i.getClosest(),a?(o=a.minPointOffset,s=a.pointRangePadding):u(i.series,function(t){var n=l?1:h?C(t.options.pointRange,e,0):i.axisPointRange||0;t=t.options.pointPlacement,r=Math.max(r,n),i.single||(o=Math.max(o,x(t)?0:n/2),s=Math.max(s,"on"===t?0:n))}),a=i.ordinalSlope&&e?i.ordinalSlope/e:1,i.minPointOffset=o*=a,i.pointRangePadding=s*=a,i.pointRange=Math.min(r,n),h&&(i.closestPointRange=e)),t&&(i.oldTransA=c),i.translationSlope=i.transA=c=i.options.staticScale||i.len/(n+s||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=c*o},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var i,n,r,o,a=this,c=a.chart,h=a.options,d=a.isLog,p=a.log2lin,m=a.isDatetimeAxis,v=a.isXAxis,y=a.isLinked,x=h.maxPadding,w=h.minPadding,S=h.tickInterval,T=h.tickPixelInterval,M=a.categories,A=a.threshold,L=a.softThreshold;m||M||y||this.getTickAmount(),r=C(a.userMin,h.min),o=C(a.userMax,h.max),y?(a.linkedParent=c[a.coll][h.linkedTo],c=a.linkedParent.getExtremes(),a.min=C(c.min,c.dataMin),a.max=C(c.max,c.dataMax),h.type!==a.linkedParent.options.type&&t.error(11,1)):(!L&&l(A)&&(a.dataMin>=A?(i=A,w=0):a.dataMax<=A&&(n=A,x=0)),a.min=C(r,i,a.dataMin),a.max=C(o,n,a.dataMax)),d&&(a.positiveValuesOnly&&!e&&0>=Math.min(a.min,C(a.dataMin,a.min))&&t.error(10,1),a.min=s(p(a.min),15),a.max=s(p(a.max),15)),a.range&&l(a.max)&&(a.userMin=a.min=r=Math.max(a.min,a.minFromRange()),a.userMax=o=a.max,a.range=null),f(a,"foundExtremes"),a.beforePadding&&a.beforePadding(),a.adjustForMinRange(),!(M||a.axisPointRange||a.usePercentage||y)&&l(a.min)&&l(a.max)&&(p=a.max-a.min)&&(!l(r)&&w&&(a.min-=p*w),!l(o)&&x&&(a.max+=p*x)),b(h.softMin)&&(a.min=Math.min(a.min,h.softMin)),b(h.softMax)&&(a.max=Math.max(a.max,h.softMax)),b(h.floor)&&(a.min=Math.max(a.min,h.floor)),b(h.ceiling)&&(a.max=Math.min(a.max,h.ceiling)),L&&l(a.dataMin)&&(A=A||0,!l(r)&&a.min<A&&a.dataMin>=A?a.min=A:!l(o)&&a.max>A&&a.dataMax<=A&&(a.max=A)),a.tickInterval=a.min===a.max||void 0===a.min||void 0===a.max?1:y&&!S&&T===a.linkedParent.options.tickPixelInterval?S=a.linkedParent.tickInterval:C(S,this.tickAmount?(a.max-a.min)/Math.max(this.tickAmount-1,1):void 0,M?1:(a.max-a.min)*T/Math.max(a.len,T)),v&&!e&&u(a.series,function(t){t.processData(a.min!==a.oldMin||a.max!==a.oldMax)}),a.setAxisTranslation(!0),a.beforeSetTickPositions&&a.beforeSetTickPositions(),a.postProcessTickInterval&&(a.tickInterval=a.postProcessTickInterval(a.tickInterval)),a.pointRange&&!S&&(a.tickInterval=Math.max(a.pointRange,a.tickInterval)),e=C(h.minTickInterval,a.isDatetimeAxis&&a.closestPointRange),!S&&a.tickInterval<e&&(a.tickInterval=e),m||d||S||(a.tickInterval=k(a.tickInterval,null,g(a.tickInterval),C(h.allowDecimals,!(.5<a.tickInterval&&5>a.tickInterval&&1e3<a.max&&9999>a.max)),!!this.tickAmount)),this.tickAmount||(a.tickInterval=a.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e=this.options,i=e.tickPositions,n=e.tickPositioner,r=e.startOnTick,o=e.endOnTick;this.tickmarkOffset=this.categories&&"between"===e.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===e.minorTickInterval&&this.tickInterval?this.tickInterval/5:e.minorTickInterval,this.single=this.min===this.max&&l(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==e.allowDecimals),this.tickPositions=t=i&&i.slice(),!t&&(t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,e.units),this.min,this.max,e.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),t.length>this.len&&(t=[t[0],t.pop()]),this.tickPositions=t,n&&(n=n.apply(this,[this.min,this.max])))&&(this.tickPositions=t=n),this.paddedTicks=t.slice(0),this.trimTicks(t,r,o),this.isLinked||(this.single&&(this.min-=.5,this.max+=.5),i||n||this.adjustTickAmount())},trimTicks:function(t,e,i){var n=t[0],r=t[t.length-1],o=this.minPointOffset||0;if(!this.isLinked){if(e&&-(1/0)!==n)this.min=n;else for(;this.min-o>t[0];)t.shift();if(i)this.max=r;else for(;this.max+o<t[t.length-1];)t.pop();0===t.length&&l(n)&&t.push((r+n)/2)}},alignToOthers:function(){var t,e={},i=this.options;return!1===this.chart.options.chart.alignTicks||!1===i.alignTicks||this.isLog||u(this.chart[this.coll],function(i){var n=i.options,n=[i.horiz?n.left:n.top,n.width,n.height,n.pane].join();i.series.length&&(e[n]?t=!0:e[n]=1)}),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,i=t.tickPixelInterval;!l(t.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/i)+1),4>e&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,i=this.tickAmount,n=this.finalTickAmt,r=e&&e.length;if(r<i){for(;e.length<i;)e.push(s(e[e.length-1]+t));this.transA*=(r-1)/(i-1),this.max=e[e.length-1]}else r>i&&(this.tickInterval*=2,this.setTickPositions());if(l(n)){for(t=i=e.length;t--;)(3===n&&1===t%2||2>=n&&0<t&&t<i-1)&&e.splice(t,1);this.finalTickAmt=void 0}},setScale:function(){var t,e;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),e=this.len!==this.oldAxisLength,u(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(t,e,i,n,r){var o=this,s=o.chart;i=C(i,!0),u(o.series,function(t){delete t.kdTree}),r=d(r,{min:t,max:e}),f(o,"setExtremes",r,function(){o.userMin=t,o.userMax=e,o.eventArgs=r,i&&s.redraw(n)})},zoom:function(t,e){var i=this.dataMin,n=this.dataMax,r=this.options,o=Math.min(i,C(r.min,i)),r=Math.max(n,C(r.max,n));return t===this.min&&e===this.max||(this.allowZoomOutside||(l(i)&&(t<o&&(t=o),t>r&&(t=r)),l(n)&&(e<o&&(e=o),e>r&&(e=r))),this.displayBtn=void 0!==t||void 0!==e,this.setExtremes(t,e,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var t=this.chart,e=this.options,i=e.offsets||[0,0,0,0],n=this.horiz,r=C(e.width,t.plotWidth-i[3]+i[1]),o=C(e.height,t.plotHeight-i[0]+i[2]),s=C(e.top,t.plotTop+i[0]),e=C(e.left,t.plotLeft+i[3]),i=/%$/;i.test(o)&&(o=Math.round(parseFloat(o)/100*t.plotHeight)),i.test(s)&&(s=Math.round(parseFloat(s)/100*t.plotHeight+t.plotTop)),this.left=e,this.top=s,this.width=r,this.height=o,this.bottom=t.chartHeight-o-s,this.right=t.chartWidth-r-e,this.len=Math.max(n?r:o,0),this.pos=n?e:s},getExtremes:function(){var t=this.isLog,e=this.lin2log;return{min:t?s(e(this.min)):this.min,max:t?s(e(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,i=this.lin2log,n=e?i(this.min):this.min,e=e?i(this.max):this.max;return null===t?t=n:n>t?t=n:e<t&&(t=e),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return t=(C(t,0)-90*this.side+720)%360,15<t&&165>t?"right":195<t&&345>t?"left":"center"},tickSize:function(t){var e=this.options,i=e[t+"Length"],n=C(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);if(n&&i)return"inside"===e[t+"Position"]&&(i=-i),[i,n]},labelMetrics:function(){var t=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[t]&&this.ticks[t].label)},unsquish:function(){var t,e,i,n=this.options.labels,r=this.horiz,o=this.tickInterval,s=o,a=this.len/(((this.categories?1:0)+this.max-this.min)/o),h=n.rotation,d=this.labelMetrics(),f=Number.MAX_VALUE,p=function(t){return t/=a||1,t=1<t?Math.ceil(t):1,t*o};return r?(i=!n.staggerLines&&!n.step&&(l(h)?[h]:a<C(n.autoRotationLimit,80)&&n.autoRotation))&&u(i,function(i){var n;(i===h||i&&-90<=i&&90>=i)&&(e=p(Math.abs(d.h/Math.sin(c*i))),n=e+Math.abs(i/360),n<f&&(f=n,t=i,s=e))}):n.step||(s=p(d.h)),this.autoRotation=i,this.labelRotation=C(t,h),s},getSlotWidth:function(){var t=this.chart,e=this.horiz,i=this.options.labels,n=Math.max(this.tickPositions.length-(this.categories?0:1),1),r=t.margin[3];return e&&2>(i.step||0)&&!i.rotation&&(this.staggerLines||1)*this.len/n||!e&&(r&&r-t.spacing[3]||.33*t.chartWidth)},renderUnsquish:function(){var t,e,i,n=this.chart,r=n.renderer,o=this.tickPositions,s=this.ticks,a=this.options.labels,l=this.horiz,c=this.getSlotWidth(),h=Math.max(1,Math.round(c-2*(a.padding||5))),d={},f=this.labelMetrics(),p=a.style&&a.style.textOverflow,g=0;if(x(a.rotation)||(d.rotation=a.rotation||0),u(o,function(t){(t=s[t])&&t.labelLength>g&&(g=t.labelLength)}),this.maxLabelLength=g,this.autoRotation)g>h&&g>f.h?d.rotation=this.labelRotation:this.labelRotation=0;else if(c&&(t={width:h+"px"},!p))for(t.textOverflow="clip",e=o.length;!l&&e--;)i=o[e],(h=s[i].label)&&(h.styles&&"ellipsis"===h.styles.textOverflow?h.css({textOverflow:"clip"}):s[i].labelLength>c&&h.css({width:c+"px"}),h.getBBox().height>this.len/o.length-(f.h-f.f)&&(h.specCss={textOverflow:"ellipsis"}));d.rotation&&(t={width:(g>.5*n.chartHeight?.33*n.chartHeight:n.chartHeight)+"px"},p||(t.textOverflow="ellipsis")),(this.labelAlign=a.align||this.autoLabelAlign(this.labelRotation))&&(d.align=this.labelAlign),u(o,function(e){var i=(e=s[e])&&e.label;i&&(i.attr(d),t&&i.css(w(t,i.specCss)),delete i.specCss,e.rotation=d.rotation)}),this.tickRotCorr=r.rotCorr(f.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||l(this.min)&&l(this.max)&&!!this.tickPositions},addTitle:function(t){var e,i=this.chart.renderer,n=this.horiz,r=this.opposite,o=this.options.title;this.axisTitle||((e=o.textAlign)||(e=(n?{low:"left",middle:"center",high:"right"}:{low:r?"right":"left",middle:"center",high:r?"left":"right"})[o.align]),this.axisTitle=i.text(o.text,0,0,o.useHTML).attr({zIndex:7,rotation:o.rotation||0,align:e}).addClass("highcharts-axis-title").css(o.style).add(this.axisGroup),this.axisTitle.isNew=!0),this.axisTitle[t?"show":"hide"](!0)},generateTick:function(t){var e=this.ticks;e[t]?e[t].addLabel():e[t]=new L(this,t)},getOffset:function(){var t,e,i,n=this,r=n.chart,o=r.renderer,s=n.options,a=n.tickPositions,c=n.ticks,h=n.horiz,d=n.side,f=r.inverted&&!n.isZAxis?[1,0,3,2][d]:d,p=0,g=0,m=s.title,v=s.labels,y=0,b=r.axisOffset,r=r.clipOffset,x=[-1,1,1,-1][d],w=s.className,k=n.axisParent,T=this.tickSize("tick");t=n.hasData(),n.showAxis=e=t||C(s.showEmpty,!0),n.staggerLines=n.horiz&&v.staggerLines,n.axisGroup||(n.gridGroup=o.g("grid").attr({zIndex:s.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(w||"")).add(k),n.axisGroup=o.g("axis").attr({zIndex:s.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(w||"")).add(k),n.labelGroup=o.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+n.coll.toLowerCase()+"-labels "+(w||"")).add(k)),t||n.isLinked?(u(a,function(t,e){n.generateTick(t,e)}),n.renderUnsquish(),!1===v.reserveSpace||0!==d&&2!==d&&{1:"left",3:"right"}[d]!==n.labelAlign&&"center"!==n.labelAlign||u(a,function(t){y=Math.max(c[t].getLabelSize(),y)}),n.staggerLines&&(y*=n.staggerLines,n.labelOffset=y*(n.opposite?-1:1))):S(c,function(t,e){t.destroy(),delete c[e]}),m&&m.text&&!1!==m.enabled&&(n.addTitle(e),e&&!1!==m.reserveSpace&&(n.titleOffset=p=n.axisTitle.getBBox()[h?"height":"width"],i=m.offset,g=l(i)?0:C(m.margin,h?5:10))),n.renderLine(),n.offset=x*C(s.offset,b[d]),n.tickRotCorr=n.tickRotCorr||{x:0,y:0},o=0===d?-n.labelMetrics().h:2===d?n.tickRotCorr.y:0,g=Math.abs(y)+g,y&&(g=g-o+x*(h?C(v.y,n.tickRotCorr.y+8*x):v.x)),n.axisTitleMargin=C(i,g),b[d]=Math.max(b[d],n.axisTitleMargin+p+x*n.offset,g,t&&a.length&&T?T[0]+x*n.offset:0),a=2*Math.floor(n.axisLine.strokeWidth()/2),0<s.offset&&(a-=2*s.offset),r[f]=Math.max(r[f]||a,a)},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,r=this.horiz,o=this.left+(i?this.width:0)+n,n=e.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(t*=-1),e.renderer.crispLine(["M",r?this.left:o,r?n:this.top,"L",r?e.chartWidth-this.right:o,r?n:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,e=this.left,i=this.top,n=this.len,r=this.options.title,o=t?e:i,s=this.opposite,a=this.offset,l=r.x||0,c=r.y||0,h=this.chart.renderer.fontMetrics(r.style&&r.style.fontSize,this.axisTitle).f,n={low:o+(t?0:n),middle:o+n/2,high:o+(t?n:0)}[r.align],e=(t?i+this.height:e)+(t?1:-1)*(s?-1:1)*this.axisTitleMargin+(2===this.side?h:0);return{x:t?n+l:e+(s?this.width:0)+a+l,y:t?e+c-(s?this.height:0)+a:n+c}},renderMinorTick:function(t){var e=this.chart.hasRendered&&b(this.oldMin),i=this.minorTicks;i[t]||(i[t]=new L(this,t,"minor")),e&&i[t].isNew&&i[t].render(null,!0),i[t].render(null,!1,1)},renderTick:function(t,e){var i=this.isLinked,n=this.ticks,r=this.chart.hasRendered&&b(this.oldMin);(!i||t>=this.min&&t<=this.max)&&(n[t]||(n[t]=new L(this,t)),r&&n[t].isNew&&n[t].render(e,!0,.1),n[t].render(e))},render:function(){var e,n,r=this,o=r.chart,s=r.options,a=r.isLog,l=r.lin2log,c=r.isLinked,h=r.tickPositions,d=r.axisTitle,f=r.ticks,p=r.minorTicks,g=r.alternateBands,m=s.stackLabels,v=s.alternateGridColor,y=r.tickmarkOffset,x=r.axisLine,w=r.showAxis,k=i(o.renderer.globalAnimation);r.labelEdge.length=0,r.overlap=!1,u([f,p,g],function(t){S(t,function(t){t.isActive=!1})}),(r.hasData()||c)&&(r.minorTickInterval&&!r.categories&&u(r.getMinorTickPositions(),function(t){r.renderMinorTick(t)}),h.length&&(u(h,function(t,e){r.renderTick(t,e)}),y&&(0===r.min||r.single)&&(f[-1]||(f[-1]=new L(r,-1,null,!0)),f[-1].render(-1))),v&&u(h,function(i,s){n=void 0!==h[s+1]?h[s+1]+y:r.max-y,0===s%2&&i<r.max&&n<=r.max+(o.polar?-y:y)&&(g[i]||(g[i]=new t.PlotLineOrBand(r)),e=i+y,g[i].options={from:a?l(e):e,to:a?l(n):n,color:v},g[i].render(),g[i].isActive=!0)}),r._addedPlotLB||(u((s.plotLines||[]).concat(s.plotBands||[]),function(t){r.addPlotBandOrLine(t)}),r._addedPlotLB=!0)),u([f,p,g],function(t){var e,i=[],n=k.duration;S(t,function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,i.push(e))}),A(function(){for(e=i.length;e--;)t[i[e]]&&!t[i[e]].isActive&&(t[i[e]].destroy(),delete t[i[e]])},t!==g&&o.hasRendered&&n?n:0)}),x&&(x[x.isPlaced?"animate":"attr"]({d:this.getLinePath(x.strokeWidth())}),x.isPlaced=!0,x[w?"show":"hide"](!0)),d&&w&&(s=r.getTitlePosition(),b(s.y)?(d[d.isNew?"attr":"animate"](s),d.isNew=!1):(d.attr("y",-9999),d.isNew=!0)),m&&m.enabled&&r.renderStackTotals(),r.isDirty=!1},redraw:function(){this.visible&&(this.render(),u(this.plotLinesAndBands,function(t){t.render()})),u(this.series,function(t){t.isDirty=!0})},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(t){var e,i=this,n=i.stacks,r=i.plotLinesAndBands;if(t||T(i),S(n,function(t,e){h(t),n[e]=null}),u([i.ticks,i.minorTicks,i.alternateBands],function(t){h(t)}),r)for(t=r.length;t--;)r[t].destroy();u("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross".split(" "),function(t){i[t]&&(i[t]=i[t].destroy())});for(e in i.plotLinesAndBandsGroups)i.plotLinesAndBandsGroups[e]=i.plotLinesAndBandsGroups[e].destroy();S(i,function(t,e){-1===v(e,i.keepProps)&&delete i[e]})},drawCrosshair:function(t,e){var i,n,r=this.crosshair,s=C(r.snap,!0),a=this.cross;t||(t=this.cross&&this.cross.e),this.crosshair&&!1!==(l(e)||!s)?(s?l(e)&&(n=this.isXAxis?e.plotX:this.len-e.plotY):n=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),l(n)&&(i=this.getPlotLinePath(e&&(this.isXAxis?e.x:C(e.stackY,e.y)),null,null,null,n)||null),l(i)?(e=this.categories&&!this.isRadial,a||(this.cross=a=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(e?"category ":"thin ")+r.className).attr({zIndex:C(r.zIndex,2)}).add(),a.attr({stroke:r.color||(e?o("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":C(r.width,1)}),r.dashStyle&&a.attr({dashstyle:r.dashStyle})),a.show().attr({d:i}),e&&!r.width&&a.attr({"stroke-width":this.transA}),this.cross.e=t):this.hideCrosshair()):this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}}),t.Axis=O}(t);return function(t){var e=t.Axis,i=t.Date,n=t.dateFormat,r=t.defaultOptions,o=t.defined,s=t.each,a=t.extend,l=t.getMagnitude,c=t.getTZOffset,h=t.normalizeTickInterval,u=t.pick,d=t.timeUnits;e.prototype.getTimeTicks=function(t,e,l,h){var f,p,g=[],m={},v=r.global.useUTC,y=new i(e-Math.max(c(e),c(l))),b=i.hcMakeTime,x=t.unitRange,w=t.count;if(o(e)){y[i.hcSetMilliseconds](x>=d.second?0:w*Math.floor(y.getMilliseconds()/w)),x>=d.second&&y[i.hcSetSeconds](x>=d.minute?0:w*Math.floor(y.getSeconds()/w)),x>=d.minute&&y[i.hcSetMinutes](x>=d.hour?0:w*Math.floor(y[i.hcGetMinutes]()/w)),x>=d.hour&&y[i.hcSetHours](x>=d.day?0:w*Math.floor(y[i.hcGetHours]()/w)),x>=d.day&&y[i.hcSetDate](x>=d.month?1:w*Math.floor(y[i.hcGetDate]()/w)),x>=d.month&&(y[i.hcSetMonth](x>=d.year?0:w*Math.floor(y[i.hcGetMonth]()/w)),f=y[i.hcGetFullYear]()),x>=d.year&&y[i.hcSetFullYear](f-f%w),x===d.week&&y[i.hcSetDate](y[i.hcGetDate]()-y[i.hcGetDay]()+u(h,1)),f=y[i.hcGetFullYear](),h=y[i.hcGetMonth]();var k=y[i.hcGetDate](),S=y[i.hcGetHours]();for((i.hcTimezoneOffset||i.hcGetTimezoneOffset)&&(p=(!v||!!i.hcGetTimezoneOffset)&&(l-e>4*d.month||c(e)!==c(l)),y=y.getTime(),y=new i(y+c(y))),v=y.getTime(),e=1;v<l;)g.push(v),v=x===d.year?b(f+e*w,0):x===d.month?b(f,h+e*w):!p||x!==d.day&&x!==d.week?p&&x===d.hour?b(f,h,k,S+e*w):v+x*w:b(f,h,k+e*w*(x===d.day?1:7)),e++;g.push(v),x<=d.hour&&1e4>g.length&&s(g,function(t){0===t%18e5&&"000000000"===n("%H%M%S%L",t)&&(m[t]="day")})}return g.info=a(t,{higherRanks:m,totalRange:x*w}),g},e.prototype.normalizeTimeTickInterval=function(t,e){var i=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=i[i.length-1];var n,r=d[e[0]],o=e[1];for(n=0;n<i.length&&(e=i[n],r=d[e[0]],o=e[1],!(i[n+1]&&t<=(r*o[o.length-1]+d[i[n+1][0]])/2));n++);return r===d.year&&t<5*r&&(o=[1,2,5]),t=h(t/r,o,"year"===e[0]?Math.max(l(t/r),1):1),{unitRange:r,count:t,unitName:e[0]}}}(t),function(t){var e=t.Axis,i=t.getMagnitude,n=t.map,r=t.normalizeTickInterval,o=t.pick;e.prototype.getLogTickPositions=function(t,e,s,a){var l=this.options,c=this.len,h=this.lin2log,u=this.log2lin,d=[];if(a||(this._minorAutoInterval=null),.5<=t)t=Math.round(t),d=this.getLinearTickPositions(t,e,s);else if(.08<=t)for(var f,p,g,m,v,c=Math.floor(e),l=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];c<s+1&&!v;c++)for(p=l.length,f=0;f<p&&!v;f++)g=u(h(c)*l[f]),g>e&&(!a||m<=s)&&void 0!==m&&d.push(m),m>s&&(v=!0),m=g;else e=h(e),s=h(s),t=l[a?"minorTickInterval":"tickInterval"],t=o("auto"===t?null:t,this._minorAutoInterval,l.tickPixelInterval/(a?5:1)*(s-e)/((a?c/this.tickPositions.length:c)||1)),t=r(t,null,i(t)),d=n(this.getLinearTickPositions(t,e,s),u),a||(this._minorAutoInterval=t/5);return a||(this.tickInterval=t),d},e.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},e.prototype.lin2log=function(t){return Math.pow(10,t)}}(t),function(t,e){var i=t.arrayMax,n=t.arrayMin,r=t.defined,o=t.destroyObjectProperties,s=t.each,a=t.erase,l=t.merge,c=t.pick;t.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},t.PlotLineOrBand.prototype={render:function(){var e=this,i=e.axis,n=i.horiz,o=e.options,s=o.label,a=e.label,h=o.to,u=o.from,d=o.value,f=r(u)&&r(h),p=r(d),g=e.svgElem,m=!g,v=[],y=o.color,b=c(o.zIndex,0),x=o.events,v={class:"highcharts-plot-"+(f?"band ":"line ")+(o.className||"")},w={},k=i.chart.renderer,S=f?"bands":"lines",C=i.log2lin;if(i.isLog&&(u=C(u),h=C(h),d=C(d)),p?(v={stroke:y,"stroke-width":o.width},o.dashStyle&&(v.dashstyle=o.dashStyle)):f&&(y&&(v.fill=y),o.borderWidth&&(v.stroke=o.borderColor,v["stroke-width"]=o.borderWidth)),w.zIndex=b,S+="-"+b,(y=i.plotLinesAndBandsGroups[S])||(i.plotLinesAndBandsGroups[S]=y=k.g("plot-"+S).attr(w).add()),m&&(e.svgElem=g=k.path().attr(v).add(y)),p)v=i.getPlotLinePath(d,g.strokeWidth());else{if(!f)return;v=i.getPlotBandPath(u,h,o)}return m&&v&&v.length?(g.attr({d:v}),x&&t.objectEach(x,function(t,i){g.on(i,function(t){x[i].apply(e,[t])})})):g&&(v?(g.show(),g.animate({d:v})):(g.hide(),a&&(e.label=a=a.destroy()))),s&&r(s.text)&&v&&v.length&&0<i.width&&0<i.height&&!v.flat?(s=l({align:n&&f&&"center",x:n?!f&&4:10,verticalAlign:!n&&f&&"middle",y:n?f?16:10:f?6:-4,rotation:n&&!f&&90},s),this.renderLabel(s,v,f,b)):a&&a.hide(),e},renderLabel:function(t,e,r,o){var s=this.label,a=this.axis.chart.renderer;s||(s={align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(r?"band":"line")+"-label "+(t.className||"")},s.zIndex=o,this.label=s=a.text(t.text,0,0,t.useHTML).attr(s).add(),s.css(t.style)),o=[e[1],e[4],r?e[6]:e[1]],e=[e[2],e[5],r?e[7]:e[2]],r=n(o),a=n(e),s.align(t,!1,{x:r,y:a,width:i(o)-r,height:i(e)-a}),s.show()},destroy:function(){a(this.axis.plotLinesAndBands,this),delete this.axis,o(this)}},t.extend(e.prototype,{getPlotBandPath:function(t,e){var i=this.getPlotLinePath(e,null,null,!0),n=this.getPlotLinePath(t,null,null,!0),r=this.horiz,o=1;return t=t<this.min&&e<this.min||t>this.max&&e>this.max,n&&i?(t&&(n.flat=n.toString()===i.toString(),o=0),n.push(r&&i[4]===n[4]?i[4]+o:i[4],r||i[5]!==n[5]?i[5]:i[5]+o,r&&i[1]===n[1]?i[1]+o:i[1],r||i[2]!==n[2]?i[2]:i[2]+o)):n=null,n},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(e,i){var n=new t.PlotLineOrBand(this,e).render(),r=this.userOptions;return n&&(i&&(r[i]=r[i]||[],r[i].push(e)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,n=this.userOptions,r=e.length;r--;)e[r].id===t&&e[r].destroy();s([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],function(e){for(r=e.length;r--;)e[r].id===t&&a(e,e[r])})},removePlotBand:function(t){this.removePlotBandOrLine(t)},removePlotLine:function(t){this.removePlotBandOrLine(t)}})}(t,e),function(t){var e=t.dateFormat,i=t.each,n=t.extend,r=t.format,o=t.isNumber,s=t.map,a=t.merge,l=t.pick,c=t.splat,h=t.syncTimeout,u=t.timeUnits;t.Tooltip=function(){this.init.apply(this,arguments)},t.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split},cleanSplit:function(t){i(this.chart.series,function(e){var i=e&&e.tt;i&&(!i.isActive||t?e.tt=i.destroy():i.isActive=!1)})},getLabel:function(){var t=this.chart.renderer,e=this.options;return this.label||(this.split?this.label=t.g("tooltip"):(this.label=t.label("",0,0,e.shape||"callout",null,null,e.useHTML,null,"tooltip").attr({padding:e.padding,r:e.borderRadius}),this.label.attr({fill:e.backgroundColor,"stroke-width":e.borderWidth}).css(e.style).shadow(e.shadow)),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),a(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,a(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,e,i,r){var o=this,s=o.now,a=!1!==o.options.animation&&!o.isHidden&&(1<Math.abs(t-s.x)||1<Math.abs(e-s.y)),l=o.followPointer||1<o.len;n(s,{x:a?(2*s.x+t)/3:t,y:a?(s.y+e)/2:e,anchorX:l?void 0:a?(2*s.anchorX+i)/3:i,anchorY:l?void 0:a?(s.anchorY+r)/2:r}),o.getLabel().attr(s),a&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){o&&o.move(t,e,i,r)},32))},hide:function(t){var e=this;clearTimeout(this.hideTimer),t=l(t,this.options.hideDelay,500),this.isHidden||(this.hideTimer=h(function(){e.getLabel()[t?"fadeOut":"hide"](),e.isHidden=!0},t))},getAnchor:function(t,e){var n,r,o,a=this.chart,l=a.inverted,h=a.plotTop,u=a.plotLeft,d=0,f=0;return t=c(t),n=t[0].tooltipPos,this.followPointer&&e&&(void 0===e.chartX&&(e=a.pointer.normalize(e)),n=[e.chartX-a.plotLeft,e.chartY-h]),n||(i(t,function(t){r=t.series.yAxis,o=t.series.xAxis,d+=t.plotX+(!l&&o?o.left-u:0),f+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!l&&r?r.top-h:0)}),d/=t.length,f/=t.length,n=[l?a.plotWidth-f:d,this.shared&&!l&&1<t.length&&e?e.chartY-h:l?a.plotHeight-d:f]),s(n,Math.round)},getPosition:function(t,e,i){var n,r=this.chart,o=this.distance,s={},a=i.h||0,c=["y",r.chartHeight,e,i.plotY+r.plotTop,r.plotTop,r.plotTop+r.plotHeight],h=["x",r.chartWidth,t,i.plotX+r.plotLeft,r.plotLeft,r.plotLeft+r.plotWidth],u=!this.followPointer&&l(i.ttBelow,!r.inverted==!!i.negative),d=function(t,e,i,n,r,l){var c=i<n-o,h=n+o+i<e,d=n-o-i;if(n+=o,u&&h)s[t]=n;else if(!u&&c)s[t]=d;else if(c)s[t]=Math.min(l-i,0>d-a?d:d-a);else{if(!h)return!1;s[t]=Math.max(r,n+a+i>e?n:n+a)}},f=function(t,e,i,n){var r;return n<o||n>e-o?r=!1:s[t]=n<i/2?1:n>e-i/2?e-i-2:n-i/2,r},p=function(t){var e=c;c=h,h=e,n=t},g=function(){!1!==d.apply(0,c)?!1!==f.apply(0,h)||n||(p(!0),g()):n?s.x=s.y=0:(p(!0),g())};return(r.inverted||1<this.len)&&p(),g(),s},defaultFormatter:function(t){var e,i=this.points||c(this);return e=[t.tooltipFooterHeaderFormatter(i[0])],e=e.concat(t.bodyFormatter(i)),e.push(t.tooltipFooterHeaderFormatter(i[0],!0)),e},refresh:function(t,e){var n,r,o,s=this.options,a=t,h={},u=[];n=s.formatter||this.defaultFormatter;var d,h=this.shared;clearTimeout(this.hideTimer),this.followPointer=c(a)[0].series.tooltipOptions.followPointer,o=this.getAnchor(a,e),e=o[0],r=o[1],!h||a.series&&a.series.noSharedTooltip?h=a.getLabelConfig():(i(a,function(t){t.setState("hover"),u.push(t.getLabelConfig())}),h={x:a[0].category,y:a[0].y},h.points=u,a=a[0]),this.len=u.length,h=n.call(h,this),d=a.series,this.distance=l(d.tooltipOptions.distance,16),!1===h?this.hide():(n=this.getLabel(),this.isHidden&&n.attr({opacity:1}).show(),this.split?this.renderSplit(h,t):(s.style.width||n.css({width:this.chart.spacingBox.width}),n.attr({text:h&&h.join?h.join(""):h}),n.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+l(a.colorIndex,d.colorIndex)),n.attr({stroke:s.borderColor||a.color||d.color||"#666666"}),this.updatePosition({plotX:e,plotY:r,negative:a.negative,ttBelow:a.ttBelow,h:o[2]||0})),this.isHidden=!1)},renderSplit:function(e,n){var r,o=this,s=[],a=this.chart,c=a.renderer,h=!0,u=this.options,d=this.getLabel();i(e.slice(0,n.length+1),function(t,e){e=n[e-1]||{isHeader:!0,plotX:n[0].plotX};var i=e.series||o,f=i.tt,p=e.series||{},g="highcharts-color-"+l(e.colorIndex,p.colorIndex,"none");f||(i.tt=f=c.label(null,null,null,"callout").addClass("highcharts-tooltip-box "+g).attr({padding:u.padding,r:u.borderRadius,fill:u.backgroundColor,stroke:e.color||p.color||"#333333","stroke-width":u.borderWidth}).add(d)),f.isActive=!0,f.attr({text:t}),f.css(u.style),t=f.getBBox(),p=t.width+f.strokeWidth(),e.isHeader?(r=t.height,p=Math.max(0,Math.min(e.plotX+a.plotLeft-p/2,a.chartWidth-p))):p=e.plotX+a.plotLeft-l(u.distance,16)-p,0>p&&(h=!1),t=(e.series&&e.series.yAxis&&e.series.yAxis.pos)+(e.plotY||0),t-=a.plotTop,s.push({target:e.isHeader?a.plotHeight+r:t,rank:e.isHeader?1:0,size:i.tt.getBBox().height+1,point:e,x:p,tt:f})}),this.cleanSplit(),t.distribute(s,a.plotHeight+r),i(s,function(t){var e=t.point,i=e.series;t.tt.attr({visibility:void 0===t.pos?"hidden":"inherit",x:h||e.isHeader?t.x:e.plotX+a.plotLeft+l(u.distance,16),y:t.pos+a.plotTop,anchorX:e.isHeader?e.plotX+a.plotLeft:e.plotX+i.xAxis.pos,anchorY:e.isHeader?t.pos+a.plotTop-15:e.plotY+i.yAxis.pos})})},updatePosition:function(t){var e=this.chart,i=this.getLabel(),i=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(Math.round(i.x),Math.round(i.y||0),t.plotX+e.plotLeft,t.plotY+e.plotTop)},getDateFormat:function(t,i,n,r){var o,s,a=e("%m-%d %H:%M:%S.%L",i),l={millisecond:15,second:12,minute:9,hour:6,day:3},c="millisecond";for(s in u){if(t===u.week&&+e("%w",i)===n&&"00:00:00.000"===a.substr(6)){s="week";break}if(u[s]>t){s=c;break}if(l[s]&&a.substr(l[s])!=="01-01 00:00:00.000".substr(l[s]))break;"week"!==s&&(c=s)}return s&&(o=r[s]),o},getXDateFormat:function(t,e,i){e=e.dateTimeLabelFormats;var n=i&&i.closestPointRange;return(n?this.getDateFormat(n,t.x,i.options.startOfWeek,e):e.day)||e.year},tooltipFooterHeaderFormatter:function(t,e){var i=e?"footer":"header";e=t.series;var n=e.tooltipOptions,s=n.xDateFormat,a=e.xAxis,l=a&&"datetime"===a.options.type&&o(t.key),i=n[i+"Format"];
return l&&!s&&(s=this.getXDateFormat(t,n,a)),l&&s&&(i=i.replace("{point.key}","{point.key:"+s+"}")),r(i,{point:t,series:e})},bodyFormatter:function(t){return s(t,function(t){var e=t.series.tooltipOptions;return(e.pointFormatter||t.point.tooltipFormatter).call(t.point,e.pointFormat)})}}}(t),function(t){var e=t.addEvent,i=t.attr,n=t.charts,r=t.color,o=t.css,s=t.defined,a=t.doc,l=t.each,c=t.extend,h=t.fireEvent,u=t.offset,d=t.pick,f=t.removeEvent,p=t.splat,g=t.Tooltip,m=t.win;t.Pointer=function(t,e){this.init(t,e)},t.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},g&&e.tooltip.enabled&&(t.tooltip=new g(t,e.tooltip),this.followTouchMove=d(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(t){var e=this.chart,i=e.options.chart,n=i.zoomType||"",e=e.inverted;/touch/.test(t.type)&&(n=d(i.pinchType,n)),this.zoomX=t=/x/.test(n),this.zoomY=n=/y/.test(n),this.zoomHor=t&&!e||n&&e,this.zoomVert=n&&!e||t&&e,this.hasZoom=t||n},normalize:function(t,e){var i,n;return t=t||m.event,t.target||(t.target=t.srcElement),n=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=u(this.chart.container)),void 0===n.pageX?(i=Math.max(t.x,t.clientX-e.left),e=t.y):(i=n.pageX-e.left,e=n.pageY-e.top),c(t,{chartX:Math.round(i),chartY:Math.round(e)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return l(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},getKDPoints:function(t,e,i){var n,r,o,s=[];if(l(t,function(t){n=t.noSharedTooltip&&e,r=!e&&t.directTouch,t.visible&&!r&&d(t.options.enableMouseTracking,!0)&&(o=t.searchPoint(i,!n&&0>t.options.findNearestPointBy.indexOf("y")))&&o.series&&s.push(o)}),s.sort(function(t,i){var n=t.distX-i.distX,r=t.dist-i.dist,o=(i.series.group&&i.series.group.zIndex)-(t.series.group&&t.series.group.zIndex);return 0!==n&&e?n:0!==r?r:0!==o?o:t.series.index>i.series.index?-1:1}),e&&s[0]&&!s[0].series.noSharedTooltip)for(t=s.length;t--;)(s[t].x!==s[0].x||s[t].series.noSharedTooltip)&&s.splice(t,1);return s},getPointFromEvent:function(t){t=t.target;for(var e;t&&!e;)e=t.point,t=t.parentNode;return e},getChartCoordinatesFromPoint:function(t,e){var i=t.series,n=i.xAxis,i=i.yAxis;if(n&&i)return e?{chartX:n.len+n.pos-t.clientX,chartY:i.len+i.pos-t.plotY}:{chartX:t.clientX+n.pos,chartY:t.plotY+i.pos}},getHoverData:function(e,i,n,r,o,s){var a=e,l=i,a=o?n:[l];r=!(!r||!e),i=l&&!l.stickyTracking;var c,h=function(t,e){return 0===e};return r?h=function(t){return t===e}:i?h=function(t){return t.series===l}:a=t.grep(n,function(t){return t.stickyTracking}),c=r&&!o?[e]:this.getKDPoints(a,o,s),l=(a=t.find(c,h))&&a.series,r||i||!o||(c=this.getKDPoints(n,o,s)),c.sort(function(t,e){return t.series.index-e.series.index}),{hoverPoint:a,hoverSeries:l,hoverPoints:c}},runPointActions:function(i,r){var o=this.chart,s=o.tooltip,c=!!s&&s.shared,h=r||o.hoverPoint,u=h&&h.series||o.hoverSeries;r=this.getHoverData(h,u,o.series,!!r||u&&u.directTouch&&this.isDirectTouch,c,i);var f,p,h=r.hoverPoint;f=(u=r.hoverSeries)&&u.tooltipOptions.followPointer,p=(c=c&&h&&!h.series.noSharedTooltip)?r.hoverPoints:h?[h]:[],h&&(h!==o.hoverPoint||s&&s.isHidden)?(l(o.hoverPoints||[],function(e){-1===t.inArray(e,p)&&e.setState()}),l(p||[],function(t){t.setState("hover")}),o.hoverSeries!==u&&u.onMouseOver(),o.hoverPoint&&o.hoverPoint.firePointEvent("mouseOut"),h.firePointEvent("mouseOver"),o.hoverPoints=p,o.hoverPoint=h,s&&s.refresh(c?p:h,i)):f&&s&&!s.isHidden&&(u=s.getAnchor([{}],i),s.updatePosition({plotX:u[0],plotY:u[1]})),this.unDocMouseMove||(this.unDocMouseMove=e(a,"mousemove",function(e){var i=n[t.hoverChartIndex];i&&i.pointer.onDocumentMouseMove(e)})),l(o.axes,function(e){d(e.crosshair.snap,!0)?t.find(p,function(t){return t.series[e.coll]===e})?e.drawCrosshair(i,h):e.hideCrosshair():e.drawCrosshair(i)})},reset:function(t,e){var i=this.chart,n=i.hoverSeries,r=i.hoverPoint,o=i.hoverPoints,s=i.tooltip,a=s&&s.shared?o:r;t&&a&&l(p(a),function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)}),t?s&&a&&(s.refresh(a),r&&(r.setState(r.state,!0),l(i.axes,function(t){t.crosshair&&t.drawCrosshair(null,r)}))):(r&&r.onMouseOut(),o&&l(o,function(t){t.setState()}),n&&n.onMouseOut(),s&&s.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),l(i.axes,function(t){t.hideCrosshair()}),this.hoverX=i.hoverPoints=i.hoverPoint=null)},scaleGroups:function(t,e){var i,n=this.chart;l(n.series,function(r){i=t||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&r.group&&(r.group.attr(i),r.markerGroup&&(r.markerGroup.attr(i),r.markerGroup.clip(e?n.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(i))}),n.clipRect.attr(e||n.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i=this.chart,n=i.options.chart,o=t.chartX,s=t.chartY,a=this.zoomHor,l=this.zoomVert,c=i.plotLeft,h=i.plotTop,u=i.plotWidth,d=i.plotHeight,f=this.selectionMarker,p=this.mouseDownX,g=this.mouseDownY,m=n.panKey&&t[n.panKey+"Key"];f&&f.touch||(o<c?o=c:o>c+u&&(o=c+u),s<h?s=h:s>h+d&&(s=h+d),this.hasDragged=Math.sqrt(Math.pow(p-o,2)+Math.pow(g-s,2)),10<this.hasDragged&&(e=i.isInsidePlot(p-c,g-h),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!m&&!f&&(this.selectionMarker=f=i.renderer.rect(c,h,a?1:u,l?1:d,0).attr({fill:n.selectionMarkerFill||r("#335cad").setOpacity(.25).get(),class:"highcharts-selection-marker",zIndex:7}).add()),f&&a&&(o-=p,f.attr({width:Math.abs(o),x:(0<o?0:o)+p})),f&&l&&(o=s-g,f.attr({height:Math.abs(o),y:(0<o?0:o)+g})),e&&!f&&n.panning&&i.pan(t,n.panning)))},drop:function(t){var e=this,i=this.chart,n=this.hasPinched;if(this.selectionMarker){var r,a={originalEvent:t,xAxis:[],yAxis:[]},u=this.selectionMarker,d=u.attr?u.attr("x"):u.x,f=u.attr?u.attr("y"):u.y,p=u.attr?u.attr("width"):u.width,g=u.attr?u.attr("height"):u.height;(this.hasDragged||n)&&(l(i.axes,function(i){if(i.zoomEnabled&&s(i.min)&&(n||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])){var o=i.horiz,l="touchend"===t.type?i.minPixelPadding:0,c=i.toValue((o?d:f)+l),o=i.toValue((o?d+p:f+g)-l);a[i.coll].push({axis:i,min:Math.min(c,o),max:Math.max(c,o)}),r=!0}}),r&&h(i,"selection",a,function(t){i.zoom(c(t,n?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}i&&(o(i.container,{cursor:i._cursor}),i.cancelClick=10<this.hasDragged,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),this.zoomOption(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(e){n[t.hoverChartIndex]&&n[t.hoverChartIndex].pointer.drop(e)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition;t=this.normalize(t,i),!i||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(e){var i=n[t.hoverChartIndex];i&&(e.relatedTarget||e.toElement)&&(i.pointer.reset(),i.pointer.chartPosition=null)},onContainerMouseMove:function(e){var i=this.chart;s(t.hoverChartIndex)&&n[t.hoverChartIndex]&&n[t.hoverChartIndex].mouseIsDown||(t.hoverChartIndex=i.index),e=this.normalize(e),e.returnValue=!1,"mousedown"===i.mouseIsDown&&this.drag(e),!this.inClass(e.target,"highcharts-tracker")&&!i.isInsidePlot(e.chartX-i.plotLeft,e.chartY-i.plotTop)||i.openMenu||this.runPointActions(e)},inClass:function(t,e){for(var n;t;){if(n=i(t,"class")){if(-1!==n.indexOf(e))return!0;if(-1!==n.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;t=t.relatedTarget||t.toElement,this.isDirectTouch=!1,!e||!t||e.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,i=e.hoverPoint,n=e.plotLeft,r=e.plotTop;t=this.normalize(t),e.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(h(i.series,"click",c(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):(c(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-n,t.chartY-r)&&h(e,"click",t)))},setDOMEvents:function(){var i=this,n=i.chart.container;n.onmousedown=function(t){i.onContainerMouseDown(t)},n.onmousemove=function(t){i.onContainerMouseMove(t)},n.onclick=function(t){i.onContainerClick(t)},e(n,"mouseleave",i.onContainerMouseLeave),1===t.chartCount&&e(a,"mouseup",i.onDocumentMouseUp),t.hasTouch&&(n.ontouchstart=function(t){i.onContainerTouchStart(t)},n.ontouchmove=function(t){i.onContainerTouchMove(t)},1===t.chartCount&&e(a,"touchend",i.onDocumentTouchEnd))},destroy:function(){var e=this;e.unDocMouseMove&&e.unDocMouseMove(),f(e.chart.container,"mouseleave",e.onContainerMouseLeave),t.chartCount||(f(a,"mouseup",e.onDocumentMouseUp),f(a,"touchend",e.onDocumentTouchEnd)),clearInterval(e.tooltipTimeout),t.objectEach(e,function(t,i){e[i]=null})}}}(t),function(t){var e=t.charts,i=t.each,n=t.extend,r=t.map,o=t.noop,s=t.pick;n(t.Pointer.prototype,{pinchTranslate:function(t,e,i,n,r,o){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,i,n,r,o),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,i,n,r,o)},pinchTranslateDirection:function(t,e,i,n,r,o,s,a){var l,c,h,u=this.chart,d=t?"x":"y",f=t?"X":"Y",p="chart"+f,g=t?"width":"height",m=u["plot"+(t?"Left":"Top")],v=a||1,y=u.inverted,b=u.bounds[t?"h":"v"],x=1===e.length,w=e[0][p],k=i[0][p],S=!x&&e[1][p],C=!x&&i[1][p];i=function(){!x&&20<Math.abs(w-S)&&(v=a||Math.abs(k-C)/Math.abs(w-S)),c=(m-k)/v+w,l=u["plot"+(t?"Width":"Height")]/v},i(),e=c,e<b.min?(e=b.min,h=!0):e+l>b.max&&(e=b.max-l,h=!0),h?(k-=.8*(k-s[d][0]),x||(C-=.8*(C-s[d][1])),i()):s[d]=[k,C],y||(o[d]=c-m,o[g]=l),o=y?1/v:v,r[g]=l,r[d]=e,n[y?t?"scaleY":"scaleX":"scale"+f]=v,n["translate"+f]=o*m+(k-o*w)},pinch:function(t){var e=this,a=e.chart,l=e.pinchDown,c=t.touches,h=c.length,u=e.lastValidTouch,d=e.hasZoom,f=e.selectionMarker,p={},g=1===h&&(e.inClass(t.target,"highcharts-tracker")&&a.runTrackerClick||e.runChartClick),m={};1<h&&(e.initiated=!0),d&&e.initiated&&!g&&t.preventDefault(),r(c,function(t){return e.normalize(t)}),"touchstart"===t.type?(i(c,function(t,e){l[e]={chartX:t.chartX,chartY:t.chartY}}),u.x=[l[0].chartX,l[1]&&l[1].chartX],u.y=[l[0].chartY,l[1]&&l[1].chartY],i(a.axes,function(t){if(t.zoomEnabled){var e=a.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,n=t.toPixels(s(t.options.min,t.dataMin)),r=t.toPixels(s(t.options.max,t.dataMax)),o=Math.max(n,r);e.min=Math.min(t.pos,Math.min(n,r)-i),e.max=Math.max(t.pos+t.len,o+i)}}),e.res=!0):e.followTouchMove&&1===h?this.runPointActions(e.normalize(t)):l.length&&(f||(e.selectionMarker=f=n({destroy:o,touch:!0},a.plotBox)),e.pinchTranslate(l,c,p,f,m,u),e.hasPinched=d,e.scaleGroups(p,m),e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(e,i){var n,r,o=this.chart;o.index!==t.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),t.hoverChartIndex=o.index,1===e.touches.length?(e=this.normalize(e),(r=o.isInsidePlot(e.chartX-o.plotLeft,e.chartY-o.plotTop))&&!o.openMenu?(i&&this.runPointActions(e),"touchmove"===e.type&&(i=this.pinchDown,n=!!i[0]&&4<=Math.sqrt(Math.pow(i[0].chartX-e.chartX,2)+Math.pow(i[0].chartY-e.chartY,2))),s(n,!0)&&this.pinch(e)):i&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(t){this.zoomOption(t),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(i){e[t.hoverChartIndex]&&e[t.hoverChartIndex].pointer.drop(i)}})}(t),function(t){var e=t.addEvent,i=t.charts,n=t.css,r=t.doc,o=t.extend,s=t.noop,a=t.Pointer,l=t.removeEvent,c=t.win,h=t.wrap;if(!t.hasTouch&&(c.PointerEvent||c.MSPointerEvent)){var u={},d=!!c.PointerEvent,f=function(){var e=[];return e.item=function(t){return this[t]},t.objectEach(u,function(t){e.push({pageX:t.pageX,pageY:t.pageY,target:t.target})}),e},p=function(e,n,r,o){"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!i[t.hoverChartIndex]||(o(e),o=i[t.hoverChartIndex].pointer,o[n]({type:r,target:e.currentTarget,preventDefault:s,touches:f()}))};o(a.prototype,{onContainerPointerDown:function(t){p(t,"onContainerTouchStart","touchstart",function(t){u[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){p(t,"onContainerTouchMove","touchmove",function(t){u[t.pointerId]={pageX:t.pageX,pageY:t.pageY},u[t.pointerId].target||(u[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){p(t,"onDocumentTouchEnd","touchend",function(t){delete u[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,d?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,d?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(r,d?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),h(a.prototype,"init",function(t,e,i){t.call(this,e,i),this.hasZoom&&n(e.container,{"-ms-touch-action":"none","touch-action":"none"})}),h(a.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(e)}),h(a.prototype,"destroy",function(t){this.batchMSEvents(l),t.call(this)})}}(t),function(t){var e=t.addEvent,i=t.css,n=t.discardElement,r=t.defined,o=t.each,s=t.isFirefox,a=t.marginNames,l=t.merge,c=t.pick,h=t.setAnimation,u=t.stableSort,d=t.win,f=t.wrap;t.Legend=function(t,e){this.init(t,e)},t.Legend.prototype={init:function(t,i){this.chart=t,this.setOptions(i),i.enabled&&(this.render(),e(this.chart,"endResize",function(){this.legend.positionCheckboxes()}))},setOptions:function(t){var e=c(t.padding,8);this.options=t,this.itemStyle=t.itemStyle,this.itemHiddenStyle=l(this.itemStyle,t.itemHiddenStyle),this.itemMarginTop=t.itemMarginTop||0,this.padding=e,this.initialItemY=e-5,this.itemHeight=this.maxItemWidth=0,this.symbolWidth=c(t.symbolWidth,16),this.pages=[]},update:function(t,e){var i=this.chart;this.setOptions(l(!0,this.options,t)),this.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,c(e,!0)&&i.redraw()},colorizeItem:function(e,i){e.legendGroup[i?"removeClass":"addClass"]("highcharts-legend-item-hidden");var n=this.options,r=e.legendItem,o=e.legendLine,s=e.legendSymbol,a=this.itemHiddenStyle.color,n=i?n.itemStyle.color:a,l=i?e.color||a:a,c=e.options&&e.options.marker,h={fill:l};r&&r.css({fill:n,color:n}),o&&o.attr({stroke:l}),s&&(c&&s.isMarker&&(h=e.pointAttribs(),i||t.objectEach(h,function(t,e){h[e]=a})),s.attr(h))},positionItem:function(t){var e=this.options,i=e.symbolPadding,e=!e.rtl,n=t._legendItemPos,r=n[0],n=n[1],o=t.checkbox;(t=t.legendGroup)&&t.element&&t.translate(e?r:this.legendWidth-r-2*i-4,n),o&&(o.x=r,o.y=n)},destroyItem:function(t){var e=t.checkbox;o(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&n(t.checkbox)},destroy:function(){function t(t){this[t]&&(this[t]=this[t].destroy())}o(this.getAllItems(),function(e){o(["legendItem","legendGroup"],t,e)}),o("clipRect up down pager nav box title group".split(" "),t,this),this.display=null},positionCheckboxes:function(t){var e,n=this.group&&this.group.alignAttr,r=this.clipHeight||this.legendHeight,s=this.titleHeight;n&&(e=n.translateY,o(this.allItems,function(o){var a,l=o.checkbox;l&&(a=e+s+l.y+(t||0)+3,i(l,{left:n.translateX+o.checkboxOffset+l.x-20+"px",top:a+"px",display:a>e-6&&a<e+r-6?"":"none"}))}))},renderTitle:function(){var t=this.options,e=this.padding,i=t.title,n=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,e-3,e-4,null,null,null,t.useHTML,null,"legend-title").attr({zIndex:1}).css(i.style).add(this.group)),t=this.title.getBBox(),n=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:n})),this.titleHeight=n},setText:function(e){var i=this.options;e.legendItem.attr({text:i.labelFormat?t.format(i.labelFormat,e):i.labelFormatter.call(e)})},renderItem:function(t){var e=this.chart,i=e.renderer,n=this.options,r="horizontal"===n.layout,o=this.symbolWidth,s=n.symbolPadding,a=this.itemStyle,h=this.itemHiddenStyle,u=this.padding,d=r?c(n.itemDistance,20):0,f=!n.rtl,p=n.width,g=n.itemMarginBottom||0,m=this.itemMarginTop,v=t.legendItem,y=!t.series,b=!y&&t.series.drawLegendSymbol?t.series:t,x=b.options,w=this.createCheckboxForItem&&x&&x.showCheckbox,x=o+s+d+(w?20:0),k=n.useHTML,S=t.options.className;v||(t.legendGroup=i.g("legend-item").addClass("highcharts-"+b.type+"-series highcharts-color-"+t.colorIndex+(S?" "+S:"")+(y?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=v=i.text("",f?o+s:-s,this.baseline||0,k).css(l(t.visible?a:h)).attr({align:f?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(o=a.fontSize,this.fontMetrics=i.fontMetrics(o,v),this.baseline=this.fontMetrics.f+3+m,v.attr("y",this.baseline)),this.symbolHeight=n.symbolHeight||this.fontMetrics.f,b.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,v,k),w&&this.createCheckboxForItem(t)),this.colorizeItem(t,t.visible),a.width||v.css({width:(n.itemWidth||e.spacingBox.width)-x}),this.setText(t),i=v.getBBox(),a=t.checkboxOffset=n.itemWidth||t.legendItemWidth||i.width+x,this.itemHeight=i=Math.round(t.legendItemHeight||i.height||this.symbolHeight),r&&this.itemX-u+a>(p||e.spacingBox.width-2*u-n.x)&&(this.itemX=u,this.itemY+=m+this.lastLineHeight+g,this.lastLineHeight=0),this.maxItemWidth=Math.max(this.maxItemWidth,a),this.lastItemY=m+this.itemY+g,this.lastLineHeight=Math.max(i,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],r?this.itemX+=a:(this.itemY+=m+i+g,this.lastLineHeight=i),this.offsetWidth=p||Math.max((r?this.itemX-u-d:a)+u,this.offsetWidth)},getAllItems:function(){var t=[];return o(this.chart.series,function(e){var i=e&&e.options;e&&c(i.showInLegend,!r(i.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))}),t},adjustMargins:function(t,e){var i=this.chart,n=this.options,s=n.align.charAt(0)+n.verticalAlign.charAt(0)+n.layout.charAt(0);n.floating||o([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(o,l){o.test(s)&&!r(t[l])&&(i[a[l]]=Math.max(i[a[l]],i.legend[(l+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][l]*n[l%2?"x":"y"]+c(n.margin,12)+e[l]))})},render:function(){var t,e,i,n,r=this,s=r.chart,a=s.renderer,c=r.group,h=r.box,d=r.options,f=r.padding;r.itemX=f,r.itemY=r.initialItemY,r.offsetWidth=0,r.lastItemY=0,c||(r.group=c=a.g("legend").attr({zIndex:7}).add(),r.contentGroup=a.g().attr({zIndex:1}).add(c),r.scrollGroup=a.g().add(r.contentGroup)),r.renderTitle(),t=r.getAllItems(),u(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),d.reversed&&t.reverse(),r.allItems=t,r.display=e=!!t.length,r.lastLineHeight=0,o(t,function(t){r.renderItem(t)}),i=(d.width||r.offsetWidth)+f,n=r.lastItemY+r.lastLineHeight+r.titleHeight,n=r.handleOverflow(n),n+=f,h||(r.box=h=a.rect().addClass("highcharts-legend-box").attr({r:d.borderRadius}).add(c),h.isNew=!0),h.attr({stroke:d.borderColor,"stroke-width":d.borderWidth||0,fill:d.backgroundColor||"none"}).shadow(d.shadow),0<i&&0<n&&(h[h.isNew?"attr":"animate"](h.crisp({x:0,y:0,width:i,height:n},h.strokeWidth())),h.isNew=!1),h[e?"show":"hide"](),r.legendWidth=i,r.legendHeight=n,o(t,function(t){r.positionItem(t)}),e&&c.align(l(d,{width:i,height:n}),!0,"spacingBox"),s.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,i,n=this,r=this.chart,s=r.renderer,a=this.options,l=a.y,h=this.padding,r=r.spacingBox.height+("top"===a.verticalAlign?-l:l)-h,l=a.maxHeight,u=this.clipRect,d=a.navigation,f=c(d.animation,!0),p=d.arrowSize||12,g=this.nav,m=this.pages,v=this.allItems,y=function(t){"number"==typeof t?u.attr({height:t}):u&&(n.clipRect=u.destroy(),n.contentGroup.clip()),n.contentGroup.div&&(n.contentGroup.div.style.clip=t?"rect("+h+"px,9999px,"+(h+t)+"px,0)":"auto")};return"horizontal"!==a.layout||"middle"===a.verticalAlign||a.floating||(r/=2),l&&(r=Math.min(r,l)),m.length=0,t>r&&!1!==d.enabled?(this.clipHeight=e=Math.max(r-20-this.titleHeight-h,0),this.currentPage=c(this.currentPage,1),this.fullHeight=t,o(v,function(t,n){var r=t._legendItemPos[1];t=Math.round(t.legendItem.getBBox().height);var o=m.length;(!o||r-m[o-1]>e&&(i||r)!==m[o-1])&&(m.push(i||r),o++),n===v.length-1&&r+t-m[o-1]>e&&m.push(r),r!==i&&(i=r)}),u||(u=n.clipRect=s.clipRect(0,h,9999,0),n.contentGroup.clip(u)),y(e),g||(this.nav=g=s.g().attr({zIndex:1}).add(this.group),this.up=s.symbol("triangle",0,0,p,p).on("click",function(){n.scroll(-1,f)}).add(g),this.pager=s.text("",15,10).addClass("highcharts-legend-navigation").css(d.style).add(g),this.down=s.symbol("triangle-down",0,0,p,p).on("click",function(){n.scroll(1,f)}).add(g)),n.scroll(0),t=r):g&&(y(),this.nav=g.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i=this.pages,n=i.length;t=this.currentPage+t;var r=this.clipHeight,o=this.options.navigation,s=this.pager,a=this.padding;t>n&&(t=n),0<t&&(void 0!==e&&h(e,this.chart),this.nav.attr({translateX:a,translateY:r+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({class:1===t?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),s.attr({text:t+"/"+n}),this.down.attr({x:18+this.pager.getBBox().width,class:t===n?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===t?o.inactiveColor:o.activeColor}).css({cursor:1===t?"default":"pointer"}),this.down.attr({fill:t===n?o.inactiveColor:o.activeColor}).css({cursor:t===n?"default":"pointer"}),e=-i[t-1]+this.initialItemY,this.scrollGroup.animate({translateY:e}),this.currentPage=t,this.positionCheckboxes(e))}},t.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.symbolHeight,n=t.options.squareSymbol;e.legendSymbol=this.chart.renderer.rect(n?(t.symbolWidth-i)/2:0,t.baseline-i+1,n?i:t.symbolWidth,i,c(t.options.symbolRadius,i/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e=this.options,i=e.marker,n=t.symbolWidth,r=t.symbolHeight,o=r/2,s=this.chart.renderer,a=this.legendGroup;t=t.baseline-Math.round(.3*t.fontMetrics.b);var h;h={"stroke-width":e.lineWidth||0},e.dashStyle&&(h.dashstyle=e.dashStyle),this.legendLine=s.path(["M",0,t,"L",n,t]).addClass("highcharts-graph").attr(h).add(a),i&&!1!==i.enabled&&(e=Math.min(c(i.radius,o),o),0===this.symbol.indexOf("url")&&(i=l(i,{width:r,height:r}),e=0),this.legendSymbol=i=s.symbol(this.symbol,n/2-e,t-e,2*e,2*e,i).addClass("highcharts-point").add(a),i.isMarker=!0)}},(/Trident\/7\.0/.test(d.navigator.userAgent)||s)&&f(t.Legend.prototype,"positionItem",function(t,e){var i=this,n=function(){e._legendItemPos&&t.call(i,e)};n(),setTimeout(n)})}(t),function(t){var e=t.addEvent,i=t.animate,n=t.animObject,r=t.attr,o=t.doc,s=t.Axis,a=t.createElement,l=t.defaultOptions,c=t.discardElement,h=t.charts,u=t.css,d=t.defined,f=t.each,p=t.extend,g=t.find,m=t.fireEvent,v=t.getStyle,y=t.grep,b=t.isNumber,x=t.isObject,w=t.isString,k=t.Legend,S=t.marginNames,C=t.merge,T=t.objectEach,M=t.Pointer,A=t.pick,L=t.pInt,O=t.removeEvent,D=t.seriesTypes,_=t.splat,P=t.svg,E=t.syncTimeout,N=t.win,I=t.Renderer,z=t.Chart=function(){this.getArgs.apply(this,arguments)};t.chart=function(t,e,i){return new z(t,e,i)},p(z.prototype,{callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(w(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(i,n){var r,o,s=i.series,a=i.plotOptions||{};i.series=null,r=C(l,i);for(o in r.plotOptions)r.plotOptions[o].tooltip=a[o]&&C(a[o].tooltip)||void 0;r.tooltip.userOptions=i.chart&&i.chart.forExport&&i.tooltip.userOptions||i.tooltip,r.series=i.series=s,this.userOptions=i,i=r.chart,o=i.events,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.callback=n,this.isResizing=0,this.options=r,this.axes=[],this.series=[],this.hasCartesianSeries=i.showAxes;var c=this;c.index=h.length,h.push(c),t.chartCount++,o&&T(o,function(t,i){e(c,i,t)}),c.xAxis=[],c.yAxis=[],c.pointCount=c.colorCounter=c.symbolCounter=0,c.firstRender()},initSeries:function(e){var i=this.options.chart;return(i=D[e.type||i.type||i.defaultSeriesType])||t.error(17,!0),i=new i,i.init(this,e),i},orderSeries:function(t){var e=this.series;for(t=t||0;t<e.length;t++)e[t]&&(e[t].index=t,e[t].name=e[t].name||"Series "+(e[t].index+1))},isInsidePlot:function(t,e,i){var n=i?e:t;return t=i?t:e,0<=n&&n<=this.plotWidth&&0<=t&&t<=this.plotHeight},redraw:function(e){var i,n,r,o=this.axes,s=this.series,a=this.pointer,l=this.legend,c=this.isDirtyLegend,h=this.hasCartesianSeries,u=this.isDirtyBox,d=this.renderer,g=d.isHidden(),v=[];for(this.setResponsive&&this.setResponsive(!1),t.setAnimation(e,this),g&&this.temporaryDisplay(),this.layOutTitles(),e=s.length;e--;)if(r=s[e],r.options.stacking&&(i=!0,r.isDirty)){n=!0;break}if(n)for(e=s.length;e--;)r=s[e],r.options.stacking&&(r.isDirty=!0);f(s,function(t){t.isDirty&&"point"===t.options.legendType&&(t.updateTotals&&t.updateTotals(),c=!0),t.isDirtyData&&m(t,"updatedData")}),c&&l.options.enabled&&(l.render(),this.isDirtyLegend=!1),i&&this.getStacks(),h&&f(o,function(t){t.updateNames(),t.setScale()}),this.getMargins(),h&&(f(o,function(t){t.isDirty&&(u=!0)}),f(o,function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,v.push(function(){m(t,"afterSetExtremes",p(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(u||i)&&t.redraw()})),u&&this.drawChartBox(),m(this,"predraw"),f(s,function(t){(u||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1}),a&&a.reset(!0),d.draw(),m(this,"redraw"),m(this,"render"),g&&this.temporaryDisplay(!0),f(v,function(t){t.call()})},get:function(t){function e(e){return e.id===t||e.options&&e.options.id===t}var i,n,r=this.series;for(i=g(this.axes,e)||g(this.series,e),n=0;!i&&n<r.length;n++)i=g(r[n].points||[],e);return i},getAxes:function(){var t=this,e=this.options,i=e.xAxis=_(e.xAxis||{}),e=e.yAxis=_(e.yAxis||{});f(i,function(t,e){t.index=e,t.isX=!0}),f(e,function(t,e){t.index=e}),i=i.concat(e),f(i,function(e){new s(t,e)})},getSelectedPoints:function(){var t=[];return f(this.series,function(e){t=t.concat(y(e.data||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return y(this.series,function(t){return t.selected})},setTitle:function(t,e,i){var n,r=this,o=r.options;n=o.title=C({style:{color:"#333333",fontSize:o.isStock?"16px":"18px"}},o.title,t),o=o.subtitle=C({style:{color:"#666666"}},o.subtitle,e),f([["title",t,n],["subtitle",e,o]],function(t,e){var i=t[0],n=r[i],o=t[1];t=t[2],n&&o&&(r[i]=n=n.destroy()),t&&t.text&&!n&&(r[i]=r.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,class:"highcharts-"+i,zIndex:t.zIndex||4}).add(),r[i].update=function(t){r.setTitle(!e&&t,e&&t)},r[i].css(t.style))}),r.layOutTitles(i)},layOutTitles:function(t){var e,i=0,n=this.renderer,r=this.spacingBox;f(["title","subtitle"],function(t){var e=this[t],o=this.options[t];t="title"===t?-3:o.verticalAlign?0:i+2;var s;e&&(s=o.style.fontSize,s=n.fontMetrics(s,e).b,e.css({width:(o.width||r.width+o.widthAdjust)+"px"}).align(p({y:t+s},o),!1,"spacingBox"),o.floating||o.verticalAlign||(i=Math.ceil(i+e.getBBox(o.useHTML).height)))},this),e=this.titleOffset!==i,this.titleOffset=i,!this.isDirtyBox&&e&&(this.isDirtyBox=e,this.hasRendered&&A(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this.options.chart,i=e.width,e=e.height,n=this.renderTo;d(i)||(this.containerWidth=v(n,"width")),d(e)||(this.containerHeight=v(n,"height")),this.chartWidth=Math.max(0,i||this.containerWidth||600),this.chartHeight=Math.max(0,t.relativeLength(e,this.chartWidth)||this.containerHeight||400)},temporaryDisplay:function(e){var i=this.renderTo;if(e)for(;i&&i.style;)i.hcOrigStyle&&(t.css(i,i.hcOrigStyle),delete i.hcOrigStyle),i=i.parentNode;else for(;i&&i.style;)"none"===v(i,"display",!1)&&(i.hcOrigStyle={display:i.style.display,height:i.style.height,overflow:i.style.overflow},e={display:"block",overflow:"hidden"},i!==this.renderTo&&(e.height=0),t.css(i,e),i.style.setProperty&&i.style.setProperty("display","block","important")),i=i.parentNode},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var e,i,n,s=this.options,l=s.chart;e=this.renderTo;var c,u=t.uniqueKey();e||(this.renderTo=e=l.renderTo),w(e)&&(this.renderTo=e=o.getElementById(e)),e||t.error(13,!0),i=L(r(e,"data-highcharts-chart")),b(i)&&h[i]&&h[i].hasRendered&&h[i].destroy(),r(e,"data-highcharts-chart",this.index),e.innerHTML="",l.skipClone||e.offsetWidth||this.temporaryDisplay(),this.getChartSize(),i=this.chartWidth,n=this.chartHeight,c=p({position:"relative",overflow:"hidden",width:i+"px",height:n+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},l.style),this.container=e=a("div",{id:u},c,e),this._cursor=e.style.cursor,this.renderer=new(t[l.renderer]||I)(e,i,n,null,l.forExport,s.exporting&&s.exporting.allowHTML),this.setClassName(l.className),this.renderer.setStyle(l.style),this.renderer.chartIndex=this.index},getMargins:function(t){var e=this.spacing,i=this.margin,n=this.titleOffset;this.resetMargins(),n&&!d(i[0])&&(this.plotTop=Math.max(this.plotTop,n+this.options.title.margin+e[0])),this.legend.display&&this.legend.adjustMargins(i,e),this.extraMargin&&(this[this.extraMargin.type]=(this[this.extraMargin.type]||0)+this.extraMargin.value),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],i=t.margin;t.hasCartesianSeries&&f(t.axes,function(t){t.visible&&t.getOffset()}),f(S,function(n,r){d(i[r])||(t[n]+=e[r])}),t.setChartSize()},reflow:function(t){var e=this,i=e.options.chart,n=e.renderTo,r=d(i.width),s=i.width||v(n,"width"),i=i.height||v(n,"height"),n=t?t.target:N;r||e.isPrinting||!s||!i||n!==N&&n!==o||(s===e.containerWidth&&i===e.containerHeight||(clearTimeout(e.reflowTimeout),e.reflowTimeout=E(function(){e.container&&e.setSize(void 0,void 0,!1)},t?100:0)),e.containerWidth=s,e.containerHeight=i)},initReflow:function(){var t,i=this;t=e(N,"resize",function(t){i.reflow(t)}),e(i,"destroy",t)},setSize:function(e,r,o){var s=this,a=s.renderer;s.isResizing+=1,t.setAnimation(o,s),s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,void 0!==e&&(s.options.chart.width=e),void 0!==r&&(s.options.chart.height=r),s.getChartSize(),e=a.globalAnimation,(e?i:u)(s.container,{width:s.chartWidth+"px",height:s.chartHeight+"px"},e),s.setChartSize(!0),a.setSize(s.chartWidth,s.chartHeight,o),f(s.axes,function(t){t.isDirty=!0,t.setScale()}),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.layOutTitles(),s.getMargins(),s.redraw(o),s.oldChartHeight=null,m(s,"resize"),E(function(){s&&m(s,"endResize",null,function(){--s.isResizing})},n(e).duration)},setChartSize:function(t){function e(t){return t=p[t]||0,Math.max(s||t,t)/2}var i,n,r,o,s,a=this.inverted,l=this.renderer,c=this.chartWidth,h=this.chartHeight,u=this.options.chart,d=this.spacing,p=this.clipOffset;this.plotLeft=i=Math.round(this.plotLeft),this.plotTop=n=Math.round(this.plotTop),this.plotWidth=r=Math.max(0,Math.round(c-i-this.marginRight)),this.plotHeight=o=Math.max(0,Math.round(h-n-this.marginBottom)),this.plotSizeX=a?o:r,this.plotSizeY=a?r:o,this.plotBorderWidth=u.plotBorderWidth||0,this.spacingBox=l.spacingBox={x:d[3],y:d[0],width:c-d[3]-d[1],height:h-d[0]-d[2]},this.plotBox=l.plotBox={x:i,y:n,width:r,height:o},s=2*Math.floor(this.plotBorderWidth/2),a=Math.ceil(e(3)),l=Math.ceil(e(0)),this.clipBox={x:a,y:l,width:Math.floor(this.plotSizeX-e(1)-a),height:Math.max(0,Math.floor(this.plotSizeY-e(2)-l))},t||f(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this,e=t.options.chart;f(["margin","spacing"],function(i){var n=e[i],r=x(n)?n:[n,n,n,n];f(["Top","Right","Bottom","Left"],function(n,o){t[i][o]=A(e[i+n],r[o])})}),f(S,function(e,i){t[e]=A(t.margin[i],t.spacing[i])}),t.axisOffset=[0,0,0,0],t.clipOffset=[]},drawChartBox:function(){var t,e,i=this.options.chart,n=this.renderer,r=this.chartWidth,o=this.chartHeight,s=this.chartBackground,a=this.plotBackground,l=this.plotBorder,c=this.plotBGImage,h=i.backgroundColor,u=i.plotBackgroundColor,d=i.plotBackgroundImage,f=this.plotLeft,p=this.plotTop,g=this.plotWidth,m=this.plotHeight,v=this.plotBox,y=this.clipRect,b=this.clipBox,x="animate";
s||(this.chartBackground=s=n.rect().addClass("highcharts-background").add(),x="attr"),t=i.borderWidth||0,e=t+(i.shadow?8:0),h={fill:h||"none"},(t||s["stroke-width"])&&(h.stroke=i.borderColor,h["stroke-width"]=t),s.attr(h).shadow(i.shadow),s[x]({x:e/2,y:e/2,width:r-e-t%2,height:o-e-t%2,r:i.borderRadius}),x="animate",a||(x="attr",this.plotBackground=a=n.rect().addClass("highcharts-plot-background").add()),a[x](v),a.attr({fill:u||"none"}).shadow(i.plotShadow),d&&(c?c.animate(v):this.plotBGImage=n.image(d,f,p,g,m).add()),y?y.animate({width:b.width,height:b.height}):this.clipRect=n.clipRect(b),x="animate",l||(x="attr",this.plotBorder=l=n.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),l.attr({stroke:i.plotBorderColor,"stroke-width":i.plotBorderWidth||0,fill:"none"}),l[x](l.crisp({x:f,y:p,width:g,height:m},-l.strokeWidth())),this.isDirtyBox=!1},propFromSeries:function(){var t,e,i,n=this,r=n.options.chart,o=n.options.series;f(["inverted","angular","polar"],function(s){for(t=D[r.type||r.defaultSeriesType],i=r[s]||t&&t.prototype[s],e=o&&o.length;!i&&e--;)(t=D[o[e].type])&&t.prototype[s]&&(i=!0);n[s]=i})},linkSeries:function(){var t=this,e=t.series;f(e,function(t){t.linkedSeries.length=0}),f(e,function(e){var i=e.options.linkedTo;w(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i))&&i.linkedParent!==e&&(i.linkedSeries.push(e),e.linkedParent=i,e.visible=A(e.options.visible,i.options.visible,e.visible))})},renderSeries:function(){f(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,e=t.options.labels;e.items&&f(e.items,function(i){var n=p(e.style,i.style),r=L(n.left)+t.plotLeft,o=L(n.top)+t.plotTop+12;delete n.left,delete n.top,t.renderer.text(i.html,r,o).attr({zIndex:2}).css(n).add()})},render:function(){var t,e,i,n=this.axes,r=this.renderer,o=this.options;this.setTitle(),this.legend=new k(this,o.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),o=this.plotWidth,t=this.plotHeight-=21,f(n,function(t){t.setScale()}),this.getAxisMargins(),e=1.1<o/this.plotWidth,i=1.05<t/this.plotHeight,(e||i)&&(f(n,function(t){(t.horiz&&e||!t.horiz&&i)&&t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&f(n,function(t){t.visible&&t.render()}),this.seriesGroup||(this.seriesGroup=r.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(t){var e=this;t=C(!0,this.options.credits,t),t.enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){t.href&&(N.location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},destroy:function(){var e,i=this,n=i.axes,r=i.series,o=i.container,s=o&&o.parentNode;for(m(i,"destroy"),i.renderer.forExport?t.erase(h,i):h[i.index]=void 0,t.chartCount--,i.renderTo.removeAttribute("data-highcharts-chart"),O(i),e=n.length;e--;)n[e]=n[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=r.length;e--;)r[e]=r[e].destroy();f("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),function(t){var e=i[t];e&&e.destroy&&(i[t]=e.destroy())}),o&&(o.innerHTML="",O(o),s&&c(o)),T(i,function(t,e){delete i[e]})},isReadyToRender:function(){var t=this;return!(!P&&N==N.top&&"complete"!==o.readyState)||(o.attachEvent("onreadystatechange",function(){o.detachEvent("onreadystatechange",t.firstRender),"complete"===o.readyState&&t.firstRender()}),!1)},firstRender:function(){var t=this,e=t.options;t.isReadyToRender()&&(t.getContainer(),m(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),f(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),m(t,"beforeRender"),M&&(t.pointer=new M(t,e)),t.render(),!t.renderer.imgCount&&t.onload&&t.onload(),t.temporaryDisplay(!0))},onload:function(){f([this.callback].concat(this.callbacks),function(t){t&&void 0!==this.index&&t.apply(this,[this])},this),m(this,"load"),m(this,"render"),d(this.index)&&!1!==this.options.chart.reflow&&this.initReflow(),this.onload=null}})}(t),function(t){var e,i=t.each,n=t.extend,r=t.erase,o=t.fireEvent,s=t.format,a=t.isArray,l=t.isNumber,c=t.pick,h=t.removeEvent;t.Point=e=function(){},t.Point.prototype={init:function(t,e,i){return this.series=t,this.color=t.color,this.applyOptions(e,i),t.options.colorByPoint?(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter],e=e.length,i=t.colorCounter,t.colorCounter++,t.colorCounter===e&&(t.colorCounter=0)):i=t.colorIndex,this.colorIndex=c(this.colorIndex,i),t.chart.pointCount++,this},applyOptions:function(t,i){var r=this.series,o=r.options.pointValKey||r.pointValKey;return t=e.prototype.optionsToObject.call(this,t),n(this,t),this.options=this.options?n(this.options,t):t,t.group&&delete this.group,o&&(this.y=this[o]),this.isNull=c(this.isValid&&!this.isValid(),null===this.x||!l(this.y,!0)),this.selected&&(this.state="select"),"name"in this&&void 0===i&&r.xAxis&&r.xAxis.hasNames&&(this.x=r.xAxis.nameToX(this)),void 0===this.x&&r&&(this.x=void 0===i?r.autoIncrement(this):i),this},optionsToObject:function(t){var e={},i=this.series,n=i.options.keys,r=n||i.pointArrayMap||["y"],o=r.length,s=0,c=0;if(l(t)||null===t)e[r[0]]=t;else if(a(t))for(!n&&t.length>o&&(i=typeof t[0],"string"===i?e.name=t[0]:"number"===i&&(e.x=t[0]),s++);c<o;)n&&void 0===t[s]||(e[r[c]]=t[s]),s++,c++;else"object"==typeof t&&(e=t,t.dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return e},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var t,e=this.series,i=e.zones,e=e.zoneAxis||"y",n=0;for(t=i[n];this[e]>=t.value;)t=i[++n];return t&&t.color&&!this.options.color&&(this.color=t.color),t},destroy:function(){var t,e=this.series.chart,i=e.hoverPoints;e.pointCount--,i&&(this.setState(),r(i,this),i.length||(e.hoverPoints=null)),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(h(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this);for(t in this)this[t]=null},destroyElements:function(){for(var t,e=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],i=6;i--;)t=e[i],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,n=e.tooltipOptions,r=c(n.valueDecimals,""),o=n.valuePrefix||"",a=n.valueSuffix||"";return i(e.pointArrayMap||["y"],function(e){e="{point."+e,(o||a)&&(t=t.replace(e+"}",o+e+"}"+a)),t=t.replace(e+"}",e+":,."+r+"f}")}),s(t,{point:this,series:this.series})},firePointEvent:function(t,e,i){var n=this,r=this.series.options;(r.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents(),"click"===t&&r.allowPointSelect&&(i=function(t){n.select&&n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),o(this,t,e,i)},visible:!0}}(t),function(t){var e=t.addEvent,i=t.animObject,n=t.arrayMax,r=t.arrayMin,o=t.correctFloat,s=t.Date,a=t.defaultOptions,l=t.defaultPlotOptions,c=t.defined,h=t.each,u=t.erase,d=t.extend,f=t.fireEvent,p=t.grep,g=t.isArray,m=t.isNumber,v=t.isString,y=t.merge,b=t.objectEach,x=t.pick,w=t.removeEvent,k=t.splat,S=t.SVGElement,C=t.syncTimeout,T=t.win;t.Series=t.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",radius:4,states:{hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":t.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:t.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(t,i){var n,r,o=this,s=t.series;o.chart=t,o.options=i=o.setOptions(i),o.linkedSeries=[],o.bindAxes(),d(o,{name:i.name,state:"",visible:!1!==i.visible,selected:!0===i.selected}),n=i.events,b(n,function(t,i){e(o,i,t)}),(n&&n.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(t.runTrackerClick=!0),o.getColor(),o.getSymbol(),h(o.parallelArrays,function(t){o[t+"Data"]=[]}),o.setData(i.data,!1),o.isCartesian&&(t.hasCartesianSeries=!0),s.length&&(r=s[s.length-1]),o._i=x(r&&r._i,-1)+1,t.orderSeries(this.insert(s))},insert:function(t){var e,i=this.options.index;if(m(i)){for(e=t.length;e--;)if(i>=x(t[e].options.index,t[e]._i)){t.splice(e+1,0,this);break}-1===e&&t.unshift(this),e+=1}else t.push(this);return x(e,t.length-1)},bindAxes:function(){var e,i=this,n=i.options,r=i.chart;h(i.axisTypes||[],function(o){h(r[o],function(t){e=t.options,(n[o]===e.index||void 0!==n[o]&&n[o]===e.id||void 0===n[o]&&0===e.index)&&(i.insert(t.series),i[o]=t,t.isDirty=!0)}),i[o]||i.optionalAxis===o||t.error(18,!0)})},updateParallelArrays:function(t,e){var i=t.series,n=arguments,r=m(e)?function(n){var r="y"===n&&i.toYData?i.toYData(t):t[n];i[n+"Data"][e]=r}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(n,2))};h(i.parallelArrays,r)},autoIncrement:function(){var t,e=this.options,i=this.xIncrement,n=e.pointIntervalUnit,i=x(i,e.pointStart,0);return this.pointInterval=t=x(this.pointInterval,e.pointInterval,1),n&&(e=new s(i),"day"===n?e=+e[s.hcSetDate](e[s.hcGetDate]()+t):"month"===n?e=+e[s.hcSetMonth](e[s.hcGetMonth]()+t):"year"===n&&(e=+e[s.hcSetFullYear](e[s.hcGetFullYear]()+t)),t=e-i),this.xIncrement=i+t,i},setOptions:function(t){var e=this.chart,i=e.options,n=i.plotOptions,r=(e.userOptions||{}).plotOptions||{},o=n[this.type];return this.userOptions=t,e=y(o,n.series,t),this.tooltipOptions=y(a.tooltip,a.plotOptions.series&&a.plotOptions.series.tooltip,a.plotOptions[this.type].tooltip,i.tooltip.userOptions,n.series&&n.series.tooltip,n[this.type].tooltip,t.tooltip),this.stickyTracking=x(t.stickyTracking,r[this.type]&&r[this.type].stickyTracking,r.series&&r.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||e.stickyTracking),null===o.marker&&delete e.marker,this.zoneAxis=e.zoneAxis,t=this.zones=(e.zones||[]).slice(),!e.negativeColor&&!e.negativeFillColor||e.zones||t.push({value:e[this.zoneAxis+"Threshold"]||e.threshold||0,className:"highcharts-negative",color:e.negativeColor,fillColor:e.negativeFillColor}),t.length&&c(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),e},getCyclic:function(t,e,i){var n,r=this.chart,o=this.userOptions,s=t+"Index",a=t+"Counter",l=i?i.length:x(r.options.chart[t+"Count"],r[t+"Count"]);e||(n=x(o[s],o["_"+s]),c(n)||(r.series.length||(r[a]=0),o["_"+s]=n=r[a]%l,r[a]+=1),i&&(e=i[n])),void 0!==n&&(this[s]=n),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||l[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:t.LegendSymbolMixin.drawLineMarker,setData:function(e,i,n,r){var o,s=this,a=s.points,l=a&&a.length||0,c=s.options,u=s.chart,d=null,f=s.xAxis,p=c.turboThreshold,y=this.xData,b=this.yData,w=(o=s.pointArrayMap)&&o.length;if(e=e||[],o=e.length,i=x(i,!0),!1!==r&&o&&l===o&&!s.cropped&&!s.hasGroupedData&&s.visible)h(e,function(t,e){a[e].update&&t!==c.data[e]&&a[e].update(t,!1,null,!1)});else{if(s.xIncrement=null,s.colorCounter=0,h(this.parallelArrays,function(t){s[t+"Data"].length=0}),p&&o>p){for(n=0;null===d&&n<o;)d=e[n],n++;if(m(d))for(n=0;n<o;n++)y[n]=this.autoIncrement(),b[n]=e[n];else if(g(d))if(w)for(n=0;n<o;n++)d=e[n],y[n]=d[0],b[n]=d.slice(1,w+1);else for(n=0;n<o;n++)d=e[n],y[n]=d[0],b[n]=d[1];else t.error(12)}else for(n=0;n<o;n++)void 0!==e[n]&&(d={series:s},s.pointClass.prototype.applyOptions.apply(d,[e[n]]),s.updateParallelArrays(d,n));for(v(b[0])&&t.error(14,!0),s.data=[],s.options.data=s.userOptions.data=e,n=l;n--;)a[n]&&a[n].destroy&&a[n].destroy();f&&(f.minRange=f.userMinRange),s.isDirty=u.isDirtyBox=!0,s.isDirtyData=!!a,n=!1}"point"===c.legendType&&(this.processData(),this.generatePoints()),i&&u.redraw(n)},processData:function(e){var i,n=this.xData,r=this.yData,o=n.length;i=0;var s,a,l,c=this.xAxis,h=this.options;l=h.cropThreshold;var u,d,f=this.getExtremesFromAll||h.getExtremesFromAll,p=this.isCartesian,h=c&&c.val2lin,g=c&&c.isLog;if(p&&!this.isDirty&&!c.isDirty&&!this.yAxis.isDirty&&!e)return!1;for(c&&(e=c.getExtremes(),u=e.min,d=e.max),p&&this.sorted&&!f&&(!l||o>l||this.forceCrop)&&(n[o-1]<u||n[0]>d?(n=[],r=[]):(n[0]<u||n[o-1]>d)&&(i=this.cropData(this.xData,this.yData,u,d),n=i.xData,r=i.yData,i=i.start,s=!0)),l=n.length||1;--l;)o=g?h(n[l])-h(n[l-1]):n[l]-n[l-1],0<o&&(void 0===a||o<a)?a=o:0>o&&this.requireSorting&&t.error(15);this.cropped=s,this.cropStart=i,this.processedXData=n,this.processedYData=r,this.closestPointRange=a},cropData:function(t,e,i,n){var r,o=t.length,s=0,a=o,l=x(this.cropShoulder,1);for(r=0;r<o;r++)if(t[r]>=i){s=Math.max(0,r-l);break}for(i=r;i<o;i++)if(t[i]>n){a=i+l;break}return{xData:t.slice(s,a),yData:e.slice(s,a),start:s,end:a}},generatePoints:function(){var t,e,i,n,r=this.options,o=r.data,s=this.data,a=this.processedXData,l=this.processedYData,c=this.pointClass,h=a.length,u=this.cropStart||0,d=this.hasGroupedData,r=r.keys,f=[];for(s||d||(s=[],s.length=o.length,s=this.data=s),r&&d&&(this.options.keys=!1),n=0;n<h;n++)e=u+n,d?(i=(new c).init(this,[a[n]].concat(k(l[n]))),i.dataGroup=this.groupMap[n]):(i=s[e])||void 0===o[e]||(s[e]=i=(new c).init(this,o[e],a[n])),i&&(i.index=e,f[n]=i);if(this.options.keys=r,s&&(h!==(t=s.length)||d))for(n=0;n<t;n++)n!==u||d||(n+=h),s[n]&&(s[n].destroyElements(),s[n].plotX=void 0);this.data=s,this.points=f},getExtremes:function(t){var e,i=this.yAxis,o=this.processedXData,s=[],a=0;e=this.xAxis.getExtremes();var l,c,h,u,d=e.min,f=e.max;for(t=t||this.stackedYData||this.processedYData||[],e=t.length,u=0;u<e;u++)if(c=o[u],h=t[u],l=(m(h,!0)||g(h))&&(!i.positiveValuesOnly||h.length||0<h),c=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(o[u]||c)>=d&&(o[u]||c)<=f,l&&c)if(l=h.length)for(;l--;)null!==h[l]&&(s[a++]=h[l]);else s[a++]=h;this.dataMin=r(s),this.dataMax=n(s)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,i,n,r=this.options,s=r.stacking,a=this.xAxis,l=a.categories,h=this.yAxis,u=this.points,d=u.length,f=!!this.modifyValue,p=r.pointPlacement,g="between"===p||m(p),v=r.threshold,y=r.startFromThreshold?v:0,b=Number.MAX_VALUE;for("between"===p&&(p=.5),m(p)&&(p*=x(r.pointRange||a.pointRange)),r=0;r<d;r++){var w=u[r],k=w.x,S=w.y;e=w.low;var C,T=s&&h.stacks[(this.negStacks&&S<(y?0:v)?"-":"")+this.stackKey];h.positiveValuesOnly&&null!==S&&0>=S&&(w.isNull=!0),w.plotX=t=o(Math.min(Math.max(-1e5,a.translate(k,0,0,0,1,p,"flags"===this.type)),1e5)),s&&this.visible&&!w.isNull&&T&&T[k]&&(n=this.getStackIndicator(n,k,this.index),C=T[k],S=C.points[n.key],e=S[0],S=S[1],e===y&&n.key===T[k].base&&(e=x(v,h.min)),h.positiveValuesOnly&&0>=e&&(e=null),w.total=w.stackTotal=C.total,w.percentage=C.total&&w.y/C.total*100,w.stackY=S,C.setOffset(this.pointXOffset||0,this.barW||0)),w.yBottom=c(e)?h.translate(e,0,1,0,1):null,f&&(S=this.modifyValue(S,w)),w.plotY=e="number"==typeof S&&1/0!==S?Math.min(Math.max(-1e5,h.translate(S,0,1,0,1)),1e5):void 0,w.isInside=void 0!==e&&0<=e&&e<=h.len&&0<=t&&t<=a.len,w.clientX=g?o(a.translate(k,0,0,0,1,p)):t,w.negative=w.y<(v||0),w.category=l&&void 0!==l[w.x]?l[w.x]:w.x,w.isNull||(void 0!==i&&(b=Math.min(b,Math.abs(t-i))),i=t),w.zone=this.zones.length&&w.getZone()}this.closestPointRangePx=b},getValidPoints:function(t,e){var i=this.chart;return p(t||this.points||[],function(t){return!(e&&!i.isInsidePlot(t.plotX,t.plotY,i.inverted))&&!t.isNull})},setClip:function(t){var e=this.chart,i=this.options,n=e.renderer,r=e.inverted,o=this.clipBox,s=o||e.clipBox,a=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,s.height,i.xAxis,i.yAxis].join(),l=e[a],c=e[a+"m"];l||(t&&(s.width=0,e[a+"m"]=c=n.clipRect(-99,r?-e.plotLeft:-e.plotTop,99,r?e.chartWidth:e.chartHeight)),e[a]=l=n.clipRect(s),l.count={length:0}),t&&!l.count[this.index]&&(l.count[this.index]=!0,l.count.length+=1),!1!==i.clip&&(this.group.clip(t||o?l:e.clipRect),this.markerGroup.clip(c),this.sharedClipKey=a),t||(l.count[this.index]&&(delete l.count[this.index],--l.count.length),0===l.count.length&&a&&e[a]&&(o||(e[a]=e[a].destroy()),e[a+"m"]&&(e[a+"m"]=e[a+"m"].destroy())))},animate:function(t){var e,n=this.chart,r=i(this.options.animation);t?this.setClip(r):(e=this.sharedClipKey,(t=n[e])&&t.animate({width:n.plotSizeX},r),n[e+"m"]&&n[e+"m"].animate({width:n.plotSizeX+99},r),this.animate=null)},afterAnimate:function(){this.setClip(),f(this,"afterAnimate")},drawPoints:function(){var t,e,i,n,r,o,s,a,l=this.points,c=this.chart,h=this.options.marker,u=this[this.specialGroup]||this.markerGroup,d=x(h.enabled,!!this.xAxis.isRadial||null,this.closestPointRangePx>=2*h.radius);if(!1!==h.enabled||this._hasPointMarkers)for(e=0;e<l.length;e++)i=l[e],t=i.plotY,n=i.graphic,r=i.marker||{},o=!!i.marker,s=d&&void 0===r.enabled||r.enabled,a=i.isInside,s&&m(t)&&null!==i.y?(t=x(r.symbol,this.symbol),i.hasImage=0===t.indexOf("url"),s=this.markerAttribs(i,i.selected&&"select"),n?n[a?"show":"hide"](!0).animate(s):a&&(0<s.width||i.hasImage)&&(i.graphic=n=c.renderer.symbol(t,s.x,s.y,s.width,s.height,o?r:h).add(u)),n&&n.attr(this.pointAttribs(i,i.selected&&"select")),n&&n.addClass(i.getClassName(),!0)):n&&(i.graphic=n.destroy())},markerAttribs:function(t,e){var i=this.options.marker,n=t.marker||{},r=x(n.radius,i.radius);return e&&(i=i.states[e],e=n.states&&n.states[e],r=x(e&&e.radius,i&&i.radius,r+(i&&i.radiusPlus||0))),t.hasImage&&(r=0),t={x:Math.floor(t.plotX)-r,y:t.plotY-r},r&&(t.width=t.height=2*r),t},pointAttribs:function(t,e){var i=this.options.marker,n=t&&t.options,r=n&&n.marker||{},o=this.color,s=n&&n.color,a=t&&t.color,n=x(r.lineWidth,i.lineWidth);return t=t&&t.zone&&t.zone.color,o=s||t||a||o,t=r.fillColor||i.fillColor||o,o=r.lineColor||i.lineColor||o,e&&(i=i.states[e],e=r.states&&r.states[e]||{},n=x(e.lineWidth,i.lineWidth,n+x(e.lineWidthPlus,i.lineWidthPlus,0)),t=e.fillColor||i.fillColor||t,o=e.lineColor||i.lineColor||o),{stroke:o,"stroke-width":n,fill:t}},destroy:function(){var t,e,i,n,r=this,o=r.chart,s=/AppleWebKit\/533/.test(T.navigator.userAgent),a=r.data||[];for(f(r,"destroy"),w(r),h(r.axisTypes||[],function(t){(n=r[t])&&n.series&&(u(n.series,r),n.isDirty=n.forceRedraw=!0)}),r.legendItem&&r.chart.legend.destroyItem(r),e=a.length;e--;)(i=a[e])&&i.destroy&&i.destroy();r.points=null,clearTimeout(r.animationTimeout),b(r,function(e,i){e instanceof S&&!e.survive&&(t=s&&"group"===i?"hide":"destroy",e[t]())}),o.hoverSeries===r&&(o.hoverSeries=null),u(o.series,r),o.orderSeries(),b(r,function(t,e){delete r[e]})},getGraphPath:function(t,e,i){var n,r,o=this,s=o.options,a=s.step,l=[],u=[];return t=t||o.points,(n=t.reversed)&&t.reverse(),(a={right:1,center:2}[a]||a&&3)&&n&&(a=4-a),!s.connectNulls||e||i||(t=this.getValidPoints(t)),h(t,function(n,h){var d=n.plotX,f=n.plotY,p=t[h-1];(n.leftCliff||p&&p.rightCliff)&&!i&&(r=!0),n.isNull&&!c(e)&&0<h?r=!s.connectNulls:n.isNull&&!e?r=!0:(0===h||r?h=["M",n.plotX,n.plotY]:o.getPointSpline?h=o.getPointSpline(t,n,h):a?(h=1===a?["L",p.plotX,f]:2===a?["L",(p.plotX+d)/2,p.plotY,"L",(p.plotX+d)/2,f]:["L",d,p.plotY],h.push("L",d,f)):h=["L",d,f],u.push(n.x),a&&u.push(n.x),l.push.apply(l,h),r=!1)}),l.xMap=u,o.graphPath=l},drawGraph:function(){var t=this,e=this.options,i=(this.gappedPath||this.getGraphPath).call(this),n=[["graph","highcharts-graph",e.lineColor||this.color,e.dashStyle]];h(this.zones,function(i,r){n.push(["zone-graph-"+r,"highcharts-graph highcharts-zone-graph-"+r+" "+(i.className||""),i.color||t.color,i.dashStyle||e.dashStyle])}),h(n,function(n,r){var o=n[0],s=t[o];s?(s.endX=i.xMap,s.animate({d:i})):i.length&&(t[o]=t.chart.renderer.path(i).addClass(n[1]).attr({zIndex:1}).add(t.group),s={stroke:n[2],"stroke-width":e.lineWidth,fill:t.fillGraph&&t.color||"none"},n[3]?s.dashstyle=n[3]:"square"!==e.linecap&&(s["stroke-linecap"]=s["stroke-linejoin"]="round"),s=t[o].attr(s).shadow(2>r&&e.shadow)),s&&(s.startX=i.xMap,s.isArea=i.isArea)})},applyZones:function(){var t,e,i,n,r,o,s,a,l,c=this,u=this.chart,d=u.renderer,f=this.zones,p=this.clips||[],g=this.graph,m=this.area,v=Math.max(u.chartWidth,u.chartHeight),y=this[(this.zoneAxis||"y")+"Axis"],b=u.inverted,w=!1;f.length&&(g||m)&&y&&void 0!==y.min&&(r=y.reversed,o=y.horiz,g&&g.hide(),m&&m.hide(),n=y.getExtremes(),h(f,function(h,f){t=r?o?u.plotWidth:0:o?0:y.toPixels(n.min),t=Math.min(Math.max(x(e,t),0),v),e=Math.min(Math.max(Math.round(y.toPixels(x(h.value,n.max),!0)),0),v),w&&(t=e=y.toPixels(n.max)),s=Math.abs(t-e),a=Math.min(t,e),l=Math.max(t,e),y.isXAxis?(i={x:b?l:a,y:0,width:s,height:v},o||(i.x=u.plotHeight-i.x)):(i={x:0,y:b?l:a,width:v,height:s},o&&(i.y=u.plotWidth-i.y)),b&&d.isVML&&(i=y.isXAxis?{x:0,y:r?a:l,height:i.width,width:u.chartWidth}:{x:i.y-u.plotLeft-u.spacingBox.x,y:0,width:i.height,height:u.chartHeight}),p[f]?p[f].animate(i):(p[f]=d.clipRect(i),g&&c["zone-graph-"+f].clip(p[f]),m&&c["zone-area-"+f].clip(p[f])),w=h.value>n.max}),this.clips=p)},invertGroups:function(t){function i(){h(["group","markerGroup"],function(e){r[e]&&(o.renderer.isVML&&r[e].attr({width:r.yAxis.len,height:r.xAxis.len}),r[e].width=r.yAxis.len,r[e].height=r.xAxis.len,r[e].invert(t))})}var n,r=this,o=r.chart;r.xAxis&&(n=e(o,"resize",i),e(r,"destroy",n),i(t),r.invertGroups=i)},plotGroup:function(t,e,i,n,r){var o=this[t],s=!o;return s&&(this[t]=o=this.chart.renderer.g().attr({zIndex:n||.1}).add(r)),o.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series highcharts-color-"+this.colorIndex+" "+(this.options.className||""),!0),o.attr({visibility:i})[s?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var t=this.chart,e=this.xAxis,i=this.yAxis;return t.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:i?i.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,n=e.chart,r=e.options,o=!!e.animate&&n.renderer.isSVG&&i(r.animation).duration,s=e.visible?"inherit":"hidden",a=r.zIndex,l=e.hasRendered,c=n.seriesGroup,h=n.inverted;t=e.plotGroup("group","series",s,a,c),e.markerGroup=e.plotGroup("markerGroup","markers",s,a,c),o&&e.animate(!0),t.inverted=!!e.isCartesian&&h,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),e.invertGroups(h),!1===r.clip||e.sharedClipKey||l||t.clip(n.clipRect),o&&e.animate(),l||(e.animationTimeout=C(function(){e.afterAnimate()},o)),e.isDirty=!1,e.hasRendered=!0},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,i=this.group,n=this.xAxis,r=this.yAxis;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:x(n&&n.left,t.plotLeft),translateY:x(r&&r.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var i=this.xAxis,n=this.yAxis,r=this.chart.inverted;return this.searchKDTree({clientX:r?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:r?n.len-t.chartX+n.pos:t.chartY-n.pos},e)},buildKDTree:function(){function t(i,n,r){var o,s;if(s=i&&i.length)return o=e.kdAxisArray[n%r],i.sort(function(t,e){return t[o]-e[o]}),s=Math.floor(s/2),{point:i[s],left:t(i.slice(0,s),n+1,r),right:t(i.slice(s+1),n+1,r)}}this.buildingKdTree=!0;var e=this,i=-1<e.options.findNearestPointBy.indexOf("y")?2:1;delete e.kdTree,C(function(){e.kdTree=t(e.getValidPoints(null,!e.directTouch),i,i),e.buildingKdTree=!1},e.options.kdNow?0:1)},searchKDTree:function(t,e){function i(t,e,a,l){var h,u,d=e.point,f=n.kdAxisArray[a%l],p=d;return u=c(t[r])&&c(d[r])?Math.pow(t[r]-d[r],2):null,h=c(t[o])&&c(d[o])?Math.pow(t[o]-d[o],2):null,h=(u||0)+(h||0),d.dist=c(h)?Math.sqrt(h):Number.MAX_VALUE,d.distX=c(u)?Math.sqrt(u):Number.MAX_VALUE,f=t[f]-d[f],h=0>f?"left":"right",u=0>f?"right":"left",e[h]&&(h=i(t,e[h],a+1,l),p=h[s]<p[s]?h:d),e[u]&&Math.sqrt(f*f)<p[s]&&(t=i(t,e[u],a+1,l),p=t[s]<p[s]?t:p),p}var n=this,r=this.kdAxisArray[0],o=this.kdAxisArray[1],s=e?"distX":"dist";if(e=-1<n.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree)return i(t,this.kdTree,e,e)}})}(t),function(t){function e(t,e,i,n,r){var o=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=n,this.total=null,this.points={},this.stack=r,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(o?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":i?"bottom":"top"),y:h(e.y,o?4:i?14:-6),x:h(e.x,o?i?-6:6:0)},this.textAlign=e.textAlign||(o?i?"right":"left":"center")}var i=t.Axis,n=t.Chart,r=t.correctFloat,o=t.defined,s=t.destroyObjectProperties,a=t.each,l=t.format,c=t.objectEach,h=t.pick;t=t.Series,e.prototype={destroy:function(){s(this,this.axis)},render:function(t){var e=this.options,i=e.format,i=i?l(i,this):e.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var i=this.axis,n=i.chart,r=n.inverted,o=i.reversed,o=this.isNegative&&!o||!this.isNegative&&o,s=i.translate(i.usePercentage?100:this.total,0,0,0,1),i=i.translate(0),i=Math.abs(s-i);t=n.xAxis[0].translate(this.x)+t;var a=n.plotHeight,r={x:r?o?s:s-i:t,y:r?a-t-e:o?a-s-i:a-s,width:r?i:e,height:r?e:i};(e=this.label)&&(e.align(this.alignOptions,null,r),r=e.alignAttr,e[!1===this.options.crop||n.isInsidePlot(r.x,r.y)?"show":"hide"](!0))}},n.prototype.getStacks=function(){var t=this;a(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),a(t.series,function(e){!e.options.stacking||!0!==e.visible&&!1!==t.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+h(e.options.stack,""))})},i.prototype.buildStacks=function(){var t,e,i=this.series,n=h(this.options.reversedStacks,!0),r=i.length;if(!this.isXAxis){for(this.usePercentage=!1,e=r;e--;)i[n?e:r-e-1].setStackedPoints();for(e=r;e--;)t=i[n?e:r-e-1],t.setStackCliffs&&t.setStackCliffs();if(this.usePercentage)for(e=0;e<r;e++)i[e].setPercentStacks()}},i.prototype.renderStackTotals=function(){var t=this.chart,e=t.renderer,i=this.stacks,n=this.stackTotalGroup;n||(this.stackTotalGroup=n=e.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),n.translate(t.plotLeft,t.plotTop),c(i,function(t){c(t,function(t){t.render(n)})})},i.prototype.resetStacks=function(){var t=this,e=t.stacks;t.isXAxis||c(e,function(e){c(e,function(i,n){i.touched<t.stacksTouched?(i.destroy(),delete e[n]):(i.total=null,i.cum=null)})})},i.prototype.cleanStacks=function(){var t;this.isXAxis||(this.oldStacks&&(t=this.stacks=this.oldStacks),c(t,function(t){c(t,function(t){t.cum=t.total})}))},t.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var t,i,n,s,a,l,c,u=this.processedXData,d=this.processedYData,f=[],p=d.length,g=this.options,m=g.threshold,v=g.startFromThreshold?m:0,y=g.stack,g=g.stacking,b=this.stackKey,x="-"+b,w=this.negStacks,k=this.yAxis,S=k.stacks,C=k.oldStacks;for(k.stacksTouched+=1,a=0;a<p;a++)l=u[a],c=d[a],t=this.getStackIndicator(t,l,this.index),s=t.key,n=(i=w&&c<(v?0:m))?x:b,S[n]||(S[n]={}),S[n][l]||(C[n]&&C[n][l]?(S[n][l]=C[n][l],S[n][l].total=null):S[n][l]=new e(k,k.options.stackLabels,i,l,y)),n=S[n][l],null!==c&&(n.points[s]=n.points[this.index]=[h(n.cum,v)],o(n.cum)||(n.base=s),n.touched=k.stacksTouched,0<t.index&&!1===this.singleStacks&&(n.points[s][0]=n.points[this.index+","+l+",0"][0])),"percent"===g?(i=i?b:x,w&&S[i]&&S[i][l]?(i=S[i][l],n.total=i.total=Math.max(i.total,n.total)+Math.abs(c)||0):n.total=r(n.total+(Math.abs(c)||0))):n.total=r(n.total+(c||0)),n.cum=h(n.cum,v)+(c||0),null!==c&&(n.points[s].push(n.cum),f[a]=n.cum);"percent"===g&&(k.usePercentage=!0),this.stackedYData=f,k.oldStacks={}}},t.prototype.setPercentStacks=function(){var t,e=this,i=e.stackKey,n=e.yAxis.stacks,o=e.processedXData;a([i,"-"+i],function(i){for(var s,a,l=o.length;l--;)s=o[l],t=e.getStackIndicator(t,s,e.index,i),(s=(a=n[i]&&n[i][s])&&a.points[t.key])&&(a=a.total?100/a.total:0,s[0]=r(s[0]*a),s[1]=r(s[1]*a),e.stackedYData[l]=s[1])})},t.prototype.getStackIndicator=function(t,e,i,n){return!o(t)||t.x!==e||n&&t.key!==n?t={x:e,index:0,key:n}:t.index++,t.key=[i,e,t.index].join(),t}}(t),function(t){var e=t.addEvent,i=t.animate,n=t.Axis,r=t.createElement,o=t.css,s=t.defined,a=t.each,l=t.erase,c=t.extend,h=t.fireEvent,u=t.inArray,d=t.isNumber,f=t.isObject,p=t.isArray,g=t.merge,m=t.objectEach,v=t.pick,y=t.Point,b=t.Series,x=t.seriesTypes,w=t.setAnimation,k=t.splat;c(t.Chart.prototype,{addSeries:function(t,e,i){var n,r=this;return t&&(e=v(e,!0),h(r,"addSeries",{options:t},function(){n=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),e&&r.redraw(i)})),n},addAxis:function(t,e,i,r){var o=e?"xAxis":"yAxis",s=this.options;t=g(t,{index:this[o].length,isX:e}),new n(this,t),s[o]=k(s[o]||{}),s[o].push(t),v(i,!0)&&this.redraw(r)},showLoading:function(t){var n=this,s=n.options,a=n.loadingDiv,l=s.loading,h=function(){a&&o(a,{left:n.plotLeft+"px",top:n.plotTop+"px",width:n.plotWidth+"px",height:n.plotHeight+"px"})};a||(n.loadingDiv=a=r("div",{className:"highcharts-loading highcharts-loading-hidden"},null,n.container),n.loadingSpan=r("span",{className:"highcharts-loading-inner"},null,a),e(n,"redraw",h)),a.className="highcharts-loading",n.loadingSpan.innerHTML=t||s.lang.loading,o(a,c(l.style,{zIndex:10})),o(n.loadingSpan,l.labelStyle),n.loadingShown||(o(a,{opacity:0,display:""}),i(a,{opacity:l.style.opacity||.5},{duration:l.showDuration||0})),n.loadingShown=!0,h()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",i(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){o(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions tooltip".split(" "),update:function(t,e){var i,n,r=this,o={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},l=t.chart;l&&(g(!0,r.options.chart,l),"className"in l&&r.setClassName(l.className),("inverted"in l||"polar"in l)&&(r.propFromSeries(),i=!0),"alignTicks"in l&&(i=!0),m(l,function(t,e){-1!==u("chart."+e,r.propsRequireUpdateSeries)&&(n=!0),-1!==u(e,r.propsRequireDirtyBox)&&(r.isDirtyBox=!0)}),"style"in l&&r.renderer.setStyle(l.style)),
t.colors&&(this.options.colors=t.colors),t.plotOptions&&g(!0,this.options.plotOptions,t.plotOptions),m(t,function(t,e){r[e]&&"function"==typeof r[e].update?r[e].update(t,!1):"function"==typeof r[o[e]]&&r[o[e]](t),"chart"!==e&&-1!==u(e,r.propsRequireUpdateSeries)&&(n=!0)}),a("xAxis yAxis zAxis series colorAxis pane".split(" "),function(e){t[e]&&a(k(t[e]),function(t,i){(i=s(t.id)&&r.get(t.id)||r[e][i])&&i.coll===e&&i.update(t,!1)})}),i&&a(r.axes,function(t){t.update({},!1)}),n&&a(r.series,function(t){t.update({},!1)}),t.loading&&g(!0,r.options.loading,t.loading),i=l&&l.width,l=l&&l.height,d(i)&&i!==r.chartWidth||d(l)&&l!==r.chartHeight?r.setSize(i,l):v(e,!0)&&r.redraw()},setSubtitle:function(t){this.setTitle(void 0,t)}}),c(y.prototype,{update:function(t,e,i,n){function r(){s.applyOptions(t),null===s.y&&l&&(s.graphic=l.destroy()),f(t,!0)&&(l&&l.element&&t&&t.marker&&t.marker.symbol&&(s.graphic=l.destroy()),t&&t.dataLabels&&s.dataLabel&&(s.dataLabel=s.dataLabel.destroy())),o=s.index,a.updateParallelArrays(s,o),h.data[o]=f(h.data[o],!0)||f(t,!0)?s.options:t,a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(c.isDirtyBox=!0),"point"===h.legendType&&(c.isDirtyLegend=!0),e&&c.redraw(i)}var o,s=this,a=s.series,l=s.graphic,c=a.chart,h=a.options;e=v(e,!0),!1===n?r():s.firePointEvent("update",{options:t},r)},remove:function(t,e){this.series.removePoint(u(this,this.series.data),t,e)}}),c(b.prototype,{addPoint:function(t,e,i,n){var r,o,s,a,l=this.options,c=this.data,h=this.chart,u=this.xAxis,u=u&&u.hasNames&&u.names,d=l.data,f=this.xData;if(e=v(e,!0),r={series:this},this.pointClass.prototype.applyOptions.apply(r,[t]),a=r.x,s=f.length,this.requireSorting&&a<f[s-1])for(o=!0;s&&f[s-1]>a;)s--;this.updateParallelArrays(r,"splice",s,0,0),this.updateParallelArrays(r,s),u&&r.name&&(u[a]=r.name),d.splice(s,0,t),o&&(this.data.splice(s,0,null),this.processData()),"point"===l.legendType&&this.generatePoints(),i&&(c[0]&&c[0].remove?c[0].remove(!1):(c.shift(),this.updateParallelArrays(r,"shift"),d.shift())),this.isDirtyData=this.isDirty=!0,e&&h.redraw(n)},removePoint:function(t,e,i){var n=this,r=n.data,o=r[t],s=n.points,a=n.chart,l=function(){s&&s.length===r.length&&s.splice(t,1),r.splice(t,1),n.options.data.splice(t,1),n.updateParallelArrays(o||{series:n},"splice",t,1),o&&o.destroy(),n.isDirty=!0,n.isDirtyData=!0,e&&a.redraw()};w(i,a),e=v(e,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(t,e,i){function n(){r.destroy(),o.isDirtyLegend=o.isDirtyBox=!0,o.linkSeries(),v(t,!0)&&o.redraw(e)}var r=this,o=r.chart;!1!==i?h(r,"remove",null,n):n()},update:function(t,e){var i,n=this,r=n.chart,o=n.userOptions,s=n.oldType||n.type,l=t.type||o.type||r.options.chart.type,h=x[s].prototype,u=["group","markerGroup","dataLabelsGroup"];if(Object.keys&&"data"===Object.keys(t).toString())return this.setData(t.data,e);(l&&l!==s||void 0!==t.zIndex)&&(u.length=0),a(u,function(t){u[t]=n[t],delete n[t]}),t=g(o,{animation:!1,index:n.index,pointStart:n.xData[0]},{data:n.options.data},t),n.remove(!1,null,!1);for(i in h)n[i]=void 0;c(n,x[l||s].prototype),a(u,function(t){n[t]=u[t]}),n.init(r,t),n.oldType=s,r.linkSeries(),v(e,!0)&&r.redraw(!1)}}),c(n.prototype,{update:function(t,e){var i=this.chart;t=i.options[this.coll][this.options.index]=g(this.userOptions,t),this.destroy(!0),this.init(i,c(t,{events:void 0})),i.isDirtyBox=!0,v(e,!0)&&i.redraw()},remove:function(t){for(var e=this.chart,i=this.coll,n=this.series,r=n.length;r--;)n[r]&&n[r].remove(!1);l(e.axes,this),l(e[i],this),p(e.options[i])?e.options[i].splice(this.options.index,1):delete e.options[i],a(e[i],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,v(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}})}(t),function(t){var e=t.color,i=t.each,n=t.map,r=t.pick,o=t.Series,s=t.seriesType;s("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(){var e,o,s=[],a=[],l=this.xAxis,c=this.yAxis,h=c.stacks[this.stackKey],u={},d=this.points,f=this.index,p=c.series,g=p.length,m=r(c.options.reversedStacks,!0)?1:-1;if(this.options.stacking){for(o=0;o<d.length;o++)u[d[o].x]=d[o];t.objectEach(h,function(t,e){null!==t.total&&a.push(e)}),a.sort(function(t,e){return t-e}),e=n(p,function(){return this.visible}),i(a,function(t,n){var r,d,p=0;if(u[t]&&!u[t].isNull)s.push(u[t]),i([-1,1],function(i){var s=1===i?"rightNull":"leftNull",l=0,c=h[a[n+i]];if(c)for(o=f;0<=o&&o<g;)r=c.points[o],r||(o===f?u[t][s]=!0:e[o]&&(d=h[t].points[o])&&(l-=d[1]-d[0])),o+=m;u[t][1===i?"rightCliff":"leftCliff"]=l});else{for(o=f;0<=o&&o<g;){if(r=h[t].points[o]){p=r[1];break}o+=m}p=c.translate(p,0,1,0,1),s.push({isNull:!0,plotX:l.translate(t,0,0,0,1),x:t,plotY:p,yBottom:p})}})}return s},getGraphPath:function(t){var e,i,n,s,a=o.prototype.getGraphPath,l=this.options,c=l.stacking,h=this.yAxis,u=[],d=[],f=this.index,p=h.stacks[this.stackKey],g=l.threshold,m=h.getThreshold(l.threshold),l=l.connectNulls||"percent"===c,v=function(e,i,r){var o=t[e];e=c&&p[o.x].points[f];var s=o[r+"Null"]||0;r=o[r+"Cliff"]||0;var a,l,o=!0;r||s?(a=(s?e[0]:e[1])+r,l=e[0]+r,o=!!s):!c&&t[i]&&t[i].isNull&&(a=l=g),void 0!==a&&(d.push({plotX:n,plotY:null===a?m:h.getThreshold(a),isNull:o,isCliff:!0}),u.push({plotX:n,plotY:null===l?m:h.getThreshold(l),doCurve:!1}))};for(t=t||this.points,c&&(t=this.getStackPoints()),e=0;e<t.length;e++)i=t[e].isNull,n=r(t[e].rectPlotX,t[e].plotX),s=r(t[e].yBottom,m),(!i||l)&&(l||v(e,e-1,"left"),i&&!c&&l||(d.push(t[e]),u.push({x:e,plotX:n,plotY:s})),l||v(e,e+1,"right"));return e=a.call(this,d,!0,!0),u.reversed=!0,i=a.call(this,u,!0,!0),i.length&&(i[0]="L"),i=e.concat(i),a=a.call(this,d,!1,l),i.xMap=e.xMap,this.areaPath=i,a},drawGraph:function(){this.areaPath=[],o.prototype.drawGraph.apply(this);var t=this,n=this.areaPath,s=this.options,a=[["area","highcharts-area",this.color,s.fillColor]];i(this.zones,function(e,i){a.push(["zone-area-"+i,"highcharts-area highcharts-zone-area-"+i+" "+e.className,e.color||t.color,e.fillColor||s.fillColor])}),i(a,function(i){var o=i[0],a=t[o];a?(a.endX=n.xMap,a.animate({d:n})):(a=t[o]=t.chart.renderer.path(n).addClass(i[1]).attr({fill:r(i[3],e(i[2]).setOpacity(r(s.fillOpacity,.75)).get()),zIndex:0}).add(t.group),a.isArea=!0),a.startX=n.xMap,a.shiftUnit=s.step?2:1})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(t),function(t){var e=t.pick;(t=t.seriesType)("spline","line",{},{getPointSpline:function(t,i,n){var r=i.plotX,o=i.plotY,s=t[n-1];n=t[n+1];var a,l,c,h;if(s&&!s.isNull&&!1!==s.doCurve&&!i.isCliff&&n&&!n.isNull&&!1!==n.doCurve&&!i.isCliff){t=s.plotY,c=n.plotX,n=n.plotY;var u=0;a=(1.5*r+s.plotX)/2.5,l=(1.5*o+t)/2.5,c=(1.5*r+c)/2.5,h=(1.5*o+n)/2.5,c!==a&&(u=(h-l)*(c-r)/(c-a)+o-h),l+=u,h+=u,l>t&&l>o?(l=Math.max(t,o),h=2*o-l):l<t&&l<o&&(l=Math.min(t,o),h=2*o-l),h>n&&h>o?(h=Math.max(n,o),l=2*o-h):h<n&&h<o&&(h=Math.min(n,o),l=2*o-h),i.rightContX=c,i.rightContY=h}return i=["C",e(s.rightContX,s.plotX),e(s.rightContY,s.plotY),e(a,r),e(l,o),r,o],s.rightContX=s.rightContY=null,i}})}(t),function(t){var e=t.seriesTypes.area.prototype,i=t.seriesType;i("areaspline","spline",t.defaultPlotOptions.area,{getStackPoints:e.getStackPoints,getGraphPath:e.getGraphPath,setStackCliffs:e.setStackCliffs,drawGraph:e.drawGraph,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(t),function(t){var e=t.animObject,i=t.color,n=t.each,r=t.extend,o=t.isNumber,s=t.merge,a=t.pick,l=t.Series,c=t.seriesType,h=t.svg;c("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1,shadow:!1},select:{color:"#cccccc",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){l.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&n(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e=this,i=e.options,r=e.xAxis,o=e.yAxis,s=r.reversed,l={},c=0;!1===i.grouping?c=1:n(e.chart.series,function(i){var n,r=i.options,s=i.yAxis;i.type!==e.type||!i.visible&&e.chart.options.chart.ignoreHiddenSeries||o.len!==s.len||o.pos!==s.pos||(r.stacking?(t=i.stackKey,void 0===l[t]&&(l[t]=c++),n=l[t]):!1!==r.grouping&&(n=c++),i.columnIndex=n)});var h=Math.min(Math.abs(r.transA)*(r.ordinalSlope||i.pointRange||r.closestPointRange||r.tickInterval||1),r.len),u=h*i.groupPadding,d=(h-2*u)/(c||1),i=Math.min(i.maxPointWidth||r.len,a(i.pointWidth,d*(1-2*i.pointPadding)));return e.columnMetrics={width:i,offset:(d-i)/2+(u+((e.columnIndex||0)+(s?1:0))*d-h/2)*(s?-1:1)},e.columnMetrics},crispCol:function(t,e,i,n){var r=this.chart,o=this.borderWidth,s=-(o%2?.5:0),o=o%2?.5:1;return r.inverted&&r.renderer.isVML&&(o+=1),this.options.crisp&&(i=Math.round(t+i)+s,t=Math.round(t)+s,i-=t),n=Math.round(e+n)+o,s=.5>=Math.abs(e)&&.5<n,e=Math.round(e)+o,n-=e,s&&n&&(--e,n+=1),{x:t,y:e,width:i,height:n}},translate:function(){var t=this,e=t.chart,i=t.options,r=t.dense=2>t.closestPointRange*t.xAxis.transA,r=t.borderWidth=a(i.borderWidth,r?0:1),o=t.yAxis,s=t.translatedThreshold=o.getThreshold(i.threshold),c=a(i.minPointLength,5),h=t.getColumnMetrics(),u=h.width,d=t.barW=Math.max(u,1+2*r),f=t.pointXOffset=h.offset;e.inverted&&(s-=.5),i.pointPadding&&(d=Math.ceil(d)),l.prototype.translate.apply(t),n(t.points,function(i){var n,r=a(i.yBottom,s),l=999+Math.abs(r),l=Math.min(Math.max(-l,i.plotY),o.len+l),h=i.plotX+f,p=d,g=Math.min(l,r),m=Math.max(l,r)-g;Math.abs(m)<c&&c&&(m=c,n=!o.reversed&&!i.negative||o.reversed&&i.negative,g=Math.abs(g-s)>c?r-c:s-(n?c:0)),i.barX=h,i.pointWidth=u,i.tooltipPos=e.inverted?[o.len+o.pos-e.plotLeft-l,t.xAxis.len-h-p/2,m]:[h+p/2,l+o.pos-e.plotTop,m],i.shapeType="rect",i.shapeArgs=t.crispCol.apply(t,i.isNull?[h,s,p,0]:[h,g,p,m])})},getSymbol:t.noop,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var n,r=this.options,o=this.pointAttrToOptions||{};n=o.stroke||"borderColor";var a=o["stroke-width"]||"borderWidth",l=t&&t.color||this.color,c=t[n]||r[n]||this.color||l,h=t[a]||r[a]||this[a]||0,o=r.dashStyle;return t&&this.zones.length&&(l=t.getZone(),l=t.options.color||l&&l.color||this.color),e&&(t=s(r.states[e],t.options.states&&t.options.states[e]||{}),e=t.brightness,l=t.color||void 0!==e&&i(l).brighten(t.brightness).get()||l,c=t[n]||c,h=t[a]||h,o=t.dashStyle||o),n={fill:l,stroke:c,"stroke-width":h},r.borderRadius&&(n.r=r.borderRadius),o&&(n.dashstyle=o),n},drawPoints:function(){var t,e=this,i=this.chart,r=e.options,a=i.renderer,l=r.animationLimit||250;n(e.points,function(n){var c=n.graphic;o(n.plotY)&&null!==n.y?(t=n.shapeArgs,c?c[i.pointCount<l?"animate":"attr"](s(t)):n.graphic=c=a[n.shapeType](t).add(n.group||e.group),c.attr(e.pointAttribs(n,n.selected&&"select")).shadow(r.shadow,null,r.stacking&&!r.borderRadius),c.addClass(n.getClassName(),!0)):c&&(n.graphic=c.destroy())})},animate:function(t){var i=this,n=this.yAxis,o=i.options,s=this.chart.inverted,a={};h&&(t?(a.scaleY=.001,t=Math.min(n.pos+n.len,Math.max(n.pos,n.toPixels(o.threshold))),s?a.translateX=t-n.len:a.translateY=t,i.group.attr(a)):(a[s?"translateX":"translateY"]=n.pos,i.group.animate(a,r(e(i.options.animation),{step:function(t,e){i.group.attr({scaleY:Math.max(.001,e.pos)})}})),i.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&n(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),l.prototype.remove.apply(t,arguments)}})}(t),function(t){(t=t.seriesType)("bar","column",null,{inverted:!0})}(t),function(t){var e=t.Series;(t=t.seriesType)("scatter","line",{lineWidth:0,findNearestPointBy:"xy",marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}"></span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&e.prototype.drawGraph.call(this)}})}(t),function(t){var e=t.pick,i=t.relativeLength;t.CenteredSeriesMixin={getCenter:function(){var t,n,r=this.options,o=this.chart,s=2*(r.slicedOffset||0),a=o.plotWidth-2*s,o=o.plotHeight-2*s,l=r.center,l=[e(l[0],"50%"),e(l[1],"50%"),r.size||"100%",r.innerSize||0],c=Math.min(a,o);for(t=0;4>t;++t)n=l[t],r=2>t||2===t&&/%$/.test(n),l[t]=i(n,[a,o,c,l[2]][t])+(r?s:0);return l[3]>l[2]&&(l[3]=l[2]),l}}}(t),function(t){var e=t.addEvent,i=t.defined,n=t.each,r=t.extend,o=t.inArray,s=t.noop,a=t.pick,l=t.Point,c=t.Series,h=t.seriesType,u=t.setAnimation;h("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1,shadow:!1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:t.seriesTypes.column.prototype.pointAttribs,animate:function(t){var e=this,i=e.points,r=e.startAngleRad;t||(n(i,function(t){var i=t.graphic,n=t.shapeArgs;i&&(i.attr({r:t.startR||e.center[3]/2,start:r,end:r}),i.animate({r:n.r,start:n.start,end:n.end},e.options.animation))}),e.animate=null)},updateTotals:function(){var t,e,i=0,n=this.points,r=n.length,o=this.options.ignoreHiddenPoint;for(t=0;t<r;t++)e=n[t],i+=o&&!e.visible?0:e.isNull?0:e.y;for(this.total=i,t=0;t<r;t++)e=n[t],e.percentage=0<i&&(e.visible||!o)?e.y/i*100:0,e.total=i},generatePoints:function(){c.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,i,n,r,o,s,l=0,c=this.options,h=c.slicedOffset,u=h+(c.borderWidth||0),d=c.startAngle||0,f=this.startAngleRad=Math.PI/180*(d-90),d=(this.endAngleRad=Math.PI/180*(a(c.endAngle,d+360)-90))-f,p=this.points,g=c.dataLabels.distance,c=c.ignoreHiddenPoint,m=p.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,i,r){return n=Math.asin(Math.min((e-t[1])/(t[2]/2+r.labelDistance),1)),t[0]+(i?-1:1)*Math.cos(n)*(t[2]/2+r.labelDistance)},o=0;o<m;o++)s=p[o],s.labelDistance=a(s.options.dataLabels&&s.options.dataLabels.distance,g),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,s.labelDistance),e=f+l*d,c&&!s.visible||(l+=s.percentage/100),i=f+l*d,s.shapeType="arc",s.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*e)/1e3,end:Math.round(1e3*i)/1e3},n=(i+e)/2,n>1.5*Math.PI?n-=2*Math.PI:n<-Math.PI/2&&(n+=2*Math.PI),s.slicedTranslation={translateX:Math.round(Math.cos(n)*h),translateY:Math.round(Math.sin(n)*h)},i=Math.cos(n)*t[2]/2,r=Math.sin(n)*t[2]/2,s.tooltipPos=[t[0]+.7*i,t[1]+.7*r],s.half=n<-Math.PI/2||n>Math.PI/2?1:0,s.angle=n,e=Math.min(u,s.labelDistance/5),s.labelPos=[t[0]+i+Math.cos(n)*s.labelDistance,t[1]+r+Math.sin(n)*s.labelDistance,t[0]+i+Math.cos(n)*e,t[1]+r+Math.sin(n)*e,t[0]+i,t[1]+r,0>s.labelDistance?"center":s.half?"right":"left",n]},drawGraph:null,drawPoints:function(){var t,e,i,o,s=this,a=s.chart.renderer,l=s.options.shadow;l&&!s.shadowGroup&&(s.shadowGroup=a.g("shadow").add(s.group)),n(s.points,function(n){if(!n.isNull){e=n.graphic,o=n.shapeArgs,t=n.getTranslate();var c=n.shadowGroup;l&&!c&&(c=n.shadowGroup=a.g("shadow").add(s.shadowGroup)),c&&c.attr(t),i=s.pointAttribs(n,n.selected&&"select"),e?e.setRadialReference(s.center).attr(i).animate(r(o,t)):(n.graphic=e=a[n.shapeType](o).setRadialReference(s.center).attr(t).add(s.group),n.visible||e.attr({visibility:"hidden"}),e.attr(i).attr({"stroke-linejoin":"round"}).shadow(l,c)),e.addClass(n.getClassName())}})},searchPoint:s,sortByAngle:function(t,e){t.sort(function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,getCenter:t.CenteredSeriesMixin.getCenter,getSymbol:s},{init:function(){l.prototype.init.apply(this,arguments);var t,i=this;return i.name=a(i.name,"Slice"),t=function(t){i.slice("select"===t.type)},e(i,"select",t),e(i,"unselect",t),i},isValid:function(){return t.isNumber(this.y,!0)&&0<=this.y},setVisible:function(t,e){var i=this,r=i.series,s=r.chart,l=r.options.ignoreHiddenPoint;e=a(e,l),t!==i.visible&&(i.visible=i.options.visible=t=void 0===t?!i.visible:t,r.options.data[o(i,r.data)]=i.options,n(["graphic","dataLabel","connector","shadowGroup"],function(e){i[e]&&i[e][t?"show":"hide"](!0)}),i.legendItem&&s.legend.colorizeItem(i,t),t||"hover"!==i.state||i.setState(""),l&&(r.isDirty=!0),e&&s.redraw())},slice:function(t,e,n){var r=this.series;u(n,r.chart),a(e,!0),this.sliced=this.options.sliced=i(t)?t:!this.sliced,r.options.data[o(this,r.data)]=this.options,this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r,start:e.start,end:e.end})}})}(t),function(t){var e=t.addEvent,i=t.arrayMax,n=t.defined,r=t.each,o=t.extend,s=t.format,a=t.map,l=t.merge,c=t.noop,h=t.pick,u=t.relativeLength,d=t.Series,f=t.seriesTypes,p=t.stableSort;t.distribute=function(t,e){function i(t,e){return t.target-e.target}var n,o,s=!0,l=t,c=[];for(o=0,n=t.length;n--;)o+=t[n].size;if(o>e){for(p(t,function(t,e){return(e.rank||0)-(t.rank||0)}),o=n=0;o<=e;)o+=t[n].size,n++;c=t.splice(n-1,t.length)}for(p(t,i),t=a(t,function(t){return{size:t.size,targets:[t.target]}});s;){for(n=t.length;n--;)s=t[n],o=(Math.min.apply(0,s.targets)+Math.max.apply(0,s.targets))/2,s.pos=Math.min(Math.max(0,o-s.size/2),e-s.size);for(n=t.length,s=!1;n--;)0<n&&t[n-1].pos+t[n-1].size>t[n].pos&&(t[n-1].size+=t[n].size,t[n-1].targets=t[n-1].targets.concat(t[n].targets),t[n-1].pos+t[n-1].size>e&&(t[n-1].pos=e-t[n-1].size),t.splice(n,1),s=!0)}n=0,r(t,function(t){var e=0;r(t.targets,function(){l[n].pos=t.pos+e,e+=l[n].size,n++})}),l.push.apply(l,c),p(l,i)},d.prototype.drawDataLabels=function(){var i,o,a,c,u=this,d=u.options,f=d.dataLabels,p=u.points,g=u.hasRendered||0,m=h(f.defer,!!d.animation),v=u.chart.renderer;(f.enabled||u._hasPointLabels)&&(u.dlProcessOptions&&u.dlProcessOptions(f),c=u.plotGroup("dataLabelsGroup","data-labels",m&&!g?"hidden":"visible",f.zIndex||6),m&&(c.attr({opacity:+g}),g||e(u,"afterAnimate",function(){u.visible&&c.show(!0),c[d.animation?"animate":"attr"]({opacity:1},{duration:200})})),o=f,r(p,function(e){var r,p,g,m,y=e.dataLabel,b=e.connector,x=!y;i=e.dlOptions||e.options&&e.options.dataLabels,(r=h(i&&i.enabled,o.enabled)&&null!==e.y)&&(f=l(o,i),p=e.getLabelConfig(),a=f.format?s(f.format,p):f.formatter.call(p,f),m=f.style,p=f.rotation,m.color=h(f.color,m.color,u.color,"#000000"),"contrast"===m.color&&(e.contrastColor=v.getContrast(e.color||u.color),m.color=f.inside||0>h(e.labelDistance,f.distance)||d.stacking?e.contrastColor:"#000000"),d.cursor&&(m.cursor=d.cursor),g={fill:f.backgroundColor,stroke:f.borderColor,"stroke-width":f.borderWidth,r:f.borderRadius||0,rotation:p,padding:f.padding,zIndex:1},t.objectEach(g,function(t,e){void 0===t&&delete g[e]})),!y||r&&n(a)?r&&n(a)&&(y?g.text=a:(y=e.dataLabel=v[p?"text":"label"](a,0,-9999,f.shape,null,null,f.useHTML,null,"data-label"),y.addClass("highcharts-data-label-color-"+e.colorIndex+" "+(f.className||"")+(f.useHTML?"highcharts-tracker":""))),y.attr(g),y.css(m).shadow(f.shadow),y.added||y.add(c),u.alignDataLabel(e,y,f,null,x)):(e.dataLabel=y=y.destroy(),b&&(e.connector=b.destroy()))}))},d.prototype.alignDataLabel=function(t,e,i,n,r){var s,a=this.chart,l=a.inverted,c=h(t.plotX,-9999),u=h(t.plotY,-9999),d=e.getBBox(),f=i.rotation,p=i.align,g=this.visible&&(t.series.forceDL||a.isInsidePlot(c,Math.round(u),l)||n&&a.isInsidePlot(c,l?n.x+1:n.y+n.height-1,l)),m="justify"===h(i.overflow,"justify");g&&(s=i.style.fontSize,s=a.renderer.fontMetrics(s,e).b,n=o({x:l?a.plotWidth-u:c,y:Math.round(l?a.plotHeight-c:u),width:0,height:0},n),o(i,{width:d.width,height:d.height}),f?(m=!1,c=a.renderer.rotCorr(s,f),c={x:n.x+i.x+n.width/2+c.x,y:n.y+i.y+{top:0,middle:.5,bottom:1}[i.verticalAlign]*n.height},e[r?"attr":"animate"](c).attr({align:p}),u=(f+720)%360,u=180<u&&360>u,"left"===p?c.y-=u?d.height:0:"center"===p?(c.x-=d.width/2,c.y-=d.height/2):"right"===p&&(c.x-=d.width,c.y-=u?0:d.height)):(e.align(i,null,n),c=e.alignAttr),m?t.isLabelJustified=this.justifyDataLabel(e,i,c,d,n,r):h(i.crop,!0)&&(g=a.isInsidePlot(c.x,c.y)&&a.isInsidePlot(c.x+d.width,c.y+d.height)),i.shape&&!f)&&e[r?"attr":"animate"]({anchorX:l?a.plotWidth-t.plotY:t.plotX,anchorY:l?a.plotHeight-t.plotX:t.plotY}),g||(e.attr({y:-9999}),e.placed=!1)},d.prototype.justifyDataLabel=function(t,e,i,n,r,o){var s,a,l=this.chart,c=e.align,h=e.verticalAlign,u=t.box?0:t.padding||0;return s=i.x+u,0>s&&("right"===c?e.align="left":e.x=-s,a=!0),s=i.x+n.width-u,s>l.plotWidth&&("left"===c?e.align="right":e.x=l.plotWidth-s,a=!0),s=i.y+u,0>s&&("bottom"===h?e.verticalAlign="top":e.y=-s,a=!0),s=i.y+n.height-u,s>l.plotHeight&&("top"===h?e.verticalAlign="bottom":e.y=l.plotHeight-s,a=!0),a&&(t.placed=!o,t.align(e,null,r)),a},f.pie&&(f.pie.prototype.drawDataLabels=function(){var e,o,s,a,l,c,u,f,p,g,m=this,v=m.data,y=m.chart,b=m.options.dataLabels,x=h(b.connectorPadding,10),w=h(b.connectorWidth,1),k=y.plotWidth,S=y.plotHeight,C=m.center,T=C[2]/2,M=C[1],A=[[],[]],L=[0,0,0,0];m.visible&&(b.enabled||m._hasPointLabels)&&(r(v,function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)}),d.prototype.drawDataLabels.apply(m),r(v,function(t){t.dataLabel&&t.visible&&(A[t.half].push(t),t.dataLabel._pos=null)}),r(A,function(i,o){var h,d,v,w=i.length,A=[];if(w)for(m.sortByAngle(i,o-.5),0<m.maxLabelDistance&&(h=Math.max(0,M-T-m.maxLabelDistance),d=Math.min(M+T+m.maxLabelDistance,y.plotHeight),r(i,function(t){0<t.labelDistance&&t.dataLabel&&(t.top=Math.max(0,M-T-t.labelDistance),t.bottom=Math.min(M+T+t.labelDistance,y.plotHeight),v=t.dataLabel.getBBox().height||21,t.positionsIndex=A.push({target:t.labelPos[1]-t.top+v/2,size:v,rank:t.y})-1)}),t.distribute(A,d+v-h)),g=0;g<w;g++)e=i[g],d=e.positionsIndex,l=e.labelPos,s=e.dataLabel,p=!1===e.visible?"hidden":"inherit",h=l[1],A&&n(A[d])?void 0===A[d].pos?p="hidden":(c=A[d].size,f=e.top+A[d].pos):f=h,delete e.positionIndex,u=b.justify?C[0]+(o?-1:1)*(T+e.labelDistance):m.getX(f<e.top+2||f>e.bottom-2?h:f,o,e),s._attr={visibility:p,align:l[6]},s._pos={x:u+b.x+({left:x,right:-x}[l[6]]||0),y:f+b.y-10},l.x=u,l.y=f,a=s.getBBox().width,h=null,u-a<x?(h=Math.round(a-u+x),L[3]=Math.max(h,L[3])):u+a>k-x&&(h=Math.round(u+a-k+x),L[1]=Math.max(h,L[1])),0>f-c/2?L[0]=Math.max(Math.round(-f+c/2),L[0]):f+c/2>S&&(L[2]=Math.max(Math.round(f+c/2-S),L[2])),s.sideOverflow=h}),0===i(L)||this.verifyDataLabelOverflow(L))&&(this.placeDataLabels(),w&&r(this.points,function(t){var e;o=t.connector,(s=t.dataLabel)&&s._pos&&t.visible&&0<t.labelDistance?(p=s._attr.visibility,(e=!o)&&(t.connector=o=y.renderer.path().addClass("highcharts-data-label-connector highcharts-color-"+t.colorIndex).add(m.dataLabelsGroup),o.attr({"stroke-width":w,stroke:b.connectorColor||t.color||"#666666"})),o[e?"attr":"animate"]({d:m.connectorPath(t.labelPos)}),o.attr("visibility",p)):o&&(t.connector=o.destroy())}))},f.pie.prototype.connectorPath=function(t){var e=t.x,i=t.y;return h(this.options.dataLabels.softConnector,!0)?["M",e+("left"===t[6]?5:-5),i,"C",e,i,2*t[2]-t[4],2*t[3]-t[5],t[2],t[3],"L",t[4],t[5]]:["M",e+("left"===t[6]?5:-5),i,"L",t[2],t[3],"L",t[4],t[5]]},f.pie.prototype.placeDataLabels=function(){r(this.points,function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.sideOverflow&&(e._attr.width=e.getBBox().width-e.sideOverflow,e.css({width:e._attr.width+"px",textOverflow:"ellipsis"}),e.shortened=!0),e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-9999}))},this)},f.pie.prototype.alignDataLabel=c,f.pie.prototype.verifyDataLabelOverflow=function(t){var e,i=this.center,n=this.options,r=n.center,o=n.minSize||80,s=null!==n.size;return s||(null!==r[0]?e=Math.max(i[2]-Math.max(t[1],t[3]),o):(e=Math.max(i[2]-t[1]-t[3],o),i[0]+=(t[3]-t[1])/2),null!==r[1]?e=Math.max(Math.min(e,i[2]-Math.max(t[0],t[2])),o):(e=Math.max(Math.min(e,i[2]-t[0]-t[2]),o),i[1]+=(t[0]-t[2])/2),e<i[2]?(i[2]=e,i[3]=Math.min(u(n.innerSize||0,e),e),this.translate(i),this.drawDataLabels&&this.drawDataLabels()):s=!0),s}),f.column&&(f.column.prototype.alignDataLabel=function(t,e,i,n,r){var o=this.chart.inverted,s=t.series,a=t.dlBox||t.shapeArgs,c=h(t.below,t.plotY>h(this.translatedThreshold,s.yAxis.len)),u=h(i.inside,!!this.options.stacking);a&&(n=l(a),0>n.y&&(n.height+=n.y,n.y=0),a=n.y+n.height-s.yAxis.len,0<a&&(n.height-=a),o&&(n={x:s.yAxis.len-n.y-n.height,y:s.xAxis.len-n.x-n.width,width:n.height,height:n.width}),u||(o?(n.x+=c?0:n.width,n.width=0):(n.y+=c?n.height:0,n.height=0))),i.align=h(i.align,!o||u?"center":c?"right":"left"),i.verticalAlign=h(i.verticalAlign,o||u?"middle":c?"top":"bottom"),d.prototype.alignDataLabel.call(this,t,e,i,n,r),t.isLabelJustified&&t.contrastColor&&t.dataLabel.css({color:t.contrastColor})})}(t),function(t){var e=t.Chart,i=t.each,n=t.pick,r=t.addEvent;e.prototype.callbacks.push(function(t){function e(){var e=[];i(t.series||[],function(t){var r=t.options.dataLabels,o=t.dataLabelCollections||["dataLabel"];(r.enabled||t._hasPointLabels)&&!r.allowOverlap&&t.visible&&i(o,function(r){i(t.points,function(t){t[r]&&(t[r].labelrank=n(t.labelrank,t.shapeArgs&&t.shapeArgs.height),e.push(t[r]))})})}),t.hideOverlappingLabels(e)}e(),r(t,"redraw",e)}),e.prototype.hideOverlappingLabels=function(t){var e,n,r,o,s,a,l,c,h,u=t.length,d=function(t,e,i,n,r,o,s,a){return!(r>t+i||r+s<t||o>e+n||o+a<e)};for(n=0;n<u;n++)(e=t[n])&&(e.oldOpacity=e.opacity,e.newOpacity=1);for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),n=0;n<u;n++)for(r=t[n],e=n+1;e<u;++e)o=t[e],r&&o&&r!==o&&r.placed&&o.placed&&0!==r.newOpacity&&0!==o.newOpacity&&(s=r.alignAttr,a=o.alignAttr,l=r.parentGroup,c=o.parentGroup,h=2*(r.box?0:r.padding),s=d(s.x+l.translateX,s.y+l.translateY,r.width-h,r.height-h,a.x+c.translateX,a.y+c.translateY,o.width-h,o.height-h))&&((r.labelrank<o.labelrank?r:o).newOpacity=0);i(t,function(t){var e,i;t&&(i=t.newOpacity,t.oldOpacity!==i&&t.placed&&(i?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=i,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)),t.isOld=!0)})}}(t),function(t){var e,i=t.addEvent,n=t.Chart,r=t.createElement,o=t.css,s=t.defaultOptions,a=t.defaultPlotOptions,l=t.each,c=t.extend,h=t.fireEvent,u=t.hasTouch,d=t.inArray,f=t.isObject,p=t.Legend,g=t.merge,m=t.pick,v=t.Point,y=t.Series,b=t.seriesTypes,x=t.svg;e=t.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart.pointer,i=function(t){var i=e.getPointFromEvent(t);void 0!==i&&(e.isDirectTouch=!0,i.onMouseOver(t))};l(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.div?t.dataLabel.div.point=t:t.dataLabel.element.point=t)}),t._hasTracking||(l(t.trackerGroups,function(n){t[n]&&(t[n].addClass("highcharts-tracker").on("mouseover",i).on("mouseout",function(t){e.onTrackerMouseOut(t)}),u&&t[n].on("touchstart",i),t.options.cursor&&t[n].css(o).css({cursor:t.options.cursor}))}),t._hasTracking=!0)},drawTrackerGraph:function(){var t,e=this,i=e.options,n=i.trackByArea,r=[].concat(n?e.areaPath:e.graphPath),o=r.length,s=e.chart,a=s.pointer,c=s.renderer,h=s.options.tooltip.snap,d=e.tracker,f=function(){s.hoverSeries!==e&&e.onMouseOver()},p="rgba(192,192,192,"+(x?1e-4:.002)+")";if(o&&!n)for(t=o+1;t--;)"M"===r[t]&&r.splice(t+1,0,r[t+1]-h,r[t+2],"L"),(t&&"M"===r[t]||t===o)&&r.splice(t,0,"L",r[t-2]+h,r[t-1]);d?d.attr({d:r}):e.graph&&(e.tracker=c.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:p,fill:n?p:"none","stroke-width":e.graph.strokeWidth()+(n?0:2*h),zIndex:2}).add(e.group),l([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",f).on("mouseout",function(t){a.onTrackerMouseOut(t)}),i.cursor&&t.css({cursor:i.cursor}),u&&t.on("touchstart",f)}))}},b.column&&(b.column.prototype.drawTracker=e.drawTrackerPoint),b.pie&&(b.pie.prototype.drawTracker=e.drawTrackerPoint),b.scatter&&(b.scatter.prototype.drawTracker=e.drawTrackerPoint),c(p.prototype,{setItemEvents:function(t,e,i){var n=this,r=n.chart.renderer.boxWrapper,o="highcharts-legend-"+(t.series?"point":"series")+"-active";(i?e:t.legendGroup).on("mouseover",function(){t.setState("hover"),r.addClass(o),e.css(n.options.itemHoverStyle)}).on("mouseout",function(){e.css(g(t.visible?n.itemStyle:n.itemHiddenStyle)),r.removeClass(o),t.setState()}).on("click",function(e){var i=function(){t.setVisible&&t.setVisible()};e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,i):h(t,"legendItemClick",e,i)})},createCheckboxForItem:function(t){t.checkbox=r("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),i(t.checkbox,"click",function(e){h(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},function(){t.select()})})}}),s.legend.itemStyle.cursor="pointer",c(n.prototype,{showResetZoom:function(){var t=this,e=s.lang,i=t.options.chart.resetZoomButton,n=i.theme,r=n.states,o="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},n,r&&r.hover).attr({align:i.position.align,title:e.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(i.position,!1,o)},zoomOut:function(){var t=this;h(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,i,n=this.pointer,r=!1;!t||t.resetSelection?l(this.axes,function(t){e=t.zoom()}):l(t.xAxis.concat(t.yAxis),function(t){var i=t.axis;n[i.isXAxis?"zoomX":"zoomY"]&&(e=i.zoom(t.min,t.max),i.displayBtn&&(r=!0))}),i=this.resetZoomButton,r&&!i?this.showResetZoom():!r&&f(i)&&(this.resetZoomButton=i.destroy()),e&&this.redraw(m(this.options.chart.animation,t&&t.animation,100>this.pointCount))},pan:function(t,e){var i,n=this,r=n.hoverPoints;r&&l(r,function(t){t.setState()}),l("xy"===e?[1,0]:[1],function(e){e=n[e?"xAxis":"yAxis"][0];var r,o=e.horiz,s=t[o?"chartX":"chartY"],o=o?"mouseDownX":"mouseDownY",a=n[o],l=(e.pointRange||0)/2,c=e.getExtremes(),h=e.toValue(a-s,!0)+l,l=e.toValue(a+e.len-s,!0)-l,u=l<h,a=u?l:h,h=u?h:l,l=Math.min(c.dataMin,e.toValue(e.toPixels(c.min)-e.minPixelPadding)),u=Math.max(c.dataMax,e.toValue(e.toPixels(c.max)+e.minPixelPadding));r=l-a,0<r&&(h+=r,a=l),r=h-u,0<r&&(h=u,a-=r),e.series.length&&a!==c.min&&h!==c.max&&(e.setExtremes(a,h,!1,!1,{trigger:"pan"}),i=!0),n[o]=s}),i&&n.redraw(!1),o(n.container,{cursor:"move"})}}),c(v.prototype,{select:function(t,e){var i=this,n=i.series,r=n.chart;t=m(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,n.options.data[d(i,n.data)]=i.options,i.setState(t&&"select"),e||l(r.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,n.options.data[d(t,n.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this.series.chart,i=e.pointer;t=t?i.normalize(t):i.getChartCoordinatesFromPoint(this,e.inverted),i.runPointActions(t,this)},onMouseOut:function(){var t=this.series.chart;this.firePointEvent("mouseOut"),l(t.hoverPoints||[],function(t){t.setState()}),t.hoverPoints=t.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=this,n=g(e.series.options.point,e.options).events;e.events=n,t.objectEach(n,function(t,n){i(e,n,t)}),this.hasImportedEvents=!0}},setState:function(t,e){var i,n=Math.floor(this.plotX),r=this.plotY,o=this.series,s=o.options.states[t]||{},l=a[o.type].marker&&o.options.marker,h=l&&!1===l.enabled,u=l&&l.states&&l.states[t]||{},d=!1===u.enabled,f=o.stateMarkerGraphic,p=this.marker||{},g=o.chart,v=o.halo,y=l&&o.markerAttribs;
t=t||"",t===this.state&&!e||this.selected&&"select"!==t||!1===s.enabled||t&&(d||h&&!1===u.enabled)||t&&p.states&&p.states[t]&&!1===p.states[t].enabled||(y&&(i=o.markerAttribs(this,t)),this.graphic?(this.state&&this.graphic.removeClass("highcharts-point-"+this.state),t&&this.graphic.addClass("highcharts-point-"+t),this.graphic.attr(o.pointAttribs(this,t)),i&&this.graphic.animate(i,m(g.options.chart.animation,u.animation,l.animation)),f&&f.hide()):(t&&u&&(l=p.symbol||o.symbol,f&&f.currentSymbol!==l&&(f=f.destroy()),f?f[e?"animate":"attr"]({x:i.x,y:i.y}):l&&(o.stateMarkerGraphic=f=g.renderer.symbol(l,i.x,i.y,i.width,i.height).add(o.markerGroup),f.currentSymbol=l),f&&f.attr(o.pointAttribs(this,t))),f&&(f[t&&g.isInsidePlot(n,r,g.inverted)?"show":"hide"](),f.element.point=this)),(n=s.halo)&&n.size?(v||(o.halo=v=g.renderer.path().add((this.graphic||f).parentGroup)),v[e?"animate":"attr"]({d:this.haloPath(n.size)}),v.attr({class:"highcharts-halo highcharts-color-"+m(this.colorIndex,o.colorIndex)}),v.point=this,v.attr(c({fill:this.color||o.color,"fill-opacity":n.opacity,zIndex:-1},n.attributes))):v&&v.point&&v.point.haloPath&&v.animate({d:v.point.haloPath(0)}),this.state=t)},haloPath:function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),c(y.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&h(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,i=e.tooltip,n=e.hoverPoint;e.hoverSeries=null,n&&n.onMouseOut(),this&&t.events.mouseOut&&h(this,"mouseOut"),!i||this.stickyTracking||i.shared&&!this.noSharedTooltip||i.hide(),this.setState()},setState:function(t){var e=this,i=e.options,n=e.graph,r=i.states,o=i.lineWidth,i=0;if(t=t||"",e.state!==t&&(l([e.group,e.markerGroup,e.dataLabelsGroup],function(i){i&&(e.state&&i.removeClass("highcharts-series-"+e.state),t&&i.addClass("highcharts-series-"+t))}),e.state=t,!r[t]||!1!==r[t].enabled)&&(t&&(o=r[t].lineWidth||o+(r[t].lineWidthPlus||0)),n&&!n.dashstyle))for(o={"stroke-width":o},n.animate(o,m(e.chart.options.chart.animation,r[t]&&r[t].animation));e["zone-graph-"+i];)e["zone-graph-"+i].attr(o),i+=1},setVisible:function(t,e){var i,n=this,r=n.chart,o=n.legendItem,s=r.options.chart.ignoreHiddenSeries,a=n.visible;i=(n.visible=t=n.options.visible=n.userOptions.visible=void 0===t?!a:t)?"show":"hide",l(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(t){n[t]&&n[t][i]()}),r.hoverSeries!==n&&(r.hoverPoint&&r.hoverPoint.series)!==n||n.onMouseOut(),o&&r.legend.colorizeItem(n,t),n.isDirty=!0,n.options.stacking&&l(r.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),l(n.linkedSeries,function(e){e.setVisible(t,!1)}),s&&(r.isDirtyBox=!0),!1!==e&&r.redraw(),h(n,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),h(this,t?"select":"unselect")},drawTracker:e.drawTrackerGraph})}(t),function(t){var e=t.Chart,i=t.each,n=t.inArray,r=t.isArray,o=t.isObject,s=t.pick,a=t.splat;e.prototype.setResponsive=function(e){var n=this.options.responsive,r=[],o=this.currentResponsive;n&&n.rules&&i(n.rules,function(i){void 0===i._id&&(i._id=t.uniqueKey()),this.matchResponsiveRule(i,r,e)},this);var s=t.merge.apply(0,t.map(r,function(e){return t.find(n.rules,function(t){return t._id===e}).chartOptions})),r=r.toString()||void 0;r!==(o&&o.ruleIds)&&(o&&this.update(o.undoOptions,e),r?(this.currentResponsive={ruleIds:r,mergedOptions:s,undoOptions:this.currentOptions(s)},this.update(s,e)):this.currentResponsive=void 0)},e.prototype.matchResponsiveRule=function(t,e){var i=t.condition;(i.callback||function(){return this.chartWidth<=s(i.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=s(i.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=s(i.minWidth,0)&&this.chartHeight>=s(i.minHeight,0)}).call(this)&&e.push(t._id)},e.prototype.currentOptions=function(e){function i(e,s,l,c){var h;t.objectEach(e,function(t,u){if(!c&&-1<n(u,["series","xAxis","yAxis"]))for(e[u]=a(e[u]),l[u]=[],h=0;h<e[u].length;h++)s[u][h]&&(l[u][h]={},i(t[h],s[u][h],l[u][h],c+1));else o(t)?(l[u]=r(t)?[]:{},i(t,s[u]||{},l[u],c+1)):l[u]=s[u]||null})}var s={};return i(e,this.options,s,0),s}}(t),function(t){var e=t.addEvent,i=t.Axis,n=t.Chart,r=t.css,o=t.dateFormat,s=t.defined,a=t.each,l=t.extend,c=t.noop,h=t.timeUnits,u=t.wrap;u(t.Series.prototype,"init",function(t){var i;t.apply(this,Array.prototype.slice.call(arguments,1)),(i=this.xAxis)&&i.options.ordinal&&e(this,"updatedData",function(){delete i.ordinalIndex})}),u(i.prototype,"getTimeTicks",function(t,e,i,n,r,a,l,c){var u,d,f,p,g,m=0,v={},y=[],b=-Number.MAX_VALUE,x=this.options.tickPixelInterval;if(!this.options.ordinal&&!this.options.breaks||!a||3>a.length||void 0===i)return t.call(this,e,i,n,r);for(p=a.length,u=0;u<p;u++){if(g=u&&a[u-1]>n,a[u]<i&&(m=u),u===p-1||a[u+1]-a[u]>5*l||g){if(a[u]>b){for(d=t.call(this,e,a[m],a[u],r);d.length&&d[0]<=b;)d.shift();d.length&&(b=d[d.length-1]),y=y.concat(d)}m=u+1}if(g)break}if(t=d.info,c&&t.unitRange<=h.hour){for(u=y.length-1,m=1;m<u;m++)o("%d",y[m])!==o("%d",y[m-1])&&(v[y[m]]="day",f=!0);f&&(v[y[0]]="day"),t.higherRanks=v}if(y.info=t,c&&s(x)){c=t=y.length,u=[];var w;for(f=[];c--;)m=this.translate(y[c]),w&&(f[c]=w-m),u[c]=w=m;for(f.sort(),f=f[Math.floor(f.length/2)],f<.6*x&&(f=null),c=y[t-1]>n?t-1:t,w=void 0;c--;)m=u[c],n=Math.abs(w-m),w&&n<.8*x&&(null===f||n<.8*f)?(v[y[c]]&&!v[y[c+1]]?(n=c+1,w=m):n=c,y.splice(n,1)):w=m}return y}),l(i.prototype,{beforeSetTickPositions:function(){var t,e,i,n=[],r=!1,o=this.getExtremes(),s=o.min,l=o.max,c=this.isXAxis&&!!this.options.breaks,o=this.options.ordinal,h=this.chart.options.chart.ignoreHiddenSeries;if(o||c){if(a(this.series,function(e,i){if(!(h&&!1===e.visible||!1===e.takeOrdinalPosition&&!c)&&(n=n.concat(e.processedXData),t=n.length,n.sort(function(t,e){return t-e}),t))for(i=t-1;i--;)n[i]===n[i+1]&&n.splice(i,1)}),t=n.length,2<t){for(e=n[1]-n[0],i=t-1;i--&&!r;)n[i+1]-n[i]!==e&&(r=!0);!this.options.keepOrdinalPadding&&(n[0]-s>e||l-n[n.length-1]>e)&&(r=!0)}r?(this.ordinalPositions=n,e=this.ordinal2lin(Math.max(s,n[0]),!0),i=Math.max(this.ordinal2lin(Math.min(l,n[n.length-1]),!0),1),this.ordinalSlope=l=(l-s)/(i-e),this.ordinalOffset=s-e*l):this.ordinalPositions=this.ordinalSlope=this.ordinalOffset=void 0}this.isOrdinal=o&&r,this.groupIntervalFactor=null},val2lin:function(t,e){var i=this.ordinalPositions;if(i){var n,r,o=i.length;for(n=o;n--;)if(i[n]===t){r=n;break}for(n=o-1;n--;)if(t>i[n]||0===n){t=(t-i[n])/(i[n+1]-i[n]),r=n+t;break}e=e?r:this.ordinalSlope*(r||0)+this.ordinalOffset}else e=t;return e},lin2val:function(t,e){var i=this.ordinalPositions;if(i){var n,r=this.ordinalSlope,o=this.ordinalOffset,s=i.length-1;if(e)0>t?t=i[0]:t>s?t=i[s]:(s=Math.floor(t),n=t-s);else for(;s--;)if(e=r*s+o,t>=e){r=r*(s+1)+o,n=(t-e)/(r-e);break}return void 0!==n&&void 0!==i[s]?i[s]+(n?n*(i[s+1]-i[s]):0):t}return t},getExtendedPositions:function(){var t,e,n=this.chart,r=this.series[0].currentDataGrouping,o=this.ordinalIndex,s=r?r.count+r.unitName:"raw",l=this.getExtremes();return o||(o=this.ordinalIndex={}),o[s]||(t={series:[],chart:n,getExtremes:function(){return{min:l.dataMin,max:l.dataMax}},options:{ordinal:!0},val2lin:i.prototype.val2lin,ordinal2lin:i.prototype.ordinal2lin},a(this.series,function(i){e={xAxis:t,xData:i.xData,chart:n,destroyGroupedData:c},e.options={dataGrouping:r?{enabled:!0,forced:!0,approximation:"open",units:[[r.unitName,[r.count]]]}:{enabled:!1}},i.processData.apply(e),t.series.push(e)}),this.beforeSetTickPositions.apply(t),o[s]=t.ordinalPositions),o[s]},getGroupIntervalFactor:function(t,e,i){var n;i=i.processedXData;var r=i.length,o=[];if(n=this.groupIntervalFactor,!n){for(n=0;n<r-1;n++)o[n]=i[n+1]-i[n];o.sort(function(t,e){return t-e}),o=o[Math.floor(r/2)],t=Math.max(t,i[0]),e=Math.min(e,i[r-1]),this.groupIntervalFactor=n=r*o/(e-t)}return n},postProcessTickInterval:function(t){var e=this.ordinalSlope;return e?this.options.breaks?this.closestPointRange:t/(e/this.closestPointRange):t}}),i.prototype.ordinal2lin=i.prototype.val2lin,u(n.prototype,"pan",function(t,e){var i=this.xAxis[0],n=e.chartX,o=!1;if(i.options.ordinal&&i.series.length){var s,l=this.mouseDownX,c=i.getExtremes(),h=c.dataMax,u=c.min,d=c.max,f=this.hoverPoints,p=i.closestPointRange,l=(l-n)/(i.translationSlope*(i.ordinalSlope||p)),g={ordinalPositions:i.getExtendedPositions()},p=i.lin2val,m=i.val2lin;g.ordinalPositions?1<Math.abs(l)&&(f&&a(f,function(t){t.setState()}),0>l?(f=g,s=i.ordinalPositions?i:g):(f=i.ordinalPositions?i:g,s=g),g=s.ordinalPositions,h>g[g.length-1]&&g.push(h),this.fixedRange=d-u,l=i.toFixedRange(null,null,p.apply(f,[m.apply(f,[u,!0])+l,!0]),p.apply(s,[m.apply(s,[d,!0])+l,!0])),l.min>=Math.min(c.dataMin,u)&&l.max<=Math.max(h,d)&&i.setExtremes(l.min,l.max,!0,!1,{trigger:"pan"}),this.mouseDownX=n,r(this.container,{cursor:"move"})):o=!0}else o=!0;o&&t.apply(this,Array.prototype.slice.call(arguments,1))})}(t),function(t){function e(){return Array.prototype.slice.call(arguments,1)}function i(t){t.apply(this),this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,n(this.pointArrayMap,["y"]))}var n=t.pick,r=t.wrap,o=t.each,s=t.extend,a=t.isArray,l=t.fireEvent,c=t.Axis,h=t.Series;s(c.prototype,{isInBreak:function(t,e){var i=t.repeat||1/0,n=t.from,r=t.to-t.from;return e=e>=n?(e-n)%i:i-(n-e)%i,t.inclusive?e<=r:e<r&&0!==e},isInAnyBreak:function(t,e){var i,r,o,s=this.options.breaks,a=s&&s.length;if(a){for(;a--;)this.isInBreak(s[a],t)&&(i=!0,r||(r=n(s[a].showPoints,!this.isXAxis)));o=i&&e?i&&!r:i}return o}}),r(c.prototype,"setTickPositions",function(t){if(t.apply(this,Array.prototype.slice.call(arguments,1)),this.options.breaks){var e,i=this.tickPositions,n=this.tickPositions.info,r=[];for(e=0;e<i.length;e++)this.isInAnyBreak(i[e])||r.push(i[e]);this.tickPositions=r,this.tickPositions.info=n}}),r(c.prototype,"init",function(t,e,i){var r=this;i.breaks&&i.breaks.length&&(i.ordinal=!1),t.call(this,e,i),t=this.options.breaks,r.isBroken=a(t)&&!!t.length,r.isBroken&&(r.val2lin=function(t){var e,i,n=t;for(i=0;i<r.breakArray.length;i++)if(e=r.breakArray[i],e.to<=t)n-=e.len;else{if(e.from>=t)break;if(r.isInBreak(e,t)){n-=t-e.from;break}}return n},r.lin2val=function(t){var e,i;for(i=0;i<r.breakArray.length&&(e=r.breakArray[i],!(e.from>=t));i++)e.to<t?t+=e.len:r.isInBreak(e,t)&&(t+=e.len);return t},r.setExtremes=function(t,e,i,n,r){for(;this.isInAnyBreak(t);)t-=this.closestPointRange;for(;this.isInAnyBreak(e);)e-=this.closestPointRange;c.prototype.setExtremes.call(this,t,e,i,n,r)},r.setAxisTranslation=function(t){c.prototype.setAxisTranslation.call(this,t),t=r.options.breaks;var e,i,s,a,h=[],u=[],d=0,f=r.userMin||r.min,p=r.userMax||r.max,g=n(r.pointRangePadding,0);o(t,function(t){i=t.repeat||1/0,r.isInBreak(t,f)&&(f+=t.to%i-f%i),r.isInBreak(t,p)&&(p-=p%i-t.from%i)}),o(t,function(t){for(s=t.from,i=t.repeat||1/0;s-i>f;)s-=i;for(;s<f;)s+=i;for(a=s;a<p;a+=i)h.push({value:a,move:"in"}),h.push({value:a+(t.to-t.from),move:"out",size:t.breakSize})}),h.sort(function(t,e){return t.value===e.value?("in"===t.move?0:1)-("in"===e.move?0:1):t.value-e.value}),e=0,s=f,o(h,function(t){e+="in"===t.move?1:-1,1===e&&"in"===t.move&&(s=t.value),0===e&&(u.push({from:s,to:t.value,len:t.value-s-(t.size||0)}),d+=t.value-s-(t.size||0))}),r.breakArray=u,r.unitLength=p-f-d+g,l(r,"afterBreaks"),r.options.staticScale?r.transA=r.options.staticScale:r.unitLength&&(r.transA*=(p-r.min+g)/r.unitLength),g&&(r.minPixelPadding=r.transA*r.minPointOffset),r.min=f,r.max=p})}),r(h.prototype,"generatePoints",function(t){t.apply(this,e(arguments));var i,n,r=this.xAxis,o=this.yAxis,s=this.points,a=s.length,l=this.options.connectNulls;if(r&&o&&(r.options.breaks||o.options.breaks))for(;a--;)i=s[a],n=null===i.y&&!1===l,n||!r.isInAnyBreak(i.x,!0)&&!o.isInAnyBreak(i.y,!0)||(s.splice(a,1),this.data[a]&&this.data[a].destroyElements())}),t.Series.prototype.drawBreaks=function(t,e){var i,r,s,a,c=this,h=c.points;t&&o(e,function(e){i=t.breakArray||[],r=t.isXAxis?t.min:n(c.options.threshold,t.min),o(h,function(c){a=n(c["stack"+e.toUpperCase()],c[e]),o(i,function(e){s=!1,r<e.from&&a>e.to||r>e.from&&a<e.from?s="pointBreak":(r<e.from&&a>e.from&&a<e.to||r>e.from&&a>e.to&&a<e.from)&&(s="pointInBreak"),s&&l(t,s,{point:c,brk:e})})})})},t.Series.prototype.gappedPath=function(){var t=this.options.gapSize,e=this.points.slice(),i=e.length-1;if(t&&0<i)for(;i--;)e[i+1].x-e[i].x>this.closestPointRange*t&&e.splice(i+1,0,{isNull:!0});return this.getGraphPath(e)},r(t.seriesTypes.column.prototype,"drawPoints",i),r(t.Series.prototype,"drawPoints",i)}(t),function(t){var e=t.arrayMax,i=t.arrayMin,n=t.Axis,r=t.defaultPlotOptions,o=t.defined,s=t.each,a=t.extend,l=t.format,c=t.isNumber,h=t.merge,u=t.pick,d=t.Point,f=t.Tooltip,p=t.wrap,g=t.Series.prototype,m=g.processData,v=g.generatePoints,y=g.destroy,b={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},x={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},w=t.defaultDataGroupingUnits=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],k={sum:function(t){var e,i=t.length;if(!i&&t.hasNulls)e=null;else if(i)for(e=0;i--;)e+=t[i];return e},average:function(t){var e=t.length;return t=k.sum(t),c(t)&&e&&(t/=e),t},averages:function(){var t=[];return s(arguments,function(e){t.push(k.average(e))}),t},open:function(t){return t.length?t[0]:t.hasNulls?null:void 0},high:function(t){return t.length?e(t):t.hasNulls?null:void 0},low:function(t){return t.length?i(t):t.hasNulls?null:void 0},close:function(t){return t.length?t[t.length-1]:t.hasNulls?null:void 0},ohlc:function(t,e,i,n){if(t=k.open(t),e=k.high(e),i=k.low(i),n=k.close(n),c(t)||c(e)||c(i)||c(n))return[t,e,i,n]},range:function(t,e){return t=k.low(t),e=k.high(e),c(t)||c(e)?[t,e]:null===t&&null===e?null:void 0}};g.groupData=function(t,e,i,n){var r,o,a=this.data,l=this.options.data,h=[],u=[],d=[],f=t.length,p=!!e,g=[];n="function"==typeof n?n:k[n]||x[this.type]&&k[x[this.type].approximation]||k[b.approximation];var m=this.pointArrayMap,v=m&&m.length,y=0;o=0;var w,S;for(v?s(m,function(){g.push([])}):g.push([]),w=v||1,S=0;S<=f&&!(t[S]>=i[0]);S++);for(S;S<=f;S++){for(;void 0!==i[y+1]&&t[S]>=i[y+1]||S===f;){for(r=i[y],this.dataGroupInfo={start:o,length:g[0].length},o=n.apply(this,g),void 0!==o&&(h.push(r),u.push(o),d.push(this.dataGroupInfo)),o=S,r=0;r<w;r++)g[r].length=0,g[r].hasNulls=!1;if(y+=1,S===f)break}if(S===f)break;if(m){r=this.cropStart+S;var C,T=a&&a[r]||this.pointClass.prototype.applyOptions.apply({series:this},[l[r]]);for(r=0;r<v;r++)C=T[m[r]],c(C)?g[r].push(C):null===C&&(g[r].hasNulls=!0)}else r=p?e[S]:null,c(r)?g[0].push(r):null===r&&(g[0].hasNulls=!0)}return[h,u,d]},g.processData=function(){var t,e=this.chart,i=this.options.dataGrouping,n=!1!==this.allowDG&&i&&u(i.enabled,e.options.isStock),r=this.visible||!e.options.chart.ignoreHiddenSeries;if(this.forceCrop=n,this.groupPixelWidth=null,this.hasProcessed=!0,!1!==m.apply(this,arguments)&&n){this.destroyGroupedData();var s=this.processedXData,a=this.processedYData,l=e.plotSizeX,e=this.xAxis,c=e.options.ordinal,h=this.groupPixelWidth=e.getGroupPixelWidth&&e.getGroupPixelWidth();if(h){this.isDirty=t=!0,this.points=null;var d=e.getExtremes(),n=d.min,d=d.max,c=c&&e.getGroupIntervalFactor(n,d,this)||1,l=h*(d-n)/l*c,h=e.getTimeTicks(e.normalizeTimeTickInterval(l,i.units||w),Math.min(n,s[0]),Math.max(d,s[s.length-1]),e.options.startOfWeek,s,this.closestPointRange),s=g.groupData.apply(this,[s,a,h,i.approximation]),a=s[0],c=s[1];if(i.smoothed){for(i=a.length-1,a[i]=Math.min(a[i],d);i--&&0<i;)a[i]+=l/2;a[0]=Math.max(a[0],n)}this.currentDataGrouping=h.info,this.closestPointRange=h.info.totalRange,this.groupMap=s[2],o(a[0])&&a[0]<e.dataMin&&r&&(e.min===e.dataMin&&(e.min=a[0]),e.dataMin=a[0]),this.processedXData=a,this.processedYData=c}else this.currentDataGrouping=this.groupMap=null;this.hasGroupedData=t}},g.destroyGroupedData=function(){var t=this.groupedData;s(t||[],function(e,i){e&&(t[i]=e.destroy?e.destroy():null)}),this.groupedData=null},g.generatePoints=function(){v.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},p(d.prototype,"update",function(e){this.dataGroup?t.error(24):e.apply(this,[].slice.call(arguments,1))}),p(f.prototype,"tooltipFooterHeaderFormatter",function(e,i,n){var r,o=i.series,s=o.tooltipOptions,h=o.options.dataGrouping,u=s.xDateFormat,d=o.xAxis,f=t.dateFormat;return d&&"datetime"===d.options.type&&h&&c(i.key)?(e=o.currentDataGrouping,h=h.dateTimeLabelFormats,e?(d=h[e.unitName],1===e.count?u=d[0]:(u=d[1],r=d[2])):!u&&h&&(u=this.getXDateFormat(i,s,d)),u=f(u,i.key),r&&(u+=f(r,i.key+e.totalRange-1)),l(s[(n?"footer":"header")+"Format"],{point:a(i.point,{key:u}),series:o})):e.call(this,i,n)}),g.destroy=function(){for(var t=this.groupedData||[],e=t.length;e--;)t[e]&&t[e].destroy();y.apply(this)},p(g,"setOptions",function(t,e){t=t.call(this,e);var i=this.type,n=this.chart.options.plotOptions,o=r[i].dataGrouping;return x[i]&&(o||(o=h(b,x[i])),t.dataGrouping=h(o,n.series&&n.series.dataGrouping,n[i].dataGrouping,e.dataGrouping)),this.chart.options.isStock&&(this.requireSorting=!0),t}),p(n.prototype,"setScale",function(t){t.call(this),s(this.series,function(t){t.hasProcessed=!1})}),n.prototype.getGroupPixelWidth=function(){var t,e,i=this.series,n=i.length,r=0,o=!1;for(t=n;t--;)(e=i[t].options.dataGrouping)&&(r=Math.max(r,e.groupPixelWidth));for(t=n;t--;)(e=i[t].options.dataGrouping)&&i[t].hasProcessed&&(n=(i[t].processedXData||i[t].data).length,i[t].groupPixelWidth||n>this.chart.plotSizeX/r||n&&e.forced)&&(o=!0);return o?r:0},n.prototype.setDataGrouping=function(t,e){var i;if(e=u(e,!0),t||(t={forced:!1,units:null}),this instanceof n)for(i=this.series.length;i--;)this.series[i].update({dataGrouping:t},!1);else s(this.chart.options.series,function(e){e.dataGrouping=t},!1);e&&this.chart.redraw()}}(t),function(t){var e=t.each,i=t.Point,n=t.seriesType,r=t.seriesTypes;n("ohlc","column",{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}"></span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0},{directTouch:!1,pointArrayMap:["open","high","low","close"],toYData:function(t){return[t.open,t.high,t.low,t.close]},pointValKey:"close",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointAttribs:function(t,e){e=r.column.prototype.pointAttribs.call(this,t,e);var i=this.options;return delete e.fill,!t.options.color&&i.upColor&&t.open<t.close&&(e.stroke=i.upColor),e},translate:function(){var t=this,i=t.yAxis,n=!!t.modifyValue,o=["plotOpen","plotHigh","plotLow","plotClose","yBottom"];r.column.prototype.translate.apply(t),e(t.points,function(r){e([r.open,r.high,r.low,r.close,r.low],function(e,s){null!==e&&(n&&(e=t.modifyValue(e)),r[o[s]]=i.toPixels(e,!0))}),r.tooltipPos[1]=r.plotHigh+i.pos-t.chart.plotTop})},drawPoints:function(){var t=this,i=t.chart;e(t.points,function(e){var n,r,o,s,a,l=e.graphic,c=!l;void 0!==e.plotY&&(l||(e.graphic=l=i.renderer.path().add(t.group)),l.attr(t.pointAttribs(e,e.selected&&"select")),r=l.strokeWidth()%2/2,a=Math.round(e.plotX)-r,o=Math.round(e.shapeArgs.width/2),s=["M",a,Math.round(e.yBottom),"L",a,Math.round(e.plotHigh)],null!==e.open&&(n=Math.round(e.plotOpen)+r,s.push("M",a,n,"L",a-o,n)),null!==e.close&&(n=Math.round(e.plotClose)+r,s.push("M",a,n,"L",a+o,n)),l[c?"attr":"animate"]({d:s}).addClass(e.getClassName(),!0))})},animate:null},{getClassName:function(){return i.prototype.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}})}(t),function(t){var e=t.defaultPlotOptions,i=t.each,n=t.merge,r=t.seriesType,o=t.seriesTypes;r("candlestick","ohlc",n(e.column,{states:{hover:{lineWidth:2}},tooltip:e.ohlc.tooltip,threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}),{pointAttribs:function(t,e){var i=o.column.prototype.pointAttribs.call(this,t,e),n=this.options,r=t.open<t.close,s=n.lineColor||this.color;return i["stroke-width"]=n.lineWidth,i.fill=t.options.color||(r?n.upColor||this.color:this.color),i.stroke=t.lineColor||(r?n.upLineColor||s:s),e&&(t=n.states[e],i.fill=t.color||i.fill,i.stroke=t.lineColor||i.stroke,i["stroke-width"]=t.lineWidth||i["stroke-width"]),i},drawPoints:function(){var t=this,e=t.chart;i(t.points,function(i){var n,r,o,s,a,l,c,h=i.graphic,u=!h;void 0!==i.plotY&&(h||(i.graphic=h=e.renderer.path().add(t.group)),h.attr(t.pointAttribs(i,i.selected&&"select")).shadow(t.options.shadow),a=h.strokeWidth()%2/2,l=Math.round(i.plotX)-a,n=i.plotOpen,r=i.plotClose,o=Math.min(n,r),n=Math.max(n,r),c=Math.round(i.shapeArgs.width/2),r=Math.round(o)!==Math.round(i.plotHigh),s=n!==i.yBottom,o=Math.round(o)+a,n=Math.round(n)+a,a=[],a.push("M",l-c,n,"L",l-c,o,"L",l+c,o,"L",l+c,n,"Z","M",l,o,"L",l,r?Math.round(i.plotHigh):o,"M",l,n,"L",l,s?Math.round(i.yBottom):n),h[u?"attr":"animate"]({d:a}).addClass(i.getClassName(),!0))})}})}(t),function(t){var e=t.addEvent,i=t.each,n=t.merge,r=t.noop,o=t.Renderer,s=t.seriesType,a=t.seriesTypes,l=t.TrackerMixin,c=t.VMLRenderer,h=t.SVGRenderer.prototype.symbols,u=t.stableSort;s("flags","column",{pointRange:0,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd6eb"}},style:{fontSize:"11px",fontWeight:"bold"}},{sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:t.Series.prototype.init,pointAttribs:function(t,e){var i=this.options,n=t&&t.color||this.color,r=i.lineColor,o=t&&t.lineWidth;return t=t&&t.fillColor||i.fillColor,e&&(t=i.states[e].fillColor,r=i.states[e].lineColor,o=i.states[e].lineWidth),{fill:t||n,stroke:r||n,"stroke-width":o||i.lineWidth||0}},translate:function(){a.column.prototype.translate.apply(this);var t,e,n=this.options,r=this.chart,o=this.points,s=o.length-1,l=n.onSeries;t=l&&r.get(l);var c,h,d,n=n.onKey||"y",l=t&&t.options.step,f=t&&t.points,p=f&&f.length,g=this.xAxis,m=this.yAxis,v=g.getExtremes(),y=0;if(t&&t.visible&&p)for(y=(t.pointXOffset||0)+(t.barW||0)/2,t=t.currentDataGrouping,h=f[p-1].x+(t?t.totalRange:0),u(o,function(t,e){return t.x-e.x}),n="plot"+n[0].toUpperCase()+n.substr(1);p--&&o[s]&&(t=o[s],c=f[p],!(c.x<=t.x&&void 0!==c[n]&&(t.x<=h&&(t.plotY=c[n],c.x<t.x&&!l&&(d=f[p+1])&&void 0!==d[n]&&(t.plotY+=(t.x-c.x)/(d.x-c.x)*(d[n]-c[n]))),s--,p++,0>s))););i(o,function(t,i){var n;void 0===t.plotY&&(t.x>=v.min&&t.x<=v.max?t.plotY=r.chartHeight-g.bottom-(g.opposite?g.height:0)+g.offset-m.top:t.shapeArgs={}),t.plotX+=y,(e=o[i-1])&&e.plotX===t.plotX&&(void 0===e.stackIndex&&(e.stackIndex=0),n=e.stackIndex+1),t.stackIndex=n})},drawPoints:function(){var e,i,r,o,s,a,l,c,h,u=this.points,d=this.chart,f=d.renderer,p=this.options,g=p.y,m=this.yAxis;for(o=u.length;o--;)s=u[o],h=s.plotX>this.xAxis.len,e=s.plotX,a=s.stackIndex,r=s.options.shape||p.shape,i=s.plotY,void 0!==i&&(i=s.plotY+g-(void 0!==a&&a*p.stackDistance)),l=a?void 0:s.plotX,c=a?void 0:s.plotY,a=s.graphic,void 0!==i&&0<=e&&!h?(a||(a=s.graphic=f.label("",null,null,r,null,null,p.useHTML).attr(this.pointAttribs(s)).css(n(p.style,s.style)).attr({align:"flag"===r?"left":"center",width:p.width,height:p.height,"text-align":p.textAlign}).addClass("highcharts-point").add(this.markerGroup),s.graphic.div&&(s.graphic.div.point=s),a.shadow(p.shadow)),0<e&&(e-=a.strokeWidth()%2),a.attr({text:s.options.title||p.title||"A",x:e,y:i,anchorX:l,anchorY:c}),s.tooltipPos=d.inverted?[m.len+m.pos-d.plotLeft-i,this.xAxis.len-e]:[e,i+m.pos-d.plotTop]):a&&(s.graphic=a.destroy());p.useHTML&&t.wrap(this.markerGroup,"on",function(e){return t.SVGElement.prototype.on.apply(e.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})},drawTracker:function(){var t=this.points;l.drawTrackerPoint.apply(this),i(t,function(n){var r=n.graphic;r&&e(r.element,"mouseover",function(){0<n.stackIndex&&!n.raised&&(n._y=r.y,r.attr({y:n._y-8}),n.raised=!0),i(t,function(t){t!==n&&t.raised&&t.graphic&&(t.graphic.attr({y:t._y}),t.raised=!1)})})})},animate:r,buildKDTree:r,setClip:r}),h.flag=function(t,e,i,n,r){return["M",r&&r.anchorX||t,r&&r.anchorY||e,"L",t,e+n,t,e,t+i,e,t+i,e+n,t,e+n,"Z"]},i(["circle","square"],function(t){h[t+"pin"]=function(e,i,n,r,o){var s=o&&o.anchorX;return o=o&&o.anchorY,"circle"===t&&r>n&&(e-=Math.round((r-n)/2),n=r),e=h[t](e,i,n,r),s&&o&&e.push("M",s,i>o?i:i+r,"L",s,o),e}}),o===c&&i(["flag","circlepin","squarepin"],function(t){c.prototype.symbols[t]=h[t]})}(t),function(t){function e(t,e,i){this.init(t,e,i)}var i,n=t.addEvent,r=t.Axis,o=t.correctFloat,s=t.defaultOptions,a=t.defined,l=t.destroyObjectProperties,c=t.doc,h=t.each,u=t.fireEvent,d=t.hasTouch,f=t.isTouchDevice,p=t.merge,g=t.pick,m=t.removeEvent,v=t.wrap,y={height:f?20:14,barBorderRadius:0,buttonBorderRadius:0,liveRedraw:t.svg&&!f,margin:10,minWidth:6,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:1,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"#333333",trackBackgroundColor:"#f2f2f2",trackBorderColor:"#f2f2f2",trackBorderWidth:1};s.scrollbar=p(!0,y,s.scrollbar),t.swapXY=i=function(t,e){var i,n=t.length;if(e)for(e=0;e<n;e+=3)i=t[e+1],t[e+1]=t[e+2],t[e+2]=i;return t},e.prototype={init:function(t,e,i){this.scrollbarButtons=[],this.renderer=t,this.userOptions=e,this.options=p(y,e),this.chart=i,this.size=g(this.options.size,this.options.height),e.enabled&&(this.render(),this.initEvents(),this.addEvents())},render:function(){var t,e=this.renderer,n=this.options,r=this.size;this.group=t=e.g("scrollbar").attr({zIndex:n.zIndex,translateY:-99999}).add(),this.track=e.rect().addClass("highcharts-scrollbar-track").attr({x:0,r:n.trackBorderRadius||0,height:r,width:r}).add(t),this.track.attr({fill:n.trackBackgroundColor,stroke:n.trackBorderColor,"stroke-width":n.trackBorderWidth}),this.trackBorderWidth=this.track.strokeWidth(),this.track.attr({y:-this.trackBorderWidth%2/2}),this.scrollbarGroup=e.g().add(t),this.scrollbar=e.rect().addClass("highcharts-scrollbar-thumb").attr({height:r,width:r,r:n.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=e.path(i(["M",-3,r/4,"L",-3,2*r/3,"M",0,r/4,"L",0,2*r/3,"M",3,r/4,"L",3,2*r/3],n.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),this.scrollbar.attr({fill:n.barBackgroundColor,stroke:n.barBorderColor,"stroke-width":n.barBorderWidth}),this.scrollbarRifles.attr({stroke:n.rifleColor,"stroke-width":1}),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)},position:function(t,e,i,n){var r=this.options.vertical,o=0,s=this.rendered?"animate":"attr";this.x=t,this.y=e+this.trackBorderWidth,this.width=i,this.xOffset=this.height=n,this.yOffset=o,r?(this.width=this.yOffset=i=o=this.size,this.xOffset=e=0,this.barWidth=n-2*i,this.x=t+=this.options.margin):(this.height=this.xOffset=n=e=this.size,this.barWidth=i-2*n,this.y+=this.options.margin),this.group[s]({translateX:t,translateY:this.y}),this.track[s]({width:i,height:n}),this.scrollbarButtons[1][s]({translateX:r?0:i-e,translateY:r?n-o:0})},drawScrollbarButton:function(t){var e,n=this.renderer,r=this.scrollbarButtons,o=this.options,s=this.size;e=n.g().add(this.group),r.push(e),e=n.rect().addClass("highcharts-scrollbar-button").add(e),e.attr({stroke:o.buttonBorderColor,"stroke-width":o.buttonBorderWidth,fill:o.buttonBackgroundColor}),e.attr(e.crisp({x:-.5,y:-.5,width:s+1,height:s+1,r:o.buttonBorderRadius},e.strokeWidth())),e=n.path(i(["M",s/2+(t?-1:1),s/2-3,"L",s/2+(t?-1:1),s/2+3,"L",s/2+(t?2:-2),s/2],o.vertical)).addClass("highcharts-scrollbar-arrow").add(r[t]),e.attr({fill:o.buttonArrowColor})},setRange:function(t,e){var i,n,r=this.options,s=r.vertical,l=r.minWidth,c=this.barWidth,h=this.rendered&&!this.hasDragged?"animate":"attr";a(c)&&(t=Math.max(t,0),i=Math.ceil(c*t),this.calculatedWidth=n=o(c*Math.min(e,1)-i),n<l&&(i=(c-l+n)*t,n=l),l=Math.floor(i+this.xOffset+this.yOffset),c=n/2-.5,this.from=t,this.to=e,s?(this.scrollbarGroup[h]({translateY:l}),this.scrollbar[h]({height:n}),this.scrollbarRifles[h]({translateY:c}),this.scrollbarTop=l,this.scrollbarLeft=0):(this.scrollbarGroup[h]({translateX:l}),this.scrollbar[h]({width:n}),this.scrollbarRifles[h]({translateX:c}),this.scrollbarLeft=l,this.scrollbarTop=0),12>=n?this.scrollbarRifles.hide():this.scrollbarRifles.show(!0),!1===r.showFull&&(0>=t&&1<=e?this.group.hide():this.group.show()),this.rendered=!0)},initEvents:function(){var t=this;t.mouseMoveHandler=function(e){var i=t.chart.pointer.normalize(e),n=t.options.vertical?"chartY":"chartX",r=t.initPositions;!t.grabbedCenter||e.touches&&0===e.touches[0][n]||(i=t.cursorToScrollbarPosition(i)[n],n=t[n],n=i-n,t.hasDragged=!0,t.updatePosition(r[0]+n,r[1]+n),t.hasDragged&&u(t,"changed",{from:t.from,to:t.to,trigger:"scrollbar",DOMType:e.type,DOMEvent:e}))},t.mouseUpHandler=function(e){t.hasDragged&&u(t,"changed",{from:t.from,to:t.to,trigger:"scrollbar",DOMType:e.type,DOMEvent:e}),t.grabbedCenter=t.hasDragged=t.chartX=t.chartY=null},t.mouseDownHandler=function(e){e=t.chart.pointer.normalize(e),e=t.cursorToScrollbarPosition(e),t.chartX=e.chartX,t.chartY=e.chartY,t.initPositions=[t.from,t.to],t.grabbedCenter=!0},t.buttonToMinClick=function(e){var i=o(t.to-t.from)*t.options.step;t.updatePosition(o(t.from-i),o(t.to-i)),u(t,"changed",{from:t.from,to:t.to,trigger:"scrollbar",DOMEvent:e})},t.buttonToMaxClick=function(e){var i=(t.to-t.from)*t.options.step;t.updatePosition(t.from+i,t.to+i),u(t,"changed",{from:t.from,to:t.to,trigger:"scrollbar",DOMEvent:e})},t.trackClick=function(e){var i=t.chart.pointer.normalize(e),n=t.to-t.from,r=t.y+t.scrollbarTop,o=t.x+t.scrollbarLeft;t.options.vertical&&i.chartY>r||!t.options.vertical&&i.chartX>o?t.updatePosition(t.from+n,t.to+n):t.updatePosition(t.from-n,t.to-n),u(t,"changed",{from:t.from,to:t.to,trigger:"scrollbar",DOMEvent:e})}},cursorToScrollbarPosition:function(t){var e=this.options,e=e.minWidth>this.calculatedWidth?e.minWidth:0;return{chartX:(t.chartX-this.x-this.xOffset)/(this.barWidth-e),chartY:(t.chartY-this.y-this.yOffset)/(this.barWidth-e)}},updatePosition:function(t,e){1<e&&(t=o(1-o(e-t)),e=1),0>t&&(e=o(e-t),t=0),this.from=t,this.to=e},update:function(t){this.destroy(),this.init(this.chart.renderer,p(!0,this.options,t),this.chart)},addEvents:function(){var t=this.options.inverted?[1,0]:[0,1],e=this.scrollbarButtons,i=this.scrollbarGroup.element,r=this.mouseDownHandler,o=this.mouseMoveHandler,s=this.mouseUpHandler,t=[[e[t[0]].element,"click",this.buttonToMinClick],[e[t[1]].element,"click",this.buttonToMaxClick],[this.track.element,"click",this.trackClick],[i,"mousedown",r],[c,"mousemove",o],[c,"mouseup",s]];d&&t.push([i,"touchstart",r],[c,"touchmove",o],[c,"touchend",s]),h(t,function(t){n.apply(null,t)}),this._events=t},removeEvents:function(){h(this._events,function(t){m.apply(null,t);
}),this._events.length=0},destroy:function(){var t=this.chart.scroller;this.removeEvents(),h(["track","scrollbarRifles","scrollbar","scrollbarGroup","group"],function(t){this[t]&&this[t].destroy&&(this[t]=this[t].destroy())},this),t&&this===t.scrollbar&&(t.scrollbar=null,l(t.scrollbarButtons))}},v(r.prototype,"init",function(t){var i=this;t.apply(i,Array.prototype.slice.call(arguments,1)),i.options.scrollbar&&i.options.scrollbar.enabled&&(i.options.scrollbar.vertical=!i.horiz,i.options.startOnTick=i.options.endOnTick=!1,i.scrollbar=new e(i.chart.renderer,i.options.scrollbar,i.chart),n(i.scrollbar,"changed",function(t){var e,n=Math.min(g(i.options.min,i.min),i.min,i.dataMin),r=Math.max(g(i.options.max,i.max),i.max,i.dataMax)-n;i.horiz&&!i.reversed||!i.horiz&&i.reversed?(e=n+r*this.to,n+=r*this.from):(e=n+r*(1-this.from),n+=r*(1-this.to)),i.setExtremes(n,e,!0,!1,t)}))}),v(r.prototype,"render",function(t){var e=Math.min(g(this.options.min,this.min),this.min,this.dataMin),i=Math.max(g(this.options.max,this.max),this.max,this.dataMax),n=this.scrollbar,r=this.titleOffset||0;t.apply(this,Array.prototype.slice.call(arguments,1)),n&&(this.horiz?(n.position(this.left,this.top+this.height+2+this.chart.scrollbarsOffsets[1]+(this.opposite?0:r+this.axisTitleMargin+this.offset),this.width,this.height),r=1):(n.position(this.left+this.width+2+this.chart.scrollbarsOffsets[0]+(this.opposite?r+this.axisTitleMargin+this.offset:0),this.top,this.width,this.height),r=0),(!this.opposite&&!this.horiz||this.opposite&&this.horiz)&&(this.chart.scrollbarsOffsets[r]+=this.scrollbar.size+this.scrollbar.options.margin),isNaN(e)||isNaN(i)||!a(this.min)||!a(this.max)?n.setRange(0,0):(r=(this.min-e)/(i-e),e=(this.max-e)/(i-e),this.horiz&&!this.reversed||!this.horiz&&this.reversed?n.setRange(r,e):n.setRange(1-e,1-r)))}),v(r.prototype,"getOffset",function(t){var e=this.horiz?2:1,i=this.scrollbar;t.apply(this,Array.prototype.slice.call(arguments,1)),i&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[e]+=i.size+i.options.margin)}),v(r.prototype,"destroy",function(t){this.scrollbar&&(this.scrollbar=this.scrollbar.destroy()),t.apply(this,Array.prototype.slice.call(arguments,1))}),t.Scrollbar=e}(t),function(t){function e(t){this.init(t)}var i=t.addEvent,n=t.Axis,r=t.Chart,o=t.color,s=t.defaultOptions,a=t.defined,l=t.destroyObjectProperties,c=t.doc,h=t.each,u=t.erase,d=t.error,f=t.extend,p=t.grep,g=t.hasTouch,m=t.isNumber,v=t.isObject,y=t.merge,b=t.pick,x=t.removeEvent,w=t.Scrollbar,k=t.Series,S=t.seriesTypes,C=t.wrap,T=t.swapXY,M=[].concat(t.defaultDataGroupingUnits),A=function(t){var e=p(arguments,m);if(e.length)return Math[t].apply(0,e)};M[4]=["day",[1,2,3,4]],M[5]=["week",[1,2,3]],S=void 0===S.areaspline?"line":"areaspline",f(s,{navigator:{height:40,margin:25,maskInside:!0,handles:{backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:o("#6685c2").setOpacity(.3).get(),outlineColor:"#cccccc",outlineWidth:1,series:{type:S,color:"#335cad",fillOpacity:.05,lineWidth:1,compare:null,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:M},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},pointRange:0,shadow:!1,threshold:null},xAxis:{className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#999999"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),e.prototype={drawHandle:function(t,e,i,n){this.handles[e][n](i?{translateX:Math.round(this.left+this.height/2-8),translateY:Math.round(this.top+parseInt(t,10)+.5)}:{translateX:Math.round(this.left+parseInt(t,10)),translateY:Math.round(this.top+this.height/2-8)})},getHandlePath:function(t){return T(["M",-4.5,.5,"L",3.5,.5,"L",3.5,15.5,"L",-4.5,15.5,"L",-4.5,.5,"M",-1.5,4,"L",-1.5,12,"M",.5,4,"L",.5,12],t)},drawOutline:function(t,e,i,n){var r=this.navigatorOptions.maskInside,o=this.outline.strokeWidth(),s=o/2,o=o%2/2,a=this.outlineHeight,l=this.scrollbarHeight,c=this.size,h=this.left-l,u=this.top;i?(h-=s,i=u+e+o,e=u+t+o,t=["M",h+a,u-l-o,"L",h+a,i,"L",h,i,"L",h,e,"L",h+a,e,"L",h+a,u+c+l].concat(r?["M",h+a,i-s,"L",h+a,e+s]:[])):(t+=h+l-o,e+=h+l-o,u+=s,t=["M",h,u,"L",t,u,"L",t,u+a,"L",e,u+a,"L",e,u,"L",h+c+2*l,u].concat(r?["M",t-s,u,"L",e+s,u]:[])),this.outline[n]({d:t})},drawMasks:function(t,e,i,n){var r,o,s,a,l=this.left,c=this.top,u=this.height;i?(s=[l,l,l],a=[c,c+t,c+e],o=[u,u,u],r=[t,e-t,this.size-e]):(s=[l,l+t,l+e],a=[c,c,c],o=[t,e-t,this.size-e],r=[u,u,u]),h(this.shades,function(t,e){t[n]({x:s[e],y:a[e],width:o[e],height:r[e]})})},renderElements:function(){var t,e=this,i=e.navigatorOptions,n=i.maskInside,r=e.chart,o=r.inverted,s=r.renderer;e.navigatorGroup=t=s.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();var a={cursor:o?"ns-resize":"ew-resize"};h([!n,n,!n],function(n,r){e.shades[r]=s.rect().addClass("highcharts-navigator-mask"+(1===r?"-inside":"-outside")).attr({fill:n?i.maskFill:"rgba(0,0,0,0)"}).css(1===r&&a).add(t)}),e.outline=s.path().addClass("highcharts-navigator-outline").attr({"stroke-width":i.outlineWidth,stroke:i.outlineColor}).add(t),h([0,1],function(n){e.handles[n]=s.path(e.getHandlePath(o)).attr({zIndex:7-n}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][n]).add(t);var r=i.handles;e.handles[n].attr({fill:r.backgroundColor,stroke:r.borderColor,"stroke-width":1}).css(a)})},update:function(t){this.destroy(),y(!0,this.chart.options.navigator,this.options,t),this.init(this.chart)},render:function(t,e,i,n){var r,o,s,l=this.chart,c=this.scrollbarHeight,h=this.xAxis;r=h.fake?l.xAxis[0]:h;var u,d=this.navigatorEnabled,f=this.rendered;o=l.inverted;var p=l.xAxis[0].minRange;if(!this.hasDragged||a(i)){if(!m(t)||!m(e)){if(!f)return;i=0,n=h.width}if(this.left=b(h.left,l.plotLeft+c+(o?l.plotWidth:0)),this.size=u=s=b(h.len,(o?l.plotHeight:l.plotWidth)-2*c),l=o?c:s+2*c,i=b(i,h.toPixels(t,!0)),n=b(n,h.toPixels(e,!0)),m(i)&&1/0!==Math.abs(i)||(i=0,n=l),t=h.toValue(i,!0),e=h.toValue(n,!0),Math.abs(e-t)<p)if(this.grabbedLeft)i=h.toPixels(e-p,!0);else{if(!this.grabbedRight)return;n=h.toPixels(t+p,!0)}this.zoomedMax=Math.min(Math.max(i,n,0),u),this.zoomedMin=Math.min(Math.max(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(i,n),0),u),this.range=this.zoomedMax-this.zoomedMin,u=Math.round(this.zoomedMax),i=Math.round(this.zoomedMin),d&&(this.navigatorGroup.attr({visibility:"visible"}),f=f&&!this.hasDragged?"animate":"attr",this.drawMasks(i,u,o,f),this.drawOutline(i,u,o,f),this.drawHandle(i,0,o,f),this.drawHandle(u,1,o,f)),this.scrollbar&&(o?(o=this.top-c,r=this.left-c+(d||!r.opposite?0:(r.titleOffset||0)+r.axisTitleMargin),c=s+2*c):(o=this.top+(d?this.height:-c),r=this.left-c),this.scrollbar.position(r,o,l,c),this.scrollbar.setRange(this.zoomedMin/s,this.zoomedMax/s)),this.rendered=!0}},addMouseEvents:function(){var t,e,n=this,r=n.chart,o=r.container,s=[];n.mouseMoveHandler=t=function(t){n.onMouseMove(t)},n.mouseUpHandler=e=function(t){n.onMouseUp(t)},s=n.getPartsEvents("mousedown"),s.push(i(o,"mousemove",t),i(c,"mouseup",e)),g&&(s.push(i(o,"touchmove",t),i(c,"touchend",e)),s.concat(n.getPartsEvents("touchstart"))),n.eventsToUnbind=s,n.series&&n.series[0]&&s.push(i(n.series[0].xAxis,"foundExtremes",function(){r.navigator.modifyNavigatorAxisExtremes()}))},getPartsEvents:function(t){var e=this,n=[];return h(["shades","handles"],function(r){h(e[r],function(o,s){n.push(i(o.element,t,function(t){e[r+"Mousedown"](t,s)}))})}),n},shadesMousedown:function(t,e){t=this.chart.pointer.normalize(t);var i,n=this.chart,r=this.xAxis,o=this.zoomedMin,s=this.left,a=this.size,l=this.range,c=t.chartX;n.inverted&&(c=t.chartY,s=this.top),1===e?(this.grabbedCenter=c,this.fixedWidth=l,this.dragOffset=c-o):(t=c-s-l/2,0===e?t=Math.max(0,t):2===e&&t+l>=a&&(t=a-l,i=this.getUnionExtremes().dataMax),t!==o&&(this.fixedWidth=l,e=r.toFixedRange(t,t+l,null,i),n.xAxis[0].setExtremes(Math.min(e.min,e.max),Math.max(e.min,e.max),!0,null,{trigger:"navigator"})))},handlesMousedown:function(t,e){this.chart.pointer.normalize(t),t=this.chart;var i=t.xAxis[0],n=t.inverted&&!i.reversed||!t.inverted&&i.reversed;0===e?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=n?i.min:i.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=n?i.max:i.min),t.fixedRange=null},onMouseMove:function(t){var e=this,i=e.chart,n=e.left,r=e.navigatorSize,o=e.range,s=e.dragOffset,a=i.inverted;t.touches&&0===t.touches[0].pageX||(t=i.pointer.normalize(t),i=t.chartX,a&&(n=e.top,i=t.chartY),e.grabbedLeft?(e.hasDragged=!0,e.render(0,0,i-n,e.otherHandlePos)):e.grabbedRight?(e.hasDragged=!0,e.render(0,0,e.otherHandlePos,i-n)):e.grabbedCenter&&(e.hasDragged=!0,i<s?i=s:i>r+s-o&&(i=r+s-o),e.render(0,0,i-s,i-s+o)),e.hasDragged&&e.scrollbar&&e.scrollbar.options.liveRedraw&&(t.DOMType=t.type,setTimeout(function(){e.onMouseUp(t)},0)))},onMouseUp:function(t){var e,i,n=this.chart,r=this.xAxis,o=this.scrollbar,s=t.DOMEvent||t;(!this.hasDragged||o&&o.hasDragged)&&"scrollbar"!==t.trigger||(this.zoomedMin===this.otherHandlePos?e=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(i=this.fixedExtreme),this.zoomedMax===this.size&&(i=this.getUnionExtremes().dataMax),r=r.toFixedRange(this.zoomedMin,this.zoomedMax,e,i),a(r.min)&&n.xAxis[0].setExtremes(Math.min(r.min,r.max),Math.max(r.min,r.max),!0,!this.hasDragged&&null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:s})),"mousemove"!==t.DOMType&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null)},removeEvents:function(){this.eventsToUnbind&&(h(this.eventsToUnbind,function(t){t()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()},removeBaseSeriesEvents:function(){var t=this.baseSeries||[];this.navigatorEnabled&&t[0]&&!1!==this.navigatorOptions.adaptToUpdatedData&&(h(t,function(t){x(t,"updatedData",this.updatedDataHandler)},this),t[0].xAxis&&x(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))},init:function(t){var e=t.options,r=e.navigator,o=r.enabled,s=e.scrollbar,a=s.enabled,e=o?r.height:0,l=a?s.height:0;this.handles=[],this.shades=[],this.chart=t,this.setBaseSeries(),this.height=e,this.scrollbarHeight=l,this.scrollbarEnabled=a,this.navigatorEnabled=o,this.navigatorOptions=r,this.scrollbarOptions=s,this.outlineHeight=e+l,this.opposite=b(r.opposite,!o&&t.inverted);var c=this,s=c.baseSeries,a=t.xAxis.length,h=t.yAxis.length,u=s&&s[0]&&s[0].xAxis||t.xAxis[0];t.extraMargin={type:c.opposite?"plotTop":"marginBottom",value:(o||!t.inverted?c.outlineHeight:0)+r.margin},t.inverted&&(t.extraMargin.type=c.opposite?"marginRight":"plotLeft"),t.isDirtyBox=!0,c.navigatorEnabled?(c.xAxis=new n(t,y({breaks:u.options.breaks,ordinal:u.options.ordinal},r.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:a,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},t.inverted?{offsets:[l,0,-l,0],width:e}:{offsets:[0,-l,0,l],height:e})),c.yAxis=new n(t,y(r.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:h,zoomEnabled:!1},t.inverted?{width:e}:{height:e})),s||r.series.data?c.addBaseSeries():0===t.series.length&&C(t,"redraw",function(e,i){0<t.series.length&&!c.series&&(c.setBaseSeries(),t.redraw=e),e.call(t,i)}),c.renderElements(),c.addMouseEvents()):c.xAxis={translate:function(e,i){var n=t.xAxis[0],r=n.getExtremes(),o=n.len-2*l,s=A("min",n.options.min,r.dataMin),n=A("max",n.options.max,r.dataMax)-s;return i?e*n/o+s:o*(e-s)/n},toPixels:function(t){return this.translate(t)},toValue:function(t){return this.translate(t,!0)},toFixedRange:n.prototype.toFixedRange,fake:!0},t.options.scrollbar.enabled&&(t.scrollbar=c.scrollbar=new w(t.renderer,y(t.options.scrollbar,{margin:c.navigatorEnabled?0:10,vertical:t.inverted}),t),i(c.scrollbar,"changed",function(e){var i=c.size,n=i*this.to,i=i*this.from;c.hasDragged=c.scrollbar.hasDragged,c.render(0,0,i,n),(t.options.scrollbar.liveRedraw||"mousemove"!==e.DOMType)&&setTimeout(function(){c.onMouseUp(e)})})),c.addBaseSeriesEvents(),c.addChartEvents()},getUnionExtremes:function(t){var e,i=this.chart.xAxis[0],n=this.xAxis,r=n.options,o=i.options;return t&&null===i.dataMin||(e={dataMin:b(r&&r.min,A("min",o.min,i.dataMin,n.dataMin,n.min)),dataMax:b(r&&r.max,A("max",o.max,i.dataMax,n.dataMax,n.max))}),e},setBaseSeries:function(t){var e,i=this.chart;t=t||i.options&&i.options.navigator.baseSeries||0,this.series&&(this.removeBaseSeriesEvents(),h(this.series,function(t){t.destroy()})),e=this.baseSeries=[],h(i.series||[],function(i,n){(i.options.showInNavigator||(n===t||i.options.id===t)&&!1!==i.options.showInNavigator)&&e.push(i)}),this.xAxis&&!this.xAxis.fake&&this.addBaseSeries()},addBaseSeries:function(){var t,e,i,n=this,r=n.chart,o=n.series=[],s=n.baseSeries,a=n.navigatorOptions.series,l={enableMouseTracking:!1,index:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:!1,isInternal:!0,visible:!0};s?h(s,function(s,c){l.name="Navigator "+(c+1),t=s.options||{},i=t.navigatorOptions||{},e=y(t,l,a,i),c=i.data||a.data,n.hasNavigatorData=n.hasNavigatorData||!!c,e.data=c||t.data&&t.data.slice(0),s.navigatorSeries=r.initSeries(e),o.push(s.navigatorSeries)}):(e=y(a,l),e.data=a.data,n.hasNavigatorData=!!e.data,o.push(r.initSeries(e))),this.addBaseSeriesEvents()},addBaseSeriesEvents:function(){var t=this,e=t.baseSeries||[];e[0]&&e[0].xAxis&&i(e[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes),!1!==this.navigatorOptions.adaptToUpdatedData&&h(e,function(e){e.xAxis&&i(e,"updatedData",this.updatedDataHandler),i(e,"remove",function(){this.navigatorSeries&&(u(t.series,this.navigatorSeries),this.navigatorSeries.remove(!1),delete this.navigatorSeries)})},this)},modifyNavigatorAxisExtremes:function(){var t,e=this.xAxis;e.getExtremes&&(!(t=this.getUnionExtremes(!0))||t.dataMin===e.min&&t.dataMax===e.max||(e.min=t.dataMin,e.max=t.dataMax))},modifyBaseAxisExtremes:function(){var t,e,i=this.chart.navigator,n=this.getExtremes(),r=n.dataMin,o=n.dataMax,n=n.max-n.min,s=i.stickToMin,a=i.stickToMax,l=i.series&&i.series[0],c=!!this.setExtremes;this.eventArgs&&"rangeSelectorButton"===this.eventArgs.trigger||(s&&(e=r,t=e+n),a&&(t=o,s||(e=Math.max(t-n,l&&l.xData?l.xData[0]:-Number.MAX_VALUE))),c&&(s||a)&&m(e)&&(this.min=this.userMin=e,this.max=this.userMax=t)),i.stickToMin=i.stickToMax=null},updatedDataHandler:function(){var t=this.chart.navigator,e=this.navigatorSeries;t.stickToMin=m(this.xAxis.min)&&this.xAxis.min<=this.xData[0],t.stickToMax=Math.round(t.zoomedMax)>=Math.round(t.size),e&&!t.hasNavigatorData&&(e.options.pointStart=this.xData[0],e.setData(this.options.data,!1,null,!1))},addChartEvents:function(){i(this.chart,"redraw",function(){var t=this.navigator,e=t&&(t.baseSeries&&t.baseSeries[0]&&t.baseSeries[0].xAxis||t.scrollbar&&this.xAxis[0]);e&&t.render(e.min,e.max)})},destroy:function(){this.removeEvents(),this.xAxis&&(u(this.chart.xAxis,this.xAxis),u(this.chart.axes,this.xAxis)),this.yAxis&&(u(this.chart.yAxis,this.yAxis),u(this.chart.axes,this.yAxis)),h(this.series||[],function(t){t.destroy&&t.destroy()}),h("series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" "),function(t){this[t]&&this[t].destroy&&this[t].destroy(),this[t]=null},this),h([this.handles],function(t){l(t)},this)}},t.Navigator=e,C(n.prototype,"zoom",function(t,e,i){var n,r=this.chart,o=r.options,s=o.chart.zoomType,l=o.navigator,o=o.rangeSelector;return this.isXAxis&&(l&&l.enabled||o&&o.enabled)&&("x"===s?r.resetZoomButton="blocked":"y"===s?n=!1:"xy"===s&&(r=this.previousZoom,a(e)?this.previousZoom=[this.min,this.max]:r&&(e=r[0],i=r[1],delete this.previousZoom))),void 0!==n?n:t.call(this,e,i)}),C(r.prototype,"init",function(t,n,r){i(this,"beforeRender",function(){var t=this.options;(t.navigator.enabled||t.scrollbar.enabled)&&(this.scroller=this.navigator=new e(this))}),t.call(this,n,r)}),C(r.prototype,"setChartSize",function(t){var e,i,n,r,o=this.legend,s=this.navigator;t.apply(this,[].slice.call(arguments,1)),s&&(i=o.options,n=s.xAxis,r=s.yAxis,e=s.scrollbarHeight,this.inverted?(s.left=s.opposite?this.chartWidth-e-s.height:this.spacing[3]+e,s.top=this.plotTop+e):(s.left=this.plotLeft+e,s.top=s.navigatorOptions.top||this.chartHeight-s.height-e-this.spacing[2]-("bottom"===i.verticalAlign&&i.enabled&&!i.floating?o.legendHeight+b(i.margin,10):0)),n&&r&&(this.inverted?n.options.left=r.options.left=s.left:n.options.top=r.options.top=s.top,n.setAxisSize(),r.setAxisSize()))}),C(k.prototype,"addPoint",function(t,e,i,n,r){var o=this.options.turboThreshold;o&&this.xData.length>o&&v(e,!0)&&this.chart.navigator&&d(20,!0),t.call(this,e,i,n,r)}),C(r.prototype,"addSeries",function(t,e,i,n){return t=t.call(this,e,!1,n),this.navigator&&this.navigator.setBaseSeries(),b(i,!0)&&this.redraw(),t}),C(k.prototype,"update",function(t,e,i){t.call(this,e,!1),this.chart.navigator&&this.chart.navigator.setBaseSeries(),b(i,!0)&&this.chart.redraw()}),r.prototype.callbacks.push(function(t){var e=t.navigator;e&&(t=t.xAxis[0].getExtremes(),e.render(t.min,t.max))})}(t),function(t){function e(t){this.init(t)}var i=t.addEvent,n=t.Axis,r=t.Chart,o=t.css,s=t.createElement,a=t.dateFormat,l=t.defaultOptions,c=l.global.useUTC,h=t.defined,u=t.destroyObjectProperties,d=t.discardElement,f=t.each,p=t.extend,g=t.fireEvent,m=t.Date,v=t.isNumber,y=t.merge,b=t.pick,x=t.pInt,w=t.splat,k=t.wrap;p(l,{rangeSelector:{buttonTheme:{"stroke-width":0,width:28,height:18,padding:2,zIndex:7},height:35,inputPosition:{align:"right"},labelStyle:{color:"#666666"}}}),l.lang=y(l.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"}),e.prototype={clickButton:function(t,e){var r,o,s,a,l,h=this,u=h.chart,d=h.buttonOptions[t],p=u.xAxis[0],g=u.scroller&&u.scroller.getUnionExtremes()||p||{},m=g.dataMin,y=g.dataMax,x=p&&Math.round(Math.min(p.max,b(y,p.max))),k=d.type,g=d._range,S=d.dataGrouping;if(null!==m&&null!==y){if(u.fixedRange=g,S&&(this.forcedDataGrouping=!0,n.prototype.setDataGrouping.call(p||{chart:this.chart},S,!1)),"month"===k||"year"===k)p?(k={range:d,max:x,dataMin:m,dataMax:y},r=p.minFromRange.call(k),v(k.newMax)&&(x=k.newMax)):g=d;else if(g)r=Math.max(x-g,m),x=Math.min(r+g,y);else if("ytd"===k){if(!p)return void i(u,"beforeRender",function(){h.clickButton(t)});void 0===y&&(m=Number.MAX_VALUE,y=Number.MIN_VALUE,f(u.series,function(t){t=t.xData,m=Math.min(t[0],m),y=Math.max(t[t.length-1],y)}),e=!1),x=h.getYTDExtremes(y,m,c),r=s=x.min,x=x.max}else"all"===k&&p&&(r=m,x=y);h.setSelected(t),p?p.setExtremes(r,x,b(e,1),null,{trigger:"rangeSelectorButton",rangeSelectorButton:d}):(o=w(u.options.xAxis)[0],l=o.range,o.range=g,a=o.min,o.min=s,i(u,"load",function(){o.range=l,o.min=a}))}},setSelected:function(t){this.selected=this.options.selected=t},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(t){var e=this,n=t.options.rangeSelector,r=n.buttons||[].concat(e.defaultButtons),o=n.selected,s=function(){var t=e.minInput,i=e.maxInput;t&&t.blur&&g(t,"blur"),i&&i.blur&&g(i,"blur")};e.chart=t,e.options=n,e.buttons=[],t.extraTopMargin=n.height,e.buttonOptions=r,this.unMouseDown=i(t.container,"mousedown",s),this.unResize=i(t,"resize",s),f(r,e.computeButtonRange),void 0!==o&&r[o]&&this.clickButton(o,!1),i(t,"load",function(){i(t.xAxis[0],"setExtremes",function(i){this.max-this.min!==t.fixedRange&&"rangeSelectorButton"!==i.trigger&&"updatedData"!==i.trigger&&e.forcedDataGrouping&&this.setDataGrouping(!1,!1)})})},updateButtonStates:function(){var t=this.chart,e=t.xAxis[0],i=Math.round(e.max-e.min),n=!e.hasVisibleSeries,t=t.scroller&&t.scroller.getUnionExtremes()||e,r=t.dataMin,o=t.dataMax,t=this.getYTDExtremes(o,r,c),s=t.min,a=t.max,l=this.selected,h=v(l),u=this.options.allButtonsEnabled,d=this.buttons;f(this.buttonOptions,function(t,c){var f=t._range,p=t.type,g=t.count||1;t=d[c];var m=0;c=c===l;var v=f>o-r,y=f<e.minRange,b=!1,x=!1,f=f===i;("month"===p||"year"===p)&&i>=864e5*{month:28,year:365}[p]*g&&i<=864e5*{month:31,year:366}[p]*g?f=!0:"ytd"===p?(f=a-s===i,b=!c):"all"===p&&(f=e.max-e.min>=o-r,x=!c&&h&&f),p=!u&&(v||y||x||n),f=c&&f||f&&!h&&!b,p?m=3:f&&(h=!0,m=2),t.state!==m&&t.setState(m)})},computeButtonRange:function(t){var e=t.type,i=t.count||1,n={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};n[e]?t._range=n[e]*i:"month"!==e&&"year"!==e||(t._range=864e5*{month:30,year:365}[e]*i)},setInputValue:function(t,e){var i=this.chart.options.rangeSelector,n=this[t+"Input"];h(e)&&(n.previousValue=n.HCTime,n.HCTime=e),n.value=a(i.inputEditDateFormat||"%Y-%m-%d",n.HCTime),this[t+"DateBox"].attr({text:a(i.inputDateFormat||"%b %e, %Y",n.HCTime)})},showInput:function(t){var e=this.inputGroup,i=this[t+"DateBox"];o(this[t+"Input"],{left:e.translateX+i.x+"px",top:e.translateY+"px",width:i.width-2+"px",height:i.height-2+"px",border:"2px solid silver"})},hideInput:function(t){o(this[t+"Input"],{border:0,width:"1px",height:"1px"}),this.setInputValue(t)},drawInput:function(t){function e(){var t=i.value,e=(d.inputDateParser||Date.parse)(t),n=a.xAxis[0],o=a.scroller&&a.scroller.xAxis?a.scroller.xAxis:n,s=o.dataMin,o=o.dataMax;e!==i.previousValue&&(i.previousValue=e,v(e)||(e=t.split("-"),e=Date.UTC(x(e[0]),x(e[1])-1,x(e[2]))),v(e)&&(c||(e+=6e4*(new Date).getTimezoneOffset()),g?e>r.maxInput.HCTime?e=void 0:e<s&&(e=s):e<r.minInput.HCTime?e=void 0:e>o&&(e=o),void 0!==e&&n.setExtremes(g?e:n.min,g?n.max:e,void 0,void 0,{trigger:"rangeSelectorInput"})))}var i,n,r=this,a=r.chart,h=a.renderer.style||{},u=a.renderer,d=a.options.rangeSelector,f=r.div,g="min"===t,m=this.inputGroup;this[t+"Label"]=n=u.label(l.lang[g?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).addClass("highcharts-range-label").attr({padding:2}).add(m),m.offset+=n.width+5,this[t+"DateBox"]=u=u.label("",m.offset).addClass("highcharts-range-input").attr({padding:2,width:d.inputBoxWidth||90,height:d.inputBoxHeight||17,stroke:d.inputBoxBorderColor||"#cccccc","stroke-width":1,"text-align":"center"}).on("click",function(){r.showInput(t),r[t+"Input"].focus()}).add(m),m.offset+=u.width+(g?10:0),this[t+"Input"]=i=s("input",{name:t,className:"highcharts-range-selector",type:"text"},{top:a.plotTop+"px"},f),n.css(y(h,d.labelStyle)),u.css(y({color:"#333333"},h,d.inputStyle)),o(i,p({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:h.fontSize,fontFamily:h.fontFamily,left:"-9em"},d.inputStyle)),i.onfocus=function(){r.showInput(t)},i.onblur=function(){r.hideInput(t)},i.onchange=e,i.onkeypress=function(t){13===t.keyCode&&e()}},getPosition:function(){var t=this.chart,e=t.options.rangeSelector,t=b((e.buttonPosition||{}).y,t.plotTop-t.axisOffset[0]-e.height);return{buttonTop:t,inputTop:t-10}},getYTDExtremes:function(t,e,i){var n=new m(t),r=n[m.hcGetFullYear]();return i=i?m.UTC(r,0,1):+new m(r,0,1),e=Math.max(e||0,i),n=n.getTime(),{max:Math.min(t||n,n),min:e}},render:function(t,e){var i,n=this,r=n.chart,o=r.renderer,a=r.container,c=r.options,u=c.exporting&&!1!==c.exporting.enabled&&c.navigation&&c.navigation.buttonOptions,d=c.rangeSelector,g=n.buttons,c=l.lang,m=n.div,m=n.inputGroup,v=d.buttonTheme,y=d.buttonPosition||{},x=d.inputEnabled,w=v&&v.states,k=r.plotLeft,S=this.getPosition(),C=n.group,T=n.rendered;!1!==d.enabled&&(T||(n.group=C=o.g("range-selector-buttons").add(),n.zoomText=o.text(c.rangeSelectorZoom,b(y.x,k),15).css(d.labelStyle).add(C),i=b(y.x,k)+n.zoomText.getBBox().width+5,f(n.buttonOptions,function(t,e){g[e]=o.button(t.text,i,0,function(){n.clickButton(e),n.isActive=!0},v,w&&w.hover,w&&w.select,w&&w.disabled).attr({"text-align":"center"}).add(C),i+=g[e].width+b(d.buttonSpacing,5)}),!1!==x&&(n.div=m=s("div",null,{position:"relative",height:0,zIndex:1}),a.parentNode.insertBefore(m,a),n.inputGroup=m=o.g("input-group").add(),m.offset=0,n.drawInput("min"),n.drawInput("max"))),n.updateButtonStates(),C[T?"animate":"attr"]({translateY:S.buttonTop}),!1!==x&&(m.align(p({y:S.inputTop,width:m.offset,x:u&&S.inputTop<(u.y||0)+u.height-r.spacing[0]?-40:0},d.inputPosition),!0,r.spacingBox),h(x)||(r=C.getBBox(),m[m.alignAttr.translateX<r.x+r.width+10?"hide":"show"]()),n.setInputValue("min",t),n.setInputValue("max",e)),n.rendered=!0)},update:function(t){var e=this.chart;y(!0,e.options.rangeSelector,t),this.destroy(),this.init(e)},destroy:function(){var i=this,n=i.minInput,r=i.maxInput;i.unMouseDown(),i.unResize(),u(i.buttons),n&&(n.onfocus=n.onblur=n.onchange=null),r&&(r.onfocus=r.onblur=r.onchange=null),t.objectEach(i,function(t,n){t&&"chart"!==n&&(t.destroy?t.destroy():t.nodeType&&d(this[n])),t!==e.prototype[n]&&(i[n]=null)},this)}},n.prototype.toFixedRange=function(t,e,i,n){var r=this.chart&&this.chart.fixedRange;return t=b(i,this.translate(t,!0,!this.horiz)),e=b(n,this.translate(e,!0,!this.horiz)),i=r&&(e-t)/r,.7<i&&1.3>i&&(n?t=e-r:e=t+r),v(t)||(t=e=void 0),{min:t,max:e}},n.prototype.minFromRange=function(){var t,e,i,n=this.range,r={month:"Month",year:"FullYear"}[n.type],o=this.max,s=function(t,e){var i=new Date(t),n=i["get"+r]();return i["set"+r](n+e),n===i["get"+r]()&&i.setDate(0),i.getTime()-t};return v(n)?(t=o-n,i=n):(t=o+s(o,-n.count),this.chart&&(this.chart.fixedRange=o-t)),e=b(this.dataMin,Number.MIN_VALUE),v(t)||(t=e),t<=e&&(t=e,void 0===i&&(i=s(t,n.count)),this.newMax=Math.min(t+i,this.dataMax)),v(o)||(t=void 0),t},k(r.prototype,"init",function(t,n,r){i(this,"init",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new e(this))}),t.call(this,n,r)}),r.prototype.callbacks.push(function(t){function e(){n=t.xAxis[0].getExtremes(),v(n.min)&&s.render(n.min,n.max)}var n,r,o,s=t.rangeSelector;s&&(o=i(t.xAxis[0],"afterSetExtremes",function(t){s.render(t.min,t.max)}),r=i(t,"redraw",e),e()),i(t,"destroy",function(){s&&(r(),o())})}),t.RangeSelector=e}(t),function(t){var e=t.arrayMax,i=t.arrayMin,n=t.Axis,r=t.Chart,o=t.defined,s=t.each,a=t.extend,l=t.format,c=t.grep,h=t.inArray,u=t.isNumber,d=t.isString,f=t.map,p=t.merge,g=t.pick,m=t.Point,v=t.Renderer,y=t.Series,b=t.splat,x=t.SVGRenderer,w=t.VMLRenderer,k=t.wrap,S=y.prototype,C=S.init,T=S.processData,M=m.prototype.tooltipFormatter;t.StockChart=t.stockChart=function(e,i,n){var o,s=d(e)||e.nodeName,a=arguments[s?1:0],l=a.series,c=t.getOptions(),h=g(a.navigator&&a.navigator.enabled,c.navigator.enabled,!0),u=h?{startOnTick:!1,endOnTick:!1}:null,m={marker:{enabled:!1,radius:2}},v={shadow:!1,borderWidth:0};return a.xAxis=f(b(a.xAxis||{}),function(t){return p({minPadding:0,maxPadding:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},c.xAxis,t,{type:"datetime",categories:null},u)}),a.yAxis=f(b(a.yAxis||{}),function(t){return o=g(t.opposite,!0),p({labels:{y:-2},opposite:o,showLastLabel:!1,title:{text:null}},c.yAxis,t)}),a.series=null,a=p({chart:{panning:!0,pinchType:"x"},navigator:{enabled:h},scrollbar:{enabled:g(c.scrollbar.enabled,!0)},rangeSelector:{enabled:g(c.rangeSelector.enabled,!0)},title:{text:null},tooltip:{shared:!0,crosshairs:!0},legend:{enabled:!1},plotOptions:{line:m,spline:m,area:m,areaspline:m,arearange:m,areasplinerange:m,column:v,columnrange:v,candlestick:v,ohlc:v}},a,{isStock:!0}),a.series=l,s?new r(e,a,n):new r(a,i)},k(n.prototype,"autoLabelAlign",function(t){var e=this.chart,i=this.options,e=e._labelPanes=e._labelPanes||{},n=this.options.labels;return this.chart.options.isStock&&"yAxis"===this.coll&&(i=i.top+","+i.height,!e[i]&&n.enabled)?(15===n.x&&(n.x=0),void 0===n.align&&(n.align="right"),e[i]=this,"right"):t.call(this,[].slice.call(arguments,1))}),k(n.prototype,"destroy",function(t){var e=this.chart,i=this.options&&this.options.top+","+this.options.height;return i&&e._labelPanes&&e._labelPanes[i]===this&&delete e._labelPanes[i],t.call(this,Array.prototype.slice.call(arguments,1))}),k(n.prototype,"getPlotLinePath",function(e,i,n,r,a,l){var c,p,m,v,y,b,x=this,w=this.isLinked&&!this.series?this.linkedParent.series:this.series,k=x.chart,S=k.renderer,C=x.left,T=x.top,M=[],A=[];return"xAxis"!==x.coll&&"yAxis"!==x.coll?e.apply(this,[].slice.call(arguments,1)):(A=function(t){var e="xAxis"===t?"yAxis":"xAxis";return t=x.options[e],u(t)?[k[e][t]]:d(t)?[k.get(t)]:f(w,function(t){return t[e]})}(x.coll),s(x.isXAxis?k.yAxis:k.xAxis,function(t){if(o(t.options.id)?-1===t.options.id.indexOf("navigator"):1){var e=t.isXAxis?"yAxis":"xAxis",e=o(t.options[e])?k[e][t.options[e]]:k[e][0];x===e&&A.push(t)}}),y=A.length?[]:[x.isXAxis?k.yAxis[0]:k.xAxis[0]],s(A,function(e){-1!==h(e,y)||t.find(y,function(t){return t.pos===e.pos&&t.len&&e.len})||y.push(e)}),b=g(l,x.translate(i,null,null,r)),u(b)&&(x.horiz?s(y,function(t){var e;p=t.pos,v=p+t.len,c=m=Math.round(b+x.transB),(c<C||c>C+x.width)&&(a?c=m=Math.min(Math.max(C,c),C+x.width):e=!0),e||M.push("M",c,p,"L",m,v)}):s(y,function(t){var e;c=t.pos,m=c+t.len,p=v=Math.round(T+x.height-b),(p<T||p>T+x.height)&&(a?p=v=Math.min(Math.max(T,p),x.top+x.height):e=!0),e||M.push("M",c,p,"L",m,v)})),0<M.length?S.crispPolyLine(M,n||1):null)}),n.prototype.getPlotBandPath=function(t,e){e=this.getPlotLinePath(e,null,null,!0),t=this.getPlotLinePath(t,null,null,!0);var i,n=[];if(t&&e)if(t.toString()===e.toString())n=t,n.flat=!0;else for(i=0;i<t.length;i+=6)n.push("M",t[i+1],t[i+2],"L",t[i+4],t[i+5],e[i+4],e[i+5],e[i+1],e[i+2],"z");else n=null;return n},x.prototype.crispPolyLine=function(t,e){var i;for(i=0;i<t.length;i+=6)t[i+1]===t[i+4]&&(t[i+1]=t[i+4]=Math.round(t[i+1])-e%2/2),t[i+2]===t[i+5]&&(t[i+2]=t[i+5]=Math.round(t[i+2])+e%2/2);return t},v===w&&(w.prototype.crispPolyLine=x.prototype.crispPolyLine),k(n.prototype,"hideCrosshair",function(t,e){t.call(this,e),this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),k(n.prototype,"drawCrosshair",function(t,e,i){var n,r;if(t.call(this,e,i),o(this.crosshair.label)&&this.crosshair.label.enabled&&this.cross){t=this.chart;var s=this.options.crosshair.label,c=this.horiz;n=this.opposite,r=this.left;var h,u=this.top,d=this.crossLabel,f=s.format,p="",m="inside"===this.options.tickPosition,v=!1!==this.crosshair.snap,y=0;e||(e=this.cross&&this.cross.e),h=c?"center":n?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center",d||(d=this.crossLabel=t.renderer.label(null,null,null,s.shape||"callout").addClass("highcharts-crosshair-label"+(this.series[0]&&" highcharts-color-"+this.series[0].colorIndex)).attr({align:s.align||h,padding:g(s.padding,8),r:g(s.borderRadius,3),zIndex:2}).add(this.labelGroup),d.attr({fill:s.backgroundColor||this.series[0]&&this.series[0].color||"#666666",stroke:s.borderColor||"","stroke-width":s.borderWidth||0}).css(a({color:"#ffffff",fontWeight:"normal",fontSize:"11px",textAlign:"center"},s.style))),c?(h=v?i.plotX+r:e.chartX,u+=n?0:this.height):(h=n?this.width+r:0,u=v?i.plotY+u:e.chartY),f||s.formatter||(this.isDatetimeAxis&&(p="%b %d, %Y"),f="{value"+(p?":"+p:"")+"}"),e=v?i[this.isXAxis?"x":"y"]:this.toValue(c?e.chartX:e.chartY),d.attr({text:f?l(f,{value:e}):s.formatter.call(this,e),x:h,y:u,visibility:"visible"}),e=d.getBBox(),c?(m&&!n||!m&&n)&&(u=d.y-e.height):u=d.y-e.height/2,c?(n=r-e.x,r=r+this.width-e.x):(n="left"===this.labelAlign?r:0,r="right"===this.labelAlign?r+this.width:t.chartWidth),d.translateX<n&&(y=n-d.translateX),d.translateX+e.width>=r&&(y=-(d.translateX+e.width-r)),d.attr({x:h+y,y:u,anchorX:c?h:this.opposite?0:t.chartWidth,anchorY:c?this.opposite?t.chartHeight:0:u+e.height/2})}}),S.init=function(){C.apply(this,arguments),this.setCompare(this.options.compare)},S.setCompare=function(t){this.modifyValue="value"===t||"percent"===t?function(e,i){var n=this.compareValue;if(void 0!==e&&void 0!==n)return e="value"===t?e-n:e/n*100-(100===this.options.compareBase?0:100),
i&&(i.change=e),e}:null,this.userOptions.compare=t,this.chart.hasRendered&&(this.isDirty=!0)},S.processData=function(){var t,e,i,n,r,o=-1;if(T.apply(this,arguments),this.xAxis&&this.processedYData)for(e=this.processedXData,i=this.processedYData,n=i.length,this.pointArrayMap&&(o=h("close",this.pointArrayMap),-1===o&&(o=h(this.pointValKey||"y",this.pointArrayMap))),t=0;t<n-1;t++)if(r=i[t]&&-1<o?i[t][o]:i[t],u(r)&&e[t+1]>=this.xAxis.min&&0!==r){this.compareValue=r;break}},k(S,"getExtremes",function(t){var n;t.apply(this,[].slice.call(arguments,1)),this.modifyValue&&(n=[this.modifyValue(this.dataMin),this.modifyValue(this.dataMax)],this.dataMin=i(n),this.dataMax=e(n))}),n.prototype.setCompare=function(t,e){this.isXAxis||(s(this.series,function(e){e.setCompare(t)}),g(e,!0)&&this.chart.redraw())},m.prototype.tooltipFormatter=function(e){return e=e.replace("{point.change}",(0<this.change?"+":"")+t.numberFormat(this.change,g(this.series.tooltipOptions.changeDecimals,2))),M.apply(this,[e])},k(y.prototype,"render",function(t){this.chart.is3d&&this.chart.is3d()||this.chart.polar||!this.xAxis||this.xAxis.isRadial||(!this.clipBox&&this.animate?(this.clipBox=p(this.chart.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len):this.chart[this.sharedClipKey]?this.chart[this.sharedClipKey].attr({width:this.xAxis.len,height:this.yAxis.len}):this.clipBox&&(this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len)),t.call(this)}),k(r.prototype,"getSelectedPoints",function(t){var e=t.call(this);return s(this.series,function(t){t.hasGroupedData&&(e=e.concat(c(t.points||[],function(t){return t.selected})))}),e}),k(r.prototype,"update",function(t,e){return"scrollbar"in e&&this.navigator&&(p(!0,this.options.scrollbar,e.scrollbar),this.navigator.update({},!1),delete e.scrollbar),t.apply(this,Array.prototype.slice.call(arguments,1))})}(t),t})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptSelect=e.ScriptLoadButton=e.ScriptLoadModal=e.ScriptExecCtrl=e.ScriptEditor=e.Scripts=void 0;var o=i(165),s=r(o),a=i(146),l=n(a),c=i(166),h=n(c),u={scripts:[],oninit:function(t){var e=this;m.request("/scripts").then(function(t){e.scripts=(0,l.default)(t,function(t){return m("option",{value:t},t)})})},oncreate:function(t){var e=document.getElementById("scriptSelectBox");e.onchange=function(){t.attrs.ScriptSelectionData.selected=e.value,document.activeElement.blur(),m.redraw()}},view:function(t){return m("select",{id:"scriptSelectBox",class:"form-control",multiple:"true"},this.scripts)}},d={oncreate:function(t){document.getElementById("loadScriptButton").onclick=function(){var e=encodeURIComponent(t.attrs.ScriptSelectionData.selected);m.request("/scripts/load/"+e).then(function(e){t.attrs.ScriptSelectionData.scriptText=e.script_text,bliss.events.emit("script:loaded",null)})}},view:function(t){var e={id:"loadScriptButton",class:"btn btn-success"};return(0,h.default)(e,t.attrs.additionalAttrs),null===t.attrs.ScriptSelectionData.selected&&(e.disabled="disabled"),m("button",e,"Load")}},f={view:function(t){var e=m("div",{class:"modal-header"},[m("button",{class:"close","data-dismiss":"modal"},m("span","")),m("h4",{class:"modal-title"},"Load Sequence / Script")]),i=m("div",{class:"modal-body"},m(u,{ScriptSelectionData:t.attrs.ScriptSelectionData})),n=m("div",{class:"modal-footer"},m(d,{ScriptSelectionData:t.attrs.ScriptSelectionData,additionalAttrs:{"data-dismiss":"modal"}})),r=m("div",{class:"modal fade",id:"scriptModal",tabindex:"-1",role:"dialog"},m("div",{class:"modal-dialog modal-lg",role:"document"},m("div",{class:"modal-content"},[e,i,n])));return r}},p={oninit:function(t){this._script_state=t.attrs.scriptState},oncreate:function(t){var e=this;document.getElementById("scriptButtonRun").onclick=function(){if("running"===e._script_state)m.request({method:"PUT",url:"/script/pause"});else if("paused"===e._script_state)m.request({method:"PUT",url:"/script/run"});else if(null!==t.attrs.ScriptSelectionData.selected){var i=new FormData;i.append("scriptPath",t.attrs.ScriptSelectionData.selected),m.request({method:"POST",url:"/script/run",data:i})}}},view:function(t){this._script_state=t.attrs.scriptState;var e="running"===t.attrs.scriptState?"pause":"play",i={class:"btn glyphicon glyphicon-"+e,id:"scriptButtonRun"};"init"===t.attrs.scriptState||"error"===t.attrs.scriptState?i.disabled="disabled":i.class+=" bliss-script-"+e;var n=m("div",i),r=m("div",{class:"btn glyphicon glyphicon-refresh",disabled:"disabled",id:"scriptButtonReset"}),o=m("div",{class:"btn glyphicon glyphicon-step-backward",disabled:"disabled",id:"scriptButtonBack"}),s=m("div",{class:"btn glyphicon glyphicon-step-forward",disabled:"disabled",id:"scriptButtonForward"}),a=m("div",{class:"btn glyphicon glyphicon-download-alt","data-toggle":"modal","data-target":"#scriptModal"}),l=m("div",[o,n,r,s,a]);return l}},g={_scrollState:null,oninit:function(t){this._marker=document.createElement("span")},oncreate:function(t){this._cm=s.fromTextArea(document.getElementById("scriptviewer"),{lineNumbers:!0,readOnly:!0,gutters:["codeMirrorExecGutter","CodeMirror-linenumbers"]})},onbeforeupdate:function(t){void 0!==this._cm&&(this._scrollState=this._cm.getScrollInfo())},view:function(t){void 0!==this._cm&&(null!==t.attrs.ScriptSelectionData.scriptText&&this._cm.setValue(t.attrs.ScriptSelectionData.scriptText),"init"!==t.attrs.scriptState&&("paused"===t.attrs.scriptState?this._marker.className="glyphicon glyphicon-pause bliss-script-"+t.attrs.scriptState:this._marker.className="glyphicon glyphicon-play bliss-script-"+t.attrs.scriptState,this._cm.setGutterMarker(t.attrs.currentLine,"codeMirrorExecGutter",this._marker)),"running"===t.attrs.scriptState?this._cm.scrollIntoView(t.attrs.currentLine):this._cm.scrollTo(this._scrollState.left,this._scrollState.top));var e="To load a script, click the Load Script button above.";return m("form",m("textarea",{id:"scriptviewer"},e))}},v={execState:"init",scriptSelectData:{selected:null,scriptText:null},currentLine:0},y={oninit:function(t){this._marker=document.createElement("span"),bliss.events.on("script:start",function(){v.execState="running"}),bliss.events.on("script:done",function(){v.execState="stopped"}),bliss.events.on("script:error",function(t){v.execState="error"}),bliss.events.on("script:pause",function(t){v.execState="paused"}),bliss.events.on("script:resume",function(t){v.execState="running"}),bliss.events.on("script:loaded",function(t){v.execState="stopped"}),bliss.events.on("script:step",function(t){v.currentLine=t-1}),bliss.events.on("script:done",function(){v.currentLine=0})},view:function(t){var e=m("div",{class:"col-lg-8 col-lg-offset-2"},m("h3","Script Control Dashboard")),i=m(f,{ScriptSelectionData:v.scriptSelectData}),n=m("div",{class:"col-lg-8 col-lg-offset-2"},m(p,{ScriptSelectionData:v.scriptSelectData,scriptState:v.execState})),r=m("div",{class:"col-lg-8 col-lg-offset-2"},m(g,{ScriptSelectionData:v.scriptSelectData,scriptState:v.execState,currentLine:v.currentLine}));return m("div",[m("div",{class:"row"},e),m("div",{class:"row"},n),m("div",{class:"row"},r),i])}};e.default={Scripts:y,ScriptEditor:g,ScriptExecCtrl:p,ScriptLoadModal:f,ScriptLoadButton:d,ScriptSelect:u},e.Scripts=y,e.ScriptEditor=g,e.ScriptExecCtrl=p,e.ScriptLoadModal=f,e.ScriptLoadButton=d,e.ScriptSelect=u},function(t,e,i){!function(e,i){t.exports=i()}(this,function(){"use strict";function t(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}function e(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function i(t,i){return e(t).appendChild(i)}function n(t,e,i,n){var r=document.createElement(t);if(i&&(r.className=i),n&&(r.style.cssText=n),"string"==typeof e)r.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)r.appendChild(e[o]);return r}function r(t,e,i,r){var o=n(t,e,i,r);return o.setAttribute("role","presentation"),o}function o(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do if(11==e.nodeType&&(e=e.host),e==t)return!0;while(e=e.parentNode)}function s(){var t;try{t=document.activeElement}catch(e){t=document.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function a(e,i){var n=e.className;t(i).test(n)||(e.className+=(n?" ":"")+i)}function l(e,i){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!t(n[r]).test(i)&&(i+=" "+n[r]);return i}function c(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function h(t,e,i){e||(e={});for(var n in t)!t.hasOwnProperty(n)||i===!1&&e.hasOwnProperty(n)||(e[n]=t[n]);return e}function u(t,e,i,n,r){null==e&&(e=t.search(/[^\s\u00a0]/),e==-1&&(e=t.length));for(var o=n||0,s=r||0;;){var a=t.indexOf("\t",o);if(a<0||a>=e)return s+(e-o);s+=a-o,s+=i-s%i,o=a+1}}function d(t,e){for(var i=0;i<t.length;++i)if(t[i]==e)return i;return-1}function f(t,e,i){for(var n=0,r=0;;){var o=t.indexOf("\t",n);o==-1&&(o=t.length);var s=o-n;if(o==t.length||r+s>=e)return n+Math.min(s,e-r);if(r+=o-n,r+=i-r%i,n=o+1,r>=e)return n}}function p(t){for(;Ns.length<=t;)Ns.push(g(Ns)+" ");return Ns[t]}function g(t){return t[t.length-1]}function m(t,e){for(var i=[],n=0;n<t.length;n++)i[n]=e(t[n],n);return i}function v(t,e,i){for(var n=0,r=i(e);n<t.length&&i(t[n])<=r;)n++;t.splice(n,0,e)}function y(){}function b(t,e){var i;return Object.create?i=Object.create(t):(y.prototype=t,i=new y),e&&h(e,i),i}function x(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Is.test(t))}function w(t,e){return e?!!(e.source.indexOf("\\w")>-1&&x(t))||e.test(t):x(t)}function k(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}function S(t){return t.charCodeAt(0)>=768&&zs.test(t)}function C(t,e,i){for(;(i<0?e>0:e<t.length)&&S(t.charAt(e));)e+=i;return e}function T(t,e,i){for(;;){if(Math.abs(e-i)<=1)return t(e)?e:i;var n=Math.floor((e+i)/2);t(n)?i=n:e=n}}function M(t,e,i){var o=this;this.input=i,o.scrollbarFiller=n("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=n("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=r("div",null,"CodeMirror-code"),o.selectionDiv=n("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=n("div",null,"CodeMirror-cursors"),o.measure=n("div",null,"CodeMirror-measure"),o.lineMeasure=n("div",null,"CodeMirror-measure"),o.lineSpace=r("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var s=r("div",[o.lineSpace],"CodeMirror-lines");o.mover=n("div",[s],null,"position: relative"),o.sizer=n("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=n("div",null,null,"position: absolute; height: "+Os+"px; width: 1px;"),o.gutters=n("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=n("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=n("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),os&&ss<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),as||es&&ms||(o.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(o.wrapper):t(o.wrapper)),o.viewFrom=o.viewTo=e.first,o.reportedViewFrom=o.reportedViewTo=e.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,i.init(o)}function A(t,e){if(e-=t.first,e<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var i=t;!i.lines;)for(var n=0;;++n){var r=i.children[n],o=r.chunkSize();if(e<o){i=r;break}e-=o}return i.lines[e]}function L(t,e,i){var n=[],r=e.line;return t.iter(e.line,i.line+1,function(t){var o=t.text;r==i.line&&(o=o.slice(0,i.ch)),r==e.line&&(o=o.slice(e.ch)),n.push(o),++r}),n}function O(t,e,i){var n=[];return t.iter(e,i,function(t){n.push(t.text)}),n}function D(t,e){var i=e-t.height;if(i)for(var n=t;n;n=n.parent)n.height+=i}function _(t){if(null==t.parent)return null;for(var e=t.parent,i=d(e.lines,t),n=e.parent;n;e=n,n=n.parent)for(var r=0;n.children[r]!=e;++r)i+=n.children[r].chunkSize();return i+e.first}function P(t,e){var i=t.first;t:do{for(var n=0;n<t.children.length;++n){var r=t.children[n],o=r.height;if(e<o){t=r;continue t}e-=o,i+=r.chunkSize()}return i}while(!t.lines);for(var s=0;s<t.lines.length;++s){var a=t.lines[s],l=a.height;if(e<l)break;e-=l}return i+s}function E(t,e){return e>=t.first&&e<t.first+t.size}function N(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function I(t,e,i){return void 0===i&&(i=null),this instanceof I?(this.line=t,this.ch=e,void(this.sticky=i)):new I(t,e,i)}function z(t,e){return t.line-e.line||t.ch-e.ch}function R(t,e){return t.sticky==e.sticky&&0==z(t,e)}function H(t){return I(t.line,t.ch)}function B(t,e){return z(t,e)<0?e:t}function W(t,e){return z(t,e)<0?t:e}function j(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function F(t,e){if(e.line<t.first)return I(t.first,0);var i=t.first+t.size-1;return e.line>i?I(i,A(t,i).text.length):$(e,A(t,e.line).text.length)}function $(t,e){var i=t.ch;return null==i||i>e?I(t.line,e):i<0?I(t.line,0):t}function G(t,e){for(var i=[],n=0;n<e.length;n++)i[n]=F(t,e[n]);return i}function X(){Rs=!0}function Y(){Hs=!0}function q(t,e,i){this.marker=t,this.from=e,this.to=i}function U(t,e){if(t)for(var i=0;i<t.length;++i){var n=t[i];if(n.marker==e)return n}}function V(t,e){for(var i,n=0;n<t.length;++n)t[n]!=e&&(i||(i=[])).push(t[n]);return i}function K(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}function Z(t,e,i){var n;if(t)for(var r=0;r<t.length;++r){var o=t[r],s=o.marker,a=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);if(a||o.from==e&&"bookmark"==s.type&&(!i||!o.marker.insertLeft)){var l=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);(n||(n=[])).push(new q(s,o.from,l?null:o.to))}}return n}function J(t,e,i){var n;if(t)for(var r=0;r<t.length;++r){var o=t[r],s=o.marker,a=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);if(a||o.from==e&&"bookmark"==s.type&&(!i||o.marker.insertLeft)){var l=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);(n||(n=[])).push(new q(s,l?null:o.from-e,null==o.to?null:o.to-e))}}return n}function Q(t,e){if(e.full)return null;var i=E(t,e.from.line)&&A(t,e.from.line).markedSpans,n=E(t,e.to.line)&&A(t,e.to.line).markedSpans;if(!i&&!n)return null;var r=e.from.ch,o=e.to.ch,s=0==z(e.from,e.to),a=Z(i,r,s),l=J(n,o,s),c=1==e.text.length,h=g(e.text).length+(c?r:0);if(a)for(var u=0;u<a.length;++u){var d=a[u];if(null==d.to){var f=U(l,d.marker);f?c&&(d.to=null==f.to?null:f.to+h):d.to=r}}if(l)for(var p=0;p<l.length;++p){var m=l[p];if(null!=m.to&&(m.to+=h),null==m.from){var v=U(a,m.marker);v||(m.from=h,c&&(a||(a=[])).push(m))}else m.from+=h,c&&(a||(a=[])).push(m)}a&&(a=tt(a)),l&&l!=a&&(l=tt(l));var y=[a];if(!c){var b,x=e.text.length-2;if(x>0&&a)for(var w=0;w<a.length;++w)null==a[w].to&&(b||(b=[])).push(new q(a[w].marker,null,null));for(var k=0;k<x;++k)y.push(b);y.push(l)}return y}function tt(t){for(var e=0;e<t.length;++e){var i=t[e];null!=i.from&&i.from==i.to&&i.marker.clearWhenEmpty!==!1&&t.splice(e--,1)}return t.length?t:null}function et(t,e,i){var n=null;if(t.iter(e.line,i.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var i=t.markedSpans[e].marker;!i.readOnly||n&&d(n,i)!=-1||(n||(n=[])).push(i)}}),!n)return null;for(var r=[{from:e,to:i}],o=0;o<n.length;++o)for(var s=n[o],a=s.find(0),l=0;l<r.length;++l){var c=r[l];if(!(z(c.to,a.from)<0||z(c.from,a.to)>0)){var h=[l,1],u=z(c.from,a.from),f=z(c.to,a.to);(u<0||!s.inclusiveLeft&&!u)&&h.push({from:c.from,to:a.from}),(f>0||!s.inclusiveRight&&!f)&&h.push({from:a.to,to:c.to}),r.splice.apply(r,h),l+=h.length-3}}return r}function it(t){var e=t.markedSpans;if(e){for(var i=0;i<e.length;++i)e[i].marker.detachLine(t);t.markedSpans=null}}function nt(t,e){if(e){for(var i=0;i<e.length;++i)e[i].marker.attachLine(t);t.markedSpans=e}}function rt(t){return t.inclusiveLeft?-1:0}function ot(t){return t.inclusiveRight?1:0}function st(t,e){var i=t.lines.length-e.lines.length;if(0!=i)return i;var n=t.find(),r=e.find(),o=z(n.from,r.from)||rt(t)-rt(e);if(o)return-o;var s=z(n.to,r.to)||ot(t)-ot(e);return s?s:e.id-t.id}function at(t,e){var i,n=Hs&&t.markedSpans;if(n)for(var r=void 0,o=0;o<n.length;++o)r=n[o],r.marker.collapsed&&null==(e?r.from:r.to)&&(!i||st(i,r.marker)<0)&&(i=r.marker);return i}function lt(t){return at(t,!0)}function ct(t){return at(t,!1)}function ht(t,e,i,n,r){var o=A(t,e),s=Hs&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),h=z(c.from,i)||rt(l.marker)-rt(r),u=z(c.to,n)||ot(l.marker)-ot(r);if(!(h>=0&&u<=0||h<=0&&u>=0)&&(h<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?z(c.to,i)>=0:z(c.to,i)>0)||h>=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?z(c.from,n)<=0:z(c.from,n)<0)))return!0}}}function ut(t){for(var e;e=lt(t);)t=e.find(-1,!0).line;return t}function dt(t){for(var e;e=ct(t);)t=e.find(1,!0).line;return t}function ft(t){for(var e,i;e=ct(t);)t=e.find(1,!0).line,(i||(i=[])).push(t);return i}function pt(t,e){var i=A(t,e),n=ut(i);return i==n?e:_(n)}function gt(t,e){if(e>t.lastLine())return e;var i,n=A(t,e);if(!mt(t,n))return e;for(;i=ct(n);)n=i.find(1,!0).line;return _(n)+1}function mt(t,e){var i=Hs&&e.markedSpans;if(i)for(var n=void 0,r=0;r<i.length;++r)if(n=i[r],n.marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&vt(t,e,n))return!0}}function vt(t,e,i){if(null==i.to){var n=i.marker.find(1,!0);return vt(t,n.line,U(n.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==e.text.length)return!0;for(var r=void 0,o=0;o<e.markedSpans.length;++o)if(r=e.markedSpans[o],r.marker.collapsed&&!r.marker.widgetNode&&r.from==i.to&&(null==r.to||r.to!=i.from)&&(r.marker.inclusiveLeft||i.marker.inclusiveRight)&&vt(t,e,r))return!0}function yt(t){t=ut(t);for(var e=0,i=t.parent,n=0;n<i.lines.length;++n){var r=i.lines[n];if(r==t)break;e+=r.height}for(var o=i.parent;o;i=o,o=i.parent)for(var s=0;s<o.children.length;++s){var a=o.children[s];if(a==i)break;e+=a.height}return e}function bt(t){if(0==t.height)return 0;for(var e,i=t.text.length,n=t;e=lt(n);){var r=e.find(0,!0);n=r.from.line,i+=r.from.ch-r.to.ch}for(n=t;e=ct(n);){var o=e.find(0,!0);i-=n.text.length-o.from.ch,n=o.to.line,i+=n.text.length-o.to.ch}return i}function xt(t){var e=t.display,i=t.doc;e.maxLine=A(i,i.first),e.maxLineLength=bt(e.maxLine),e.maxLineChanged=!0,i.iter(function(t){var i=bt(t);i>e.maxLineLength&&(e.maxLineLength=i,e.maxLine=t)})}function wt(t,e,i,n){if(!t)return n(e,i,"ltr");for(var r=!1,o=0;o<t.length;++o){var s=t[o];(s.from<i&&s.to>e||e==i&&s.to==e)&&(n(Math.max(s.from,e),Math.min(s.to,i),1==s.level?"rtl":"ltr"),r=!0)}r||n(e,i,"ltr")}function kt(t,e,i){var n;Bs=null;for(var r=0;r<t.length;++r){var o=t[r];if(o.from<e&&o.to>e)return r;o.to==e&&(o.from!=o.to&&"before"==i?n=r:Bs=r),o.from==e&&(o.from!=o.to&&"before"!=i?n=r:Bs=r)}return null!=n?n:Bs}function St(t,e){var i=t.order;return null==i&&(i=t.order=Ws(t.text,e)),i}function Ct(t,e,i){var n=C(t.text,e+i,i);return n<0||n>t.text.length?null:n}function Tt(t,e,i){var n=Ct(t,e.ch,i);return null==n?null:new I(e.line,n,i<0?"after":"before")}function Mt(t,e,i,n,r){if(t){var o=St(i,e.doc.direction);if(o){var s,a=r<0?g(o):o[0],l=r<0==(1==a.level),c=l?"after":"before";if(a.level>0){var h=Ke(e,i);s=r<0?i.text.length-1:0;var u=Ze(e,h,s).top;s=T(function(t){return Ze(e,h,t).top==u},r<0==(1==a.level)?a.from:a.to-1,s),"before"==c&&(s=Ct(i,s,1))}else s=r<0?a.to:a.from;return new I(n,s,c)}}return new I(n,r<0?i.text.length:0,r<0?"before":"after")}function At(t,e,i,n){var r=St(e,t.doc.direction);if(!r)return Tt(e,i,n);i.ch>=e.text.length?(i.ch=e.text.length,i.sticky="before"):i.ch<=0&&(i.ch=0,i.sticky="after");var o=kt(r,i.ch,i.sticky),s=r[o];if("ltr"==t.doc.direction&&s.level%2==0&&(n>0?s.to>i.ch:s.from<i.ch))return Tt(e,i,n);var a,l=function(t,i){return Ct(e,t instanceof I?t.ch:t,i)},c=function(i){return t.options.lineWrapping?(a=a||Ke(t,e),gi(t,e,a,i)):{begin:0,end:e.text.length}},h=c("before"==i.sticky?l(i,-1):i.ch);if("rtl"==t.doc.direction||1==s.level){var u=1==s.level==n<0,d=l(i,u?1:-1);if(null!=d&&(u?d<=s.to&&d<=h.end:d>=s.from&&d>=h.begin)){var f=u?"before":"after";return new I(i.line,d,f)}}var p=function(t,e,n){for(var o=function(t,e){return e?new I(i.line,l(t,1),"before"):new I(i.line,t,"after")};t>=0&&t<r.length;t+=e){var s=r[t],a=e>0==(1!=s.level),c=a?n.begin:l(n.end,-1);if(s.from<=c&&c<s.to)return o(c,a);if(c=a?s.from:l(s.to,-1),n.begin<=c&&c<n.end)return o(c,a)}},g=p(o+n,n,h);if(g)return g;var m=n>0?h.end:l(h.begin,-1);return null==m||n>0&&m==e.text.length||!(g=p(n>0?0:r.length-1,n,c(m)))?null:g}function Lt(t,e){return t._handlers&&t._handlers[e]||js}function Ot(t,e,i){if(t.removeEventListener)t.removeEventListener(e,i,!1);else if(t.detachEvent)t.detachEvent("on"+e,i);else{var n=t._handlers,r=n&&n[e];if(r){var o=d(r,i);o>-1&&(n[e]=r.slice(0,o).concat(r.slice(o+1)))}}}function Dt(t,e){var i=Lt(t,e);if(i.length)for(var n=Array.prototype.slice.call(arguments,2),r=0;r<i.length;++r)i[r].apply(null,n)}function _t(t,e,i){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),Dt(t,i||e.type,t,e),Rt(e)||e.codemirrorIgnore}function Pt(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var i=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),n=0;n<e.length;++n)d(i,e[n])==-1&&i.push(e[n])}function Et(t,e){return Lt(t,e).length>0}function Nt(t){t.prototype.on=function(t,e){Fs(this,t,e)},t.prototype.off=function(t,e){Ot(this,t,e)}}function It(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function zt(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function Rt(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function Ht(t){It(t),zt(t)}function Bt(t){return t.target||t.srcElement}function Wt(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),vs&&t.ctrlKey&&1==e&&(e=3),e}function jt(t){if(null==As){var e=n("span","");i(t,n("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(As=e.offsetWidth<=1&&e.offsetHeight>2&&!(os&&ss<8))}var r=As?n("span",""):n("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function Ft(t){if(null!=Ls)return Ls;var n=i(t,document.createTextNode("AA")),r=ws(n,0,1).getBoundingClientRect(),o=ws(n,1,2).getBoundingClientRect();return e(t),!(!r||r.left==r.right)&&(Ls=o.right-r.right<3)}function $t(t){if(null!=qs)return qs;var e=i(t,n("span","x")),r=e.getBoundingClientRect(),o=ws(e,0,1).getBoundingClientRect();return qs=Math.abs(r.left-o.left)>1}function Gt(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),Us[t]=e}function Xt(t,e){Vs[t]=e}function Yt(t){if("string"==typeof t&&Vs.hasOwnProperty(t))t=Vs[t];else if(t&&"string"==typeof t.name&&Vs.hasOwnProperty(t.name)){var e=Vs[t.name];"string"==typeof e&&(e={name:e}),t=b(e,t),t.name=e.name}else{if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return Yt("application/xml");if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return Yt("application/json")}return"string"==typeof t?{name:t}:t||{name:"null"}}function qt(t,e){e=Yt(e);var i=Us[e.name];if(!i)return qt(t,"text/plain");var n=i(t,e);if(Ks.hasOwnProperty(e.name)){var r=Ks[e.name];for(var o in r)r.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=r[o])}if(n.name=e.name,e.helperType&&(n.helperType=e.helperType),e.modeProps)for(var s in e.modeProps)n[s]=e.modeProps[s];return n}function Ut(t,e){var i=Ks.hasOwnProperty(t)?Ks[t]:Ks[t]={};h(e,i)}function Vt(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var i={};for(var n in e){var r=e[n];r instanceof Array&&(r=r.concat([])),i[n]=r}return i}function Kt(t,e){for(var i;t.innerMode&&(i=t.innerMode(e),i&&i.mode!=t);)e=i.state,t=i.mode;return i||{mode:t,state:e}}function Zt(t,e,i){return!t.startState||t.startState(e,i)}function Jt(t,e,i,n){var r=[t.state.modeGen],o={};se(t,e.text,t.doc.mode,i,function(t,e){return r.push(t,e)},o,n);for(var s=function(i){var n=t.state.overlays[i],s=1,a=0;se(t,e.text,n.mode,!0,function(t,e){for(var i=s;a<t;){var o=r[s];o>t&&r.splice(s,1,t,r[s+1],o),s+=2,a=Math.min(t,o)}if(e)if(n.opaque)r.splice(i,s-i,t,"overlay "+e),s=i+2;else for(;i<s;i+=2){var l=r[i+1];r[i+1]=(l?l+" ":"")+"overlay "+e}},o)},a=0;a<t.state.overlays.length;++a)s(a);return{styles:r,classes:o.bgClass||o.textClass?o:null}}function Qt(t,e,i){if(!e.styles||e.styles[0]!=t.state.modeGen){var n=te(t,_(e)),r=Jt(t,e,e.text.length>t.options.maxHighlightLength?Vt(t.doc.mode,n):n);e.stateAfter=n,e.styles=r.styles,r.classes?e.styleClasses=r.classes:e.styleClasses&&(e.styleClasses=null),i===t.doc.frontier&&t.doc.frontier++}return e.styles}function te(t,e,i){var n=t.doc,r=t.display;if(!n.mode.startState)return!0;var o=ae(t,e,i),s=o>n.first&&A(n,o-1).stateAfter;return s=s?Vt(n.mode,s):Zt(n.mode),n.iter(o,e,function(i){ee(t,i.text,s);var a=o==e-1||o%5==0||o>=r.viewFrom&&o<r.viewTo;i.stateAfter=a?Vt(n.mode,s):null,++o}),i&&(n.frontier=o),s}function ee(t,e,i,n){var r=t.doc.mode,o=new Zs(e,t.options.tabSize);for(o.start=o.pos=n||0,""==e&&ie(r,i);!o.eol();)ne(r,o,i),o.start=o.pos}function ie(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var i=Kt(t,e);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function ne(t,e,i,n){for(var r=0;r<10;r++){n&&(n[0]=Kt(t,i).mode);var o=t.token(e,i);if(e.pos>e.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}function re(t,e,i,n){var r,o=function(t){return{start:u.start,end:u.pos,string:u.current(),type:r||null,state:t?Vt(s.mode,h):h}},s=t.doc,a=s.mode;e=F(s,e);var l,c=A(s,e.line),h=te(t,e.line,i),u=new Zs(c.text,t.options.tabSize);for(n&&(l=[]);(n||u.pos<e.ch)&&!u.eol();)u.start=u.pos,r=ne(a,u,h),n&&l.push(o(!0));return n?l:o()}function oe(t,e){if(t)for(;;){var i=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i)break;t=t.slice(0,i.index)+t.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";null==e[n]?e[n]=i[2]:new RegExp("(?:^|s)"+i[2]+"(?:$|s)").test(e[n])||(e[n]+=" "+i[2])}return t}function se(t,e,i,n,r,o,s){var a=i.flattenSpans;null==a&&(a=t.options.flattenSpans);var l,c=0,h=null,u=new Zs(e,t.options.tabSize),d=t.options.addModeClass&&[null];for(""==e&&oe(ie(i,n),o);!u.eol();){if(u.pos>t.options.maxHighlightLength?(a=!1,s&&ee(t,e,n,u.pos),u.pos=e.length,l=null):l=oe(ne(i,u,n,d),o),d){var f=d[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!a||h!=l){for(;c<u.start;)c=Math.min(u.start,c+5e3),r(c,h);h=l}u.start=u.pos}for(;c<u.pos;){var p=Math.min(u.pos,c+5e3);r(p,h),c=p}}function ae(t,e,i){for(var n,r,o=t.doc,s=i?-1:e-(t.doc.mode.innerMode?1e3:100),a=e;a>s;--a){if(a<=o.first)return o.first;var l=A(o,a-1);if(l.stateAfter&&(!i||a<=o.frontier))return a;var c=u(l.text,null,t.options.tabSize);(null==r||n>c)&&(r=a-1,n=c)}return r}function le(t,e,i,n){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),it(t),nt(t,i);var r=n?n(t):1;r!=t.height&&D(t,r)}function ce(t){t.parent=null,it(t)}function he(t,e){if(!t||/^\s*$/.test(t))return null;var i=e.addModeClass?ea:ta;return i[t]||(i[t]=t.replace(/\S+/g,"cm-$&"))}function ue(t,e){var i=r("span",null,null,as?"padding-right: .1px":null),n={pre:r("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:(os||as)&&t.getOption("lineWrapping")};e.measure={};for(var o=0;o<=(e.rest?e.rest.length:0);o++){var s=o?e.rest[o-1]:e.line,a=void 0;n.pos=0,n.addToken=fe,Ft(t.display.measure)&&(a=St(s,t.doc.direction))&&(n.addToken=ge(n.addToken,a)),n.map=[];var c=e!=t.display.externalMeasured&&_(s);ve(s,n,Qt(t,s,c)),s.styleClasses&&(s.styleClasses.bgClass&&(n.bgClass=l(s.styleClasses.bgClass,n.bgClass||"")),s.styleClasses.textClass&&(n.textClass=l(s.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(jt(t.display.measure))),0==o?(e.measure.map=n.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(n.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(as){var h=n.content.lastChild;(/\bcm-tab\b/.test(h.className)||h.querySelector&&h.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return Dt(t,"renderLine",t,e.line,n.pre),n.pre.className&&(n.textClass=l(n.pre.className,n.textClass||"")),n}function de(t){var e=n("span","","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function fe(t,e,i,r,o,s,a){if(e){var l,c=t.splitSpaces?pe(e,t.trailingSpace):e,h=t.cm.state.specialChars,u=!1;if(h.test(e)){l=document.createDocumentFragment();for(var d=0;;){h.lastIndex=d;var f=h.exec(e),g=f?f.index-d:e.length-d;if(g){var m=document.createTextNode(c.slice(d,d+g));os&&ss<9?l.appendChild(n("span",[m])):l.appendChild(m),t.map.push(t.pos,t.pos+g,m),t.col+=g,t.pos+=g}if(!f)break;d+=g+1;var v=void 0;if("\t"==f[0]){var y=t.cm.options.tabSize,b=y-t.col%y;v=l.appendChild(n("span",p(b),"cm-tab")),v.setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),t.col+=b}else"\r"==f[0]||"\n"==f[0]?(v=l.appendChild(n("span","\r"==f[0]?"":"","cm-invalidchar")),v.setAttribute("cm-text",f[0]),t.col+=1):(v=t.cm.options.specialCharPlaceholder(f[0]),v.setAttribute("cm-text",f[0]),os&&ss<9?l.appendChild(n("span",[v])):l.appendChild(v),t.col+=1);t.map.push(t.pos,t.pos+1,v),t.pos++}}else t.col+=e.length,l=document.createTextNode(c),t.map.push(t.pos,t.pos+e.length,l),os&&ss<9&&(u=!0),t.pos+=e.length;if(t.trailingSpace=32==c.charCodeAt(e.length-1),i||r||o||u||a){var x=i||"";r&&(x+=r),o&&(x+=o);var w=n("span",[l],x,a);return s&&(w.title=s),t.content.appendChild(w)}t.content.appendChild(l)}}function pe(t,e){if(t.length>1&&!/  /.test(t))return t;for(var i=e,n="",r=0;r<t.length;r++){var o=t.charAt(r);" "!=o||!i||r!=t.length-1&&32!=t.charCodeAt(r+1)||(o=""),n+=o,i=" "==o}return n}function ge(t,e){return function(i,n,r,o,s,a,l){r=r?r+" cm-force-border":"cm-force-border";for(var c=i.pos,h=c+n.length;;){for(var u=void 0,d=0;d<e.length&&(u=e[d],!(u.to>c&&u.from<=c));d++);if(u.to>=h)return t(i,n,r,o,s,a,l);t(i,n.slice(0,u.to-c),r,o,null,a,l),o=null,n=n.slice(u.to-c),c=u.to}}}function me(t,e,i,n){var r=!n&&i.widgetNode;r&&t.map.push(t.pos,t.pos+e,r),!n&&t.cm.display.input.needsContentAttribute&&(r||(r=t.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",i.id)),r&&(t.cm.display.input.setUneditable(r),t.content.appendChild(r)),t.pos+=e,t.trailingSpace=!1}function ve(t,e,i){var n=t.markedSpans,r=t.text,o=0;if(n)for(var s,a,l,c,h,u,d,f=r.length,p=0,g=1,m="",v=0;;){if(v==p){l=c=h=u=a="",d=null,v=1/0;for(var y=[],b=void 0,x=0;x<n.length;++x){var w=n[x],k=w.marker;"bookmark"==k.type&&w.from==p&&k.widgetNode?y.push(k):w.from<=p&&(null==w.to||w.to>p||k.collapsed&&w.to==p&&w.from==p)?(null!=w.to&&w.to!=p&&v>w.to&&(v=w.to,c=""),k.className&&(l+=" "+k.className),k.css&&(a=(a?a+";":"")+k.css),k.startStyle&&w.from==p&&(h+=" "+k.startStyle),k.endStyle&&w.to==v&&(b||(b=[])).push(k.endStyle,w.to),k.title&&!u&&(u=k.title),k.collapsed&&(!d||st(d.marker,k)<0)&&(d=w)):w.from>p&&v>w.from&&(v=w.from)}if(b)for(var S=0;S<b.length;S+=2)b[S+1]==v&&(c+=" "+b[S]);if(!d||d.from==p)for(var C=0;C<y.length;++C)me(e,0,y[C]);if(d&&(d.from||0)==p){if(me(e,(null==d.to?f+1:d.to)-p,d.marker,null==d.from),null==d.to)return;d.to==p&&(d=!1);
}}if(p>=f)break;for(var T=Math.min(f,v);;){if(m){var M=p+m.length;if(!d){var A=M>T?m.slice(0,T-p):m;e.addToken(e,A,s?s+l:l,h,p+A.length==v?c:"",u,a)}if(M>=T){m=m.slice(T-p),p=T;break}p=M,h=""}m=r.slice(o,o=i[g++]),s=he(i[g++],e.cm.options)}}else for(var L=1;L<i.length;L+=2)e.addToken(e,r.slice(o,o=i[L]),he(i[L+1],e.cm.options))}function ye(t,e,i){this.line=e,this.rest=ft(e),this.size=this.rest?_(g(this.rest))-i+1:1,this.node=this.text=null,this.hidden=mt(t,e)}function be(t,e,i){for(var n,r=[],o=e;o<i;o=n){var s=new ye(t.doc,A(t.doc,o),o);n=o+s.size,r.push(s)}return r}function xe(t){ia?ia.ops.push(t):t.ownsGroup=ia={ops:[t],delayedCallbacks:[]}}function we(t){var e=t.delayedCallbacks,i=0;do{for(;i<e.length;i++)e[i].call(null);for(var n=0;n<t.ops.length;n++){var r=t.ops[n];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(i<e.length)}function ke(t,e){var i=t.ownsGroup;if(i)try{we(i)}finally{ia=null,e(i)}}function Se(t,e){var i=Lt(t,e);if(i.length){var n,r=Array.prototype.slice.call(arguments,2);ia?n=ia.delayedCallbacks:na?n=na:(n=na=[],setTimeout(Ce,0));for(var o=function(t){n.push(function(){return i[t].apply(null,r)})},s=0;s<i.length;++s)o(s)}}function Ce(){var t=na;na=null;for(var e=0;e<t.length;++e)t[e]()}function Te(t,e,i,n){for(var r=0;r<e.changes.length;r++){var o=e.changes[r];"text"==o?Oe(t,e):"gutter"==o?_e(t,e,i,n):"class"==o?De(t,e):"widget"==o&&Pe(t,e,n)}e.changes=null}function Me(t){return t.node==t.text&&(t.node=n("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),os&&ss<8&&(t.node.style.zIndex=2)),t.node}function Ae(t,e){var i=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(i&&(i+=" CodeMirror-linebackground"),e.background)i?e.background.className=i:(e.background.parentNode.removeChild(e.background),e.background=null);else if(i){var r=Me(e);e.background=r.insertBefore(n("div",null,i),r.firstChild),t.display.input.setUneditable(e.background)}}function Le(t,e){var i=t.display.externalMeasured;return i&&i.line==e.line?(t.display.externalMeasured=null,e.measure=i.measure,i.built):ue(t,e)}function Oe(t,e){var i=e.text.className,n=Le(t,e);e.text==e.node&&(e.node=n.pre),e.text.parentNode.replaceChild(n.pre,e.text),e.text=n.pre,n.bgClass!=e.bgClass||n.textClass!=e.textClass?(e.bgClass=n.bgClass,e.textClass=n.textClass,De(t,e)):i&&(e.text.className=i)}function De(t,e){Ae(t,e),e.line.wrapClass?Me(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var i=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=i||""}function _e(t,e,i,r){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var o=Me(e);e.gutterBackground=n("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),o.insertBefore(e.gutterBackground,e.text)}var s=e.line.gutterMarkers;if(t.options.lineNumbers||s){var a=Me(e),l=e.gutter=n("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(t.display.input.setUneditable(l),a.insertBefore(l,e.text),e.line.gutterClass&&(l.className+=" "+e.line.gutterClass),!t.options.lineNumbers||s&&s["CodeMirror-linenumbers"]||(e.lineNumber=l.appendChild(n("div",N(t.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),s)for(var c=0;c<t.options.gutters.length;++c){var h=t.options.gutters[c],u=s.hasOwnProperty(h)&&s[h];u&&l.appendChild(n("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[h]+"px; width: "+r.gutterWidth[h]+"px"))}}}function Pe(t,e,i){e.alignable&&(e.alignable=null);for(var n=e.node.firstChild,r=void 0;n;n=r)r=n.nextSibling,"CodeMirror-linewidget"==n.className&&e.node.removeChild(n);Ne(t,e,i)}function Ee(t,e,i,n){var r=Le(t,e);return e.text=e.node=r.pre,r.bgClass&&(e.bgClass=r.bgClass),r.textClass&&(e.textClass=r.textClass),De(t,e),_e(t,e,i,n),Ne(t,e,n),e.node}function Ne(t,e,i){if(Ie(t,e.line,e,i,!0),e.rest)for(var n=0;n<e.rest.length;n++)Ie(t,e.rest[n],e,i,!1)}function Ie(t,e,i,r,o){if(e.widgets)for(var s=Me(i),a=0,l=e.widgets;a<l.length;++a){var c=l[a],h=n("div",[c.node],"CodeMirror-linewidget");c.handleMouseEvents||h.setAttribute("cm-ignore-events","true"),ze(c,h,i,r),t.display.input.setUneditable(h),o&&c.above?s.insertBefore(h,i.gutter||i.text):s.appendChild(h),Se(c,"redraw")}}function ze(t,e,i,n){if(t.noHScroll){(i.alignable||(i.alignable=[])).push(e);var r=n.wrapperWidth;e.style.left=n.fixedPos+"px",t.coverGutter||(r-=n.gutterTotalWidth,e.style.paddingLeft=n.gutterTotalWidth+"px"),e.style.width=r+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-n.gutterTotalWidth+"px"))}function Re(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!o(document.body,t.node)){var r="position: relative;";t.coverGutter&&(r+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(r+="width: "+e.display.wrapper.clientWidth+"px;"),i(e.display.measure,n("div",[t.node],null,r))}return t.height=t.node.parentNode.offsetHeight}function He(t,e){for(var i=Bt(e);i!=t.wrapper;i=i.parentNode)if(!i||1==i.nodeType&&"true"==i.getAttribute("cm-ignore-events")||i.parentNode==t.sizer&&i!=t.mover)return!0}function Be(t){return t.lineSpace.offsetTop}function We(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function je(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=i(t.measure,n("pre","x")),r=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,o={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(o.left)||isNaN(o.right)||(t.cachedPaddingH=o),o}function Fe(t){return Os-t.display.nativeBarWidth}function $e(t){return t.display.scroller.clientWidth-Fe(t)-t.display.barWidth}function Ge(t){return t.display.scroller.clientHeight-Fe(t)-t.display.barHeight}function Xe(t,e,i){var n=t.options.lineWrapping,r=n&&$e(t);if(!e.measure.heights||n&&e.measure.width!=r){var o=e.measure.heights=[];if(n){e.measure.width=r;for(var s=e.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-i.top)}}o.push(i.bottom-i.top)}}function Ye(t,e,i){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var n=0;n<t.rest.length;n++)if(t.rest[n]==e)return{map:t.measure.maps[n],cache:t.measure.caches[n]};for(var r=0;r<t.rest.length;r++)if(_(t.rest[r])>i)return{map:t.measure.maps[r],cache:t.measure.caches[r],before:!0}}function qe(t,e){e=ut(e);var n=_(e),r=t.display.externalMeasured=new ye(t.doc,e,n);r.lineN=n;var o=r.built=ue(t,r);return r.text=o.pre,i(t.display.lineMeasure,o.pre),r}function Ue(t,e,i,n){return Ze(t,Ke(t,e),i,n)}function Ve(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[Ci(t,e)];var i=t.display.externalMeasured;return i&&e>=i.lineN&&e<i.lineN+i.size?i:void 0}function Ke(t,e){var i=_(e),n=Ve(t,i);n&&!n.text?n=null:n&&n.changes&&(Te(t,n,i,bi(t)),t.curOp.forceUpdate=!0),n||(n=qe(t,e));var r=Ye(n,e,i);return{line:e,view:n,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function Ze(t,e,i,n,r){e.before&&(i=-1);var o,s=i+(n||"");return e.cache.hasOwnProperty(s)?o=e.cache[s]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(Xe(t,e.view,e.rect),e.hasHeights=!0),o=ti(t,e,i,n),o.bogus||(e.cache[s]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}function Je(t,e,i){for(var n,r,o,s,a,l,c=0;c<t.length;c+=3)if(a=t[c],l=t[c+1],e<a?(r=0,o=1,s="left"):e<l?(r=e-a,o=r+1):(c==t.length-3||e==l&&t[c+3]>e)&&(o=l-a,r=o-1,e>=l&&(s="right")),null!=r){if(n=t[c+2],a==l&&i==(n.insertLeft?"left":"right")&&(s=i),"left"==i&&0==r)for(;c&&t[c-2]==t[c-3]&&t[c-1].insertLeft;)n=t[(c-=3)+2],s="left";if("right"==i&&r==l-a)for(;c<t.length-3&&t[c+3]==t[c+4]&&!t[c+5].insertLeft;)n=t[(c+=3)+2],s="right";break}return{node:n,start:r,end:o,collapse:s,coverStart:a,coverEnd:l}}function Qe(t,e){var i=ra;if("left"==e)for(var n=0;n<t.length&&(i=t[n]).left==i.right;n++);else for(var r=t.length-1;r>=0&&(i=t[r]).left==i.right;r--);return i}function ti(t,e,i,n){var r,o=Je(e.map,i,n),s=o.node,a=o.start,l=o.end,c=o.collapse;if(3==s.nodeType){for(var h=0;h<4;h++){for(;a&&S(e.line.text.charAt(o.coverStart+a));)--a;for(;o.coverStart+l<o.coverEnd&&S(e.line.text.charAt(o.coverStart+l));)++l;if(r=os&&ss<9&&0==a&&l==o.coverEnd-o.coverStart?s.parentNode.getBoundingClientRect():Qe(ws(s,a,l).getClientRects(),n),r.left||r.right||0==a)break;l=a,a-=1,c="right"}os&&ss<11&&(r=ei(t.display.measure,r))}else{a>0&&(c=n="right");var u;r=t.options.lineWrapping&&(u=s.getClientRects()).length>1?u["right"==n?u.length-1:0]:s.getBoundingClientRect()}if(os&&ss<9&&!a&&(!r||!r.left&&!r.right)){var d=s.parentNode.getClientRects()[0];r=d?{left:d.left,right:d.left+yi(t.display),top:d.top,bottom:d.bottom}:ra}for(var f=r.top-e.rect.top,p=r.bottom-e.rect.top,g=(f+p)/2,m=e.view.measure.heights,v=0;v<m.length-1&&!(g<m[v]);v++);var y=v?m[v-1]:0,b=m[v],x={left:("right"==c?r.right:r.left)-e.rect.left,right:("left"==c?r.left:r.right)-e.rect.left,top:y,bottom:b};return r.left||r.right||(x.bogus=!0),t.options.singleCursorHeightPerLine||(x.rtop=f,x.rbottom=p),x}function ei(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!$t(t))return e;var i=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*i,right:e.right*i,top:e.top*n,bottom:e.bottom*n}}function ii(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function ni(t){t.display.externalMeasure=null,e(t.display.lineMeasure);for(var i=0;i<t.display.view.length;i++)ii(t.display.view[i])}function ri(t){ni(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function oi(){return cs&&gs?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function si(){return cs&&gs?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function ai(t,e,i,n,r){if(!r&&e.widgets)for(var o=0;o<e.widgets.length;++o)if(e.widgets[o].above){var s=Re(e.widgets[o]);i.top+=s,i.bottom+=s}if("line"==n)return i;n||(n="local");var a=yt(e);if("local"==n?a+=Be(t.display):a-=t.display.viewOffset,"page"==n||"window"==n){var l=t.display.lineSpace.getBoundingClientRect();a+=l.top+("window"==n?0:si());var c=l.left+("window"==n?0:oi());i.left+=c,i.right+=c}return i.top+=a,i.bottom+=a,i}function li(t,e,i){if("div"==i)return e;var n=e.left,r=e.top;if("page"==i)n-=oi(),r-=si();else if("local"==i||!i){var o=t.display.sizer.getBoundingClientRect();n+=o.left,r+=o.top}var s=t.display.lineSpace.getBoundingClientRect();return{left:n-s.left,top:r-s.top}}function ci(t,e,i,n,r){return n||(n=A(t.doc,e.line)),ai(t,n,Ue(t,n,e.ch,r),i)}function hi(t,e,i,n,r,o){function s(e,s){var a=Ze(t,r,e,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,ai(t,n,a,i)}function a(t,e,i){var n=l[e],r=n.level%2!=0;return s(i?t-1:t,r!=i)}n=n||A(t.doc,e.line),r||(r=Ke(t,n));var l=St(n,t.doc.direction),c=e.ch,h=e.sticky;if(c>=n.text.length?(c=n.text.length,h="before"):c<=0&&(c=0,h="after"),!l)return s("before"==h?c-1:c,"before"==h);var u=kt(l,c,h),d=Bs,f=a(c,u,"before"==h);return null!=d&&(f.other=a(c,d,"before"!=h)),f}function ui(t,e){var i=0;e=F(t.doc,e),t.options.lineWrapping||(i=yi(t.display)*e.ch);var n=A(t.doc,e.line),r=yt(n)+Be(t.display);return{left:i,right:i,top:r,bottom:r+n.height}}function di(t,e,i,n,r){var o=I(t,e,i);return o.xRel=r,n&&(o.outside=!0),o}function fi(t,e,i){var n=t.doc;if(i+=t.display.viewOffset,i<0)return di(n.first,0,null,!0,-1);var r=P(n,i),o=n.first+n.size-1;if(r>o)return di(n.first+n.size-1,A(n,o).text.length,null,!0,1);e<0&&(e=0);for(var s=A(n,r);;){var a=mi(t,s,r,e,i),l=ct(s),c=l&&l.find(0,!0);if(!l||!(a.ch>c.from.ch||a.ch==c.from.ch&&a.xRel>0))return a;r=_(s=c.to.line)}}function pi(t,e,i,n){var r=function(n){return ai(t,e,Ze(t,i,n),"line")},o=e.text.length,s=T(function(t){return r(t-1).bottom<=n},o,0);return o=T(function(t){return r(t).top>n},s,o),{begin:s,end:o}}function gi(t,e,i,n){var r=ai(t,e,Ze(t,i,n),"line").top;return pi(t,e,i,r)}function mi(t,e,i,n,r){r-=yt(e);var o,s=0,a=e.text.length,l=Ke(t,e),c=St(e,t.doc.direction);if(c){if(t.options.lineWrapping){var h;h=pi(t,e,l,r),s=h.begin,a=h.end,h}o=new I(i,s);var u,d,f=hi(t,o,"line",e,l).left,p=f<n?1:-1,g=f-n;do{if(u=g,d=o,o=At(t,e,o,p),null==o||o.ch<s||a<=("before"==o.sticky?o.ch-1:o.ch)){o=d;break}g=hi(t,o,"line",e,l).left-n}while(p<0!=g<0&&Math.abs(g)<=Math.abs(u));if(Math.abs(g)>Math.abs(u)){if(g<0==u<0)throw new Error("Broke out of infinite loop in coordsCharInner");o=d}}else{var m=T(function(i){var o=ai(t,e,Ze(t,l,i),"line");return o.top>r?(a=Math.min(i,a),!0):!(o.bottom<=r)&&(o.left>n||!(o.right<n)&&n-o.left<o.right-n)},s,a);m=C(e.text,m,1),o=new I(i,m,m==a?"before":"after")}var v=hi(t,o,"line",e,l);return(r<v.top||v.bottom<r)&&(o.outside=!0),o.xRel=n<v.left?-1:n>v.right?1:0,o}function vi(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Qs){Qs=n("pre");for(var r=0;r<49;++r)Qs.appendChild(document.createTextNode("x")),Qs.appendChild(n("br"));Qs.appendChild(document.createTextNode("x"))}i(t.measure,Qs);var o=Qs.offsetHeight/50;return o>3&&(t.cachedTextHeight=o),e(t.measure),o||1}function yi(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=n("span","xxxxxxxxxx"),r=n("pre",[e]);i(t.measure,r);var o=e.getBoundingClientRect(),s=(o.right-o.left)/10;return s>2&&(t.cachedCharWidth=s),s||10}function bi(t){for(var e=t.display,i={},n={},r=e.gutters.clientLeft,o=e.gutters.firstChild,s=0;o;o=o.nextSibling,++s)i[t.options.gutters[s]]=o.offsetLeft+o.clientLeft+r,n[t.options.gutters[s]]=o.clientWidth;return{fixedPos:xi(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:e.wrapper.clientWidth}}function xi(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function wi(t){var e=vi(t.display),i=t.options.lineWrapping,n=i&&Math.max(5,t.display.scroller.clientWidth/yi(t.display)-3);return function(r){if(mt(t.doc,r))return 0;var o=0;if(r.widgets)for(var s=0;s<r.widgets.length;s++)r.widgets[s].height&&(o+=r.widgets[s].height);return i?o+(Math.ceil(r.text.length/n)||1)*e:o+e}}function ki(t){var e=t.doc,i=wi(t);e.iter(function(t){var e=i(t);e!=t.height&&D(t,e)})}function Si(t,e,i,n){var r=t.display;if(!i&&"true"==Bt(e).getAttribute("cm-not-content"))return null;var o,s,a=r.lineSpace.getBoundingClientRect();try{o=e.clientX-a.left,s=e.clientY-a.top}catch(t){return null}var l,c=fi(t,o,s);if(n&&1==c.xRel&&(l=A(t.doc,c.line).text).length==c.ch){var h=u(l,l.length,t.options.tabSize)-l.length;c=I(c.line,Math.max(0,Math.round((o-je(t.display).left)/yi(t.display))-h))}return c}function Ci(t,e){if(e>=t.display.viewTo)return null;if(e-=t.display.viewFrom,e<0)return null;for(var i=t.display.view,n=0;n<i.length;n++)if(e-=i[n].size,e<0)return n}function Ti(t){t.display.input.showSelection(t.display.input.prepareSelection())}function Mi(t,e){for(var i=t.doc,n={},r=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),s=0;s<i.sel.ranges.length;s++)if(e!==!1||s!=i.sel.primIndex){var a=i.sel.ranges[s];if(!(a.from().line>=t.display.viewTo||a.to().line<t.display.viewFrom)){var l=a.empty();(l||t.options.showCursorWhenSelecting)&&Ai(t,a.head,r),l||Li(t,a,o)}}return n}function Ai(t,e,i){var r=hi(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),o=i.appendChild(n("div","","CodeMirror-cursor"));if(o.style.left=r.left+"px",o.style.top=r.top+"px",o.style.height=Math.max(0,r.bottom-r.top)*t.options.cursorHeight+"px",r.other){var s=i.appendChild(n("div","","CodeMirror-cursor CodeMirror-secondarycursor"));s.style.display="",s.style.left=r.other.left+"px",s.style.top=r.other.top+"px",s.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function Li(t,e,i){function r(t,e,i,r){e<0&&(e=0),e=Math.round(e),r=Math.round(r),l.appendChild(n("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px;\n                             top: "+e+"px; width: "+(null==i?u-t:i)+"px;\n                             height: "+(r-e)+"px"))}function o(e,i,n){function o(i,n){return ci(t,I(e,i),"div",c,n)}var s,l,c=A(a,e),d=c.text.length;return wt(St(c,a.direction),i||0,null==n?d:n,function(t,e,a){var c,f,p,g=o(t,"left");if(t==e)c=g,f=p=g.left;else{if(c=o(e-1,"right"),"rtl"==a){var m=g;g=c,c=m}f=g.left,p=c.right}null==i&&0==t&&(f=h),c.top-g.top>3&&(r(f,g.top,null,g.bottom),f=h,g.bottom<c.top&&r(f,g.bottom,null,c.top)),null==n&&e==d&&(p=u),(!s||g.top<s.top||g.top==s.top&&g.left<s.left)&&(s=g),(!l||c.bottom>l.bottom||c.bottom==l.bottom&&c.right>l.right)&&(l=c),f<h+1&&(f=h),r(f,c.top,p-f,c.bottom)}),{start:s,end:l}}var s=t.display,a=t.doc,l=document.createDocumentFragment(),c=je(t.display),h=c.left,u=Math.max(s.sizerWidth,$e(t)-s.sizer.offsetLeft)-c.right,d=e.from(),f=e.to();if(d.line==f.line)o(d.line,d.ch,f.ch);else{var p=A(a,d.line),g=A(a,f.line),m=ut(p)==ut(g),v=o(d.line,d.ch,m?p.text.length+1:null).end,y=o(f.line,m?0:null,f.ch).start;m&&(v.top<y.top-2?(r(v.right,v.top,null,v.bottom),r(h,y.top,y.left,y.bottom)):r(v.right,v.top,y.left-v.right,v.bottom)),v.bottom<y.top&&r(h,v.bottom,null,y.top)}i.appendChild(l)}function Oi(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var i=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){return e.cursorDiv.style.visibility=(i=!i)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function Di(t){t.state.focused||(t.display.input.focus(),Pi(t))}function _i(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,Ei(t))},100)}function Pi(t,e){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(Dt(t,"focus",t,e),t.state.focused=!0,a(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),as&&setTimeout(function(){return t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),Oi(t))}function Ei(t,e){t.state.delayingBlurEvent||(t.state.focused&&(Dt(t,"blur",t,e),t.state.focused=!1,Cs(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function Ni(t){for(var e=t.display,i=e.lineDiv.offsetTop,n=0;n<e.view.length;n++){var r=e.view[n],o=void 0;if(!r.hidden){if(os&&ss<8){var s=r.node.offsetTop+r.node.offsetHeight;o=s-i,i=s}else{var a=r.node.getBoundingClientRect();o=a.bottom-a.top}var l=r.line.height-o;if(o<2&&(o=vi(e)),(l>.001||l<-.001)&&(D(r.line,o),Ii(r.line),r.rest))for(var c=0;c<r.rest.length;c++)Ii(r.rest[c])}}}function Ii(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e)t.widgets[e].height=t.widgets[e].node.parentNode.offsetHeight}function zi(t,e,i){var n=i&&null!=i.top?Math.max(0,i.top):t.scroller.scrollTop;n=Math.floor(n-Be(t));var r=i&&null!=i.bottom?i.bottom:n+t.wrapper.clientHeight,o=P(e,n),s=P(e,r);if(i&&i.ensure){var a=i.ensure.from.line,l=i.ensure.to.line;a<o?(o=a,s=P(e,yt(A(e,a))+t.wrapper.clientHeight)):Math.min(l,e.lastLine())>=s&&(o=P(e,yt(A(e,l))-t.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function Ri(t){var e=t.display,i=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var n=xi(e)-e.scroller.scrollLeft+t.doc.scrollLeft,r=e.gutters.offsetWidth,o=n+"px",s=0;s<i.length;s++)if(!i[s].hidden){t.options.fixedGutter&&(i[s].gutter&&(i[s].gutter.style.left=o),i[s].gutterBackground&&(i[s].gutterBackground.style.left=o));var a=i[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=n+r+"px")}}function Hi(t){if(!t.options.lineNumbers)return!1;var e=t.doc,i=N(t.options,e.first+e.size-1),r=t.display;if(i.length!=r.lineNumChars){var o=r.measure.appendChild(n("div",[n("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),s=o.firstChild.offsetWidth,a=o.offsetWidth-s;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(s,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?i.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",Dn(t),!0}return!1}function Bi(t,e){if(!_t(t,"scrollCursorIntoView")){var i=t.display,r=i.sizer.getBoundingClientRect(),o=null;if(e.top+r.top<0?o=!0:e.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!fs){var s=n("div","",null,"position: absolute;\n                         top: "+(e.top-i.viewOffset-Be(t.display))+"px;\n                         height: "+(e.bottom-e.top+Fe(t)+i.barHeight)+"px;\n                         left: "+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(s),s.scrollIntoView(o),t.display.lineSpace.removeChild(s)}}}function Wi(t,e,i,n){null==n&&(n=0);for(var r,o=0;o<5;o++){var s=!1,a=hi(t,e),l=i&&i!=e?hi(t,i):a;r={left:Math.min(a.left,l.left),top:Math.min(a.top,l.top)-n,right:Math.max(a.left,l.left),bottom:Math.max(a.bottom,l.bottom)+n};var c=Fi(t,r),h=t.doc.scrollTop,u=t.doc.scrollLeft;if(null!=c.scrollTop&&(Vi(t,c.scrollTop),Math.abs(t.doc.scrollTop-h)>1&&(s=!0)),null!=c.scrollLeft&&(Zi(t,c.scrollLeft),Math.abs(t.doc.scrollLeft-u)>1&&(s=!0)),!s)break}return r}function ji(t,e){var i=Fi(t,e);null!=i.scrollTop&&Vi(t,i.scrollTop),null!=i.scrollLeft&&Zi(t,i.scrollLeft)}function Fi(t,e){var i=t.display,n=vi(t.display);e.top<0&&(e.top=0);var r=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:i.scroller.scrollTop,o=Ge(t),s={};e.bottom-e.top>o&&(e.bottom=e.top+o);var a=t.doc.height+We(i),l=e.top<n,c=e.bottom>a-n;if(e.top<r)s.scrollTop=l?0:e.top;else if(e.bottom>r+o){var h=Math.min(e.top,(c?a:e.bottom)-o);h!=r&&(s.scrollTop=h)}var u=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:i.scroller.scrollLeft,d=$e(t)-(t.options.fixedGutter?i.gutters.offsetWidth:0),f=e.right-e.left>d;return f&&(e.right=e.left+d),e.left<10?s.scrollLeft=0:e.left<u?s.scrollLeft=Math.max(0,e.left-(f?0:10)):e.right>d+u-3&&(s.scrollLeft=e.right+(f?0:10)-d),s}function $i(t,e){null!=e&&(qi(t),t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+e)}function Gi(t){qi(t);var e=t.getCursor(),i=e,n=e;t.options.lineWrapping||(i=e.ch?I(e.line,e.ch-1):e,n=I(e.line,e.ch+1)),t.curOp.scrollToPos={from:i,to:n,margin:t.options.cursorScrollMargin}}function Xi(t,e,i){null==e&&null==i||qi(t),null!=e&&(t.curOp.scrollLeft=e),null!=i&&(t.curOp.scrollTop=i)}function Yi(t,e){qi(t),t.curOp.scrollToPos=e}function qi(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var i=ui(t,e.from),n=ui(t,e.to);Ui(t,i,n,e.margin)}}function Ui(t,e,i,n){var r=Fi(t,{left:Math.min(e.left,i.left),top:Math.min(e.top,i.top)-n,right:Math.max(e.right,i.right),bottom:Math.max(e.bottom,i.bottom)+n});Xi(t,r.scrollLeft,r.scrollTop)}function Vi(t,e){Math.abs(t.doc.scrollTop-e)<2||(es||Ln(t,{top:e}),Ki(t,e,!0),es&&Ln(t),wn(t,100))}function Ki(t,e,i){e=Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e),(t.display.scroller.scrollTop!=e||i)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function Zi(t,e,i,n){e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),(i?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!n||(t.doc.scrollLeft=e,Ri(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function Ji(t){var e=t.display,i=e.gutters.offsetWidth,n=Math.round(t.doc.height+We(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?i:0,docHeight:n,scrollHeight:n+Fe(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:i}}function Qi(t,e){e||(e=Ji(t));var i=t.display.barWidth,n=t.display.barHeight;tn(t,e);for(var r=0;r<4&&i!=t.display.barWidth||n!=t.display.barHeight;r++)i!=t.display.barWidth&&t.options.lineWrapping&&Ni(t),tn(t,Ji(t)),i=t.display.barWidth,n=t.display.barHeight}function tn(t,e){var i=t.display,n=i.scrollbars.update(e);i.sizer.style.paddingRight=(i.barWidth=n.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+"px",i.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=n.bottom+"px",i.scrollbarFiller.style.width=n.right+"px"):i.scrollbarFiller.style.display="",n.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=n.bottom+"px",i.gutterFiller.style.width=e.gutterWidth+"px"):i.gutterFiller.style.display=""}function en(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&Cs(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new aa[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),Fs(e,"mousedown",function(){t.state.focused&&setTimeout(function(){return t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,i){"horizontal"==i?Zi(t,e):Vi(t,e)},t),t.display.scrollbars.addClass&&a(t.display.wrapper,t.display.scrollbars.addClass)}function nn(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++la},xe(t.curOp)}function rn(t){var e=t.curOp;ke(e,function(t){for(var e=0;e<t.ops.length;e++)t.ops[e].cm.curOp=null;on(t)})}function on(t){for(var e=t.ops,i=0;i<e.length;i++)sn(e[i]);for(var n=0;n<e.length;n++)an(e[n]);for(var r=0;r<e.length;r++)ln(e[r]);for(var o=0;o<e.length;o++)cn(e[o]);for(var s=0;s<e.length;s++)hn(e[s])}function sn(t){var e=t.cm,i=e.display;Sn(e),t.updateMaxLine&&xt(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<i.viewFrom||t.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new ca(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function an(t){t.updatedDisplay=t.mustUpdate&&Mn(t.cm,t.update)}function ln(t){var e=t.cm,i=e.display;t.updatedDisplay&&Ni(e),t.barMeasure=Ji(e),i.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Ue(e,i.maxLine,i.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+t.adjustWidthTo+Fe(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+t.adjustWidthTo-$e(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=i.input.prepareSelection(t.focus))}function cn(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&Zi(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var i=t.focus&&t.focus==s()&&(!document.hasFocus||document.hasFocus());t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,i),(t.updatedDisplay||t.startHeight!=e.doc.height)&&Qi(e,t.barMeasure),t.updatedDisplay&&_n(e,t.barMeasure),t.selectionChanged&&Oi(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),i&&Di(t.cm)}function hn(t){var e=t.cm,i=e.display,n=e.doc;if(t.updatedDisplay&&An(e,t.update),null==i.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(i.wheelStartX=i.wheelStartY=null),null!=t.scrollTop&&Ki(e,t.scrollTop,t.forceScroll),null!=t.scrollLeft&&Zi(e,t.scrollLeft,!0,!0),t.scrollToPos){var r=Wi(e,F(n,t.scrollToPos.from),F(n,t.scrollToPos.to),t.scrollToPos.margin);Bi(e,r)}var o=t.maybeHiddenMarkers,s=t.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||Dt(o[a],"hide");if(s)for(var l=0;l<s.length;++l)s[l].lines.length&&Dt(s[l],"unhide");i.wrapper.offsetHeight&&(n.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&Dt(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function un(t,e){if(t.curOp)return e();nn(t);try{return e()}finally{rn(t)}}function dn(t,e){return function(){if(t.curOp)return e.apply(t,arguments);nn(t);try{return e.apply(t,arguments)}finally{rn(t)}}}function fn(t){return function(){if(this.curOp)return t.apply(this,arguments);nn(this);try{return t.apply(this,arguments)}finally{rn(this)}}}function pn(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);nn(e);try{return t.apply(this,arguments)}finally{rn(e)}}}function gn(t,e,i,n){null==e&&(e=t.doc.first),null==i&&(i=t.doc.first+t.doc.size),n||(n=0);var r=t.display;if(n&&i<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>e)&&(r.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=r.viewTo)Hs&&pt(t.doc,e)<r.viewTo&&vn(t);else if(i<=r.viewFrom)Hs&&gt(t.doc,i+n)>r.viewFrom?vn(t):(r.viewFrom+=n,r.viewTo+=n);else if(e<=r.viewFrom&&i>=r.viewTo)vn(t);else if(e<=r.viewFrom){var o=yn(t,i,i+n,1);o?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=n):vn(t)}else if(i>=r.viewTo){var s=yn(t,e,e,-1);s?(r.view=r.view.slice(0,s.index),r.viewTo=s.lineN):vn(t)}else{var a=yn(t,e,e,-1),l=yn(t,i,i+n,1);a&&l?(r.view=r.view.slice(0,a.index).concat(be(t,a.lineN,l.lineN)).concat(r.view.slice(l.index)),r.viewTo+=n):vn(t)}var c=r.externalMeasured;c&&(i<c.lineN?c.lineN+=n:e<c.lineN+c.size&&(r.externalMeasured=null))}function mn(t,e,i){t.curOp.viewChanged=!0;var n=t.display,r=t.display.externalMeasured;if(r&&e>=r.lineN&&e<r.lineN+r.size&&(n.externalMeasured=null),!(e<n.viewFrom||e>=n.viewTo)){var o=n.view[Ci(t,e)];if(null!=o.node){var s=o.changes||(o.changes=[]);d(s,i)==-1&&s.push(i)}}}function vn(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function yn(t,e,i,n){var r,o=Ci(t,e),s=t.display.view;if(!Hs||i==t.doc.first+t.doc.size)return{index:o,lineN:i};for(var a=t.display.viewFrom,l=0;l<o;l++)a+=s[l].size;if(a!=e){if(n>0){if(o==s.length-1)return null;r=a+s[o].size-e,o++}else r=a-e;e+=r,i+=r}for(;pt(t.doc,i)!=i;){if(o==(n<0?0:s.length-1))return null;i+=n*s[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:i}}function bn(t,e,i){var n=t.display,r=n.view;0==r.length||e>=n.viewTo||i<=n.viewFrom?(n.view=be(t,e,i),n.viewFrom=e):(n.viewFrom>e?n.view=be(t,e,n.viewFrom).concat(n.view):n.viewFrom<e&&(n.view=n.view.slice(Ci(t,e))),n.viewFrom=e,n.viewTo<i?n.view=n.view.concat(be(t,n.viewTo,i)):n.viewTo>i&&(n.view=n.view.slice(0,Ci(t,i)))),n.viewTo=i}function xn(t){for(var e=t.display.view,i=0,n=0;n<e.length;n++){var r=e[n];r.hidden||r.node&&!r.changes||++i}return i}function wn(t,e){t.doc.mode.startState&&t.doc.frontier<t.display.viewTo&&t.state.highlight.set(e,c(kn,t))}function kn(t){var e=t.doc;if(e.frontier<e.first&&(e.frontier=e.first),!(e.frontier>=t.display.viewTo)){var i=+new Date+t.options.workTime,n=Vt(e.mode,te(t,e.frontier)),r=[];e.iter(e.frontier,Math.min(e.first+e.size,t.display.viewTo+500),function(o){if(e.frontier>=t.display.viewFrom){var s=o.styles,a=o.text.length>t.options.maxHighlightLength,l=Jt(t,o,a?Vt(e.mode,n):n,!0);o.styles=l.styles;var c=o.styleClasses,h=l.classes;
h?o.styleClasses=h:c&&(o.styleClasses=null);for(var u=!s||s.length!=o.styles.length||c!=h&&(!c||!h||c.bgClass!=h.bgClass||c.textClass!=h.textClass),d=0;!u&&d<s.length;++d)u=s[d]!=o.styles[d];u&&r.push(e.frontier),o.stateAfter=a?n:Vt(e.mode,n)}else o.text.length<=t.options.maxHighlightLength&&ee(t,o.text,n),o.stateAfter=e.frontier%5==0?Vt(e.mode,n):null;if(++e.frontier,+new Date>i)return wn(t,t.options.workDelay),!0}),r.length&&un(t,function(){for(var e=0;e<r.length;e++)mn(t,r[e],"text")})}}function Sn(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=Fe(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=Fe(t)+"px",e.scrollbarsClipped=!0)}function Cn(t){if(t.hasFocus())return null;var e=s();if(!e||!o(t.display.lineDiv,e))return null;var i={activeElt:e};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&o(t.display.lineDiv,n.anchorNode)&&(i.anchorNode=n.anchorNode,i.anchorOffset=n.anchorOffset,i.focusNode=n.focusNode,i.focusOffset=n.focusOffset)}return i}function Tn(t){if(t&&t.activeElt&&t.activeElt!=s()&&(t.activeElt.focus(),t.anchorNode&&o(document.body,t.anchorNode)&&o(document.body,t.focusNode))){var e=window.getSelection(),i=document.createRange();i.setEnd(t.anchorNode,t.anchorOffset),i.collapse(!1),e.removeAllRanges(),e.addRange(i),e.extend(t.focusNode,t.focusOffset)}}function Mn(t,i){var n=t.display,r=t.doc;if(i.editorIsHidden)return vn(t),!1;if(!i.force&&i.visible.from>=n.viewFrom&&i.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==xn(t))return!1;Hi(t)&&(vn(t),i.dims=bi(t));var o=r.first+r.size,s=Math.max(i.visible.from-t.options.viewportMargin,r.first),a=Math.min(o,i.visible.to+t.options.viewportMargin);n.viewFrom<s&&s-n.viewFrom<20&&(s=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(o,n.viewTo)),Hs&&(s=pt(t.doc,s),a=gt(t.doc,a));var l=s!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=i.wrapperHeight||n.lastWrapWidth!=i.wrapperWidth;bn(t,s,a),n.viewOffset=yt(A(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var c=xn(t);if(!l&&0==c&&!i.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var h=Cn(t);return c>4&&(n.lineDiv.style.display="none"),On(t,n.updateLineNumbers,i.dims),c>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,Tn(h),e(n.cursorDiv),e(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,l&&(n.lastWrapHeight=i.wrapperHeight,n.lastWrapWidth=i.wrapperWidth,wn(t,400)),n.updateLineNumbers=null,!0}function An(t,e){for(var i=e.viewport,n=!0;(n&&t.options.lineWrapping&&e.oldDisplayWidth!=$e(t)||(i&&null!=i.top&&(i={top:Math.min(t.doc.height+We(t.display)-Ge(t),i.top)}),e.visible=zi(t.display,t.doc,i),!(e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)))&&Mn(t,e);n=!1){Ni(t);var r=Ji(t);Ti(t),Qi(t,r),_n(t,r)}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function Ln(t,e){var i=new ca(t,e);if(Mn(t,i)){Ni(t),An(t,i);var n=Ji(t);Ti(t),Qi(t,n),_n(t,n),i.finish()}}function On(t,i,n){function r(e){var i=e.nextSibling;return as&&vs&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),i}for(var o=t.display,s=t.options.lineNumbers,a=o.lineDiv,l=a.firstChild,c=o.view,h=o.viewFrom,u=0;u<c.length;u++){var f=c[u];if(f.hidden);else if(f.node&&f.node.parentNode==a){for(;l!=f.node;)l=r(l);var p=s&&null!=i&&i<=h&&f.lineNumber;f.changes&&(d(f.changes,"gutter")>-1&&(p=!1),Te(t,f,h,n)),p&&(e(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(N(t.options,h)))),l=f.node.nextSibling}else{var g=Ee(t,f,h,n);a.insertBefore(g,l)}h+=f.size}for(;l;)l=r(l)}function Dn(t){var e=t.display.gutters.offsetWidth;t.display.sizer.style.marginLeft=e+"px"}function _n(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+Fe(t)+"px"}function Pn(t){var i=t.display.gutters,r=t.options.gutters;e(i);for(var o=0;o<r.length;++o){var s=r[o],a=i.appendChild(n("div",null,"CodeMirror-gutter "+s));"CodeMirror-linenumbers"==s&&(t.display.lineGutter=a,a.style.width=(t.display.lineNumWidth||1)+"px")}i.style.display=o?"":"none",Dn(t)}function En(t){var e=d(t.gutters,"CodeMirror-linenumbers");e==-1&&t.lineNumbers?t.gutters=t.gutters.concat(["CodeMirror-linenumbers"]):e>-1&&!t.lineNumbers&&(t.gutters=t.gutters.slice(0),t.gutters.splice(e,1))}function Nn(t){var e=t.wheelDeltaX,i=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==i&&t.detail&&t.axis==t.VERTICAL_AXIS?i=t.detail:null==i&&(i=t.wheelDelta),{x:e,y:i}}function In(t){var e=Nn(t);return e.x*=ua,e.y*=ua,e}function zn(t,e){var i=Nn(e),n=i.x,r=i.y,o=t.display,s=o.scroller,a=s.scrollWidth>s.clientWidth,l=s.scrollHeight>s.clientHeight;if(n&&a||r&&l){if(r&&vs&&as)t:for(var c=e.target,h=o.view;c!=s;c=c.parentNode)for(var u=0;u<h.length;u++)if(h[u].node==c){t.display.currentWheelTarget=c;break t}if(n&&!es&&!hs&&null!=ua)return r&&l&&Vi(t,Math.max(0,s.scrollTop+r*ua)),Zi(t,Math.max(0,s.scrollLeft+n*ua)),(!r||r&&l)&&It(e),void(o.wheelStartX=null);if(r&&null!=ua){var d=r*ua,f=t.doc.scrollTop,p=f+o.wrapper.clientHeight;d<0?f=Math.max(0,f+d-50):p=Math.min(t.doc.height,p+d+50),Ln(t,{top:f,bottom:p})}ha<20&&(null==o.wheelStartX?(o.wheelStartX=s.scrollLeft,o.wheelStartY=s.scrollTop,o.wheelDX=n,o.wheelDY=r,setTimeout(function(){if(null!=o.wheelStartX){var t=s.scrollLeft-o.wheelStartX,e=s.scrollTop-o.wheelStartY,i=e&&o.wheelDY&&e/o.wheelDY||t&&o.wheelDX&&t/o.wheelDX;o.wheelStartX=o.wheelStartY=null,i&&(ua=(ua*ha+i)/(ha+1),++ha)}},200)):(o.wheelDX+=n,o.wheelDY+=r))}}function Rn(t,e){var i=t[e];t.sort(function(t,e){return z(t.from(),e.from())}),e=d(t,i);for(var n=1;n<t.length;n++){var r=t[n],o=t[n-1];if(z(o.to(),r.from())>=0){var s=W(o.from(),r.from()),a=B(o.to(),r.to()),l=o.empty()?r.from()==r.head:o.from()==o.head;n<=e&&--e,t.splice(--n,2,new fa(l?a:s,l?s:a))}}return new da(t,e)}function Hn(t,e){return new da([new fa(t,e||t)],0)}function Bn(t){return t.text?I(t.from.line+t.text.length-1,g(t.text).length+(1==t.text.length?t.from.ch:0)):t.to}function Wn(t,e){if(z(t,e.from)<0)return t;if(z(t,e.to)<=0)return Bn(e);var i=t.line+e.text.length-(e.to.line-e.from.line)-1,n=t.ch;return t.line==e.to.line&&(n+=Bn(e).ch-e.to.ch),I(i,n)}function jn(t,e){for(var i=[],n=0;n<t.sel.ranges.length;n++){var r=t.sel.ranges[n];i.push(new fa(Wn(r.anchor,e),Wn(r.head,e)))}return Rn(i,t.sel.primIndex)}function Fn(t,e,i){return t.line==e.line?I(i.line,t.ch-e.ch+i.ch):I(i.line+(t.line-e.line),t.ch)}function $n(t,e,i){for(var n=[],r=I(t.first,0),o=r,s=0;s<e.length;s++){var a=e[s],l=Fn(a.from,r,o),c=Fn(Bn(a),r,o);if(r=a.to,o=c,"around"==i){var h=t.sel.ranges[s],u=z(h.head,h.anchor)<0;n[s]=new fa(u?c:l,u?l:c)}else n[s]=new fa(l,l)}return new da(n,t.sel.primIndex)}function Gn(t){t.doc.mode=qt(t.options,t.doc.modeOption),Xn(t)}function Xn(t){t.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),t.doc.frontier=t.doc.first,wn(t,100),t.state.modeGen++,t.curOp&&gn(t)}function Yn(t,e){return 0==e.from.ch&&0==e.to.ch&&""==g(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function qn(t,e,i,n){function r(t){return i?i[t]:null}function o(t,i,r){le(t,i,r,n),Se(t,"change",t,e)}function s(t,e){for(var i=[],o=t;o<e;++o)i.push(new Js(c[o],r(o),n));return i}var a=e.from,l=e.to,c=e.text,h=A(t,a.line),u=A(t,l.line),d=g(c),f=r(c.length-1),p=l.line-a.line;if(e.full)t.insert(0,s(0,c.length)),t.remove(c.length,t.size-c.length);else if(Yn(t,e)){var m=s(0,c.length-1);o(u,u.text,f),p&&t.remove(a.line,p),m.length&&t.insert(a.line,m)}else if(h==u)if(1==c.length)o(h,h.text.slice(0,a.ch)+d+h.text.slice(l.ch),f);else{var v=s(1,c.length-1);v.push(new Js(d+h.text.slice(l.ch),f,n)),o(h,h.text.slice(0,a.ch)+c[0],r(0)),t.insert(a.line+1,v)}else if(1==c.length)o(h,h.text.slice(0,a.ch)+c[0]+u.text.slice(l.ch),r(0)),t.remove(a.line+1,p);else{o(h,h.text.slice(0,a.ch)+c[0],r(0)),o(u,d+u.text.slice(l.ch),f);var y=s(1,c.length-1);p>1&&t.remove(a.line+1,p-1),t.insert(a.line+1,y)}Se(t,"change",t,e)}function Un(t,e,i){function n(t,r,o){if(t.linked)for(var s=0;s<t.linked.length;++s){var a=t.linked[s];if(a.doc!=r){var l=o&&a.sharedHist;i&&!l||(e(a.doc,l),n(a.doc,t,l))}}}n(t,null,!0)}function Vn(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,ki(t),Gn(t),Kn(t),t.options.lineWrapping||xt(t),t.options.mode=e.modeOption,gn(t)}function Kn(t){("rtl"==t.doc.direction?a:Cs)(t.display.lineDiv,"CodeMirror-rtl")}function Zn(t){un(t,function(){Kn(t),gn(t)})}function Jn(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function Qn(t,e){var i={from:H(e.from),to:Bn(e),text:L(t,e.from,e.to)};return sr(t,i,e.from.line,e.to.line+1),Un(t,function(t){return sr(t,i,e.from.line,e.to.line+1)},!0),i}function tr(t){for(;t.length;){var e=g(t);if(!e.ranges)break;t.pop()}}function er(t,e){return e?(tr(t.done),g(t.done)):t.done.length&&!g(t.done).ranges?g(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),g(t.done)):void 0}function ir(t,e,i,n){var r=t.history;r.undone.length=0;var o,s,a=+new Date;if((r.lastOp==n||r.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&t.cm&&r.lastModTime>a-t.cm.options.historyEventDelay||"*"==e.origin.charAt(0)))&&(o=er(r,r.lastOp==n)))s=g(o.changes),0==z(e.from,e.to)&&0==z(e.from,s.to)?s.to=Bn(e):o.changes.push(Qn(t,e));else{var l=g(r.done);for(l&&l.ranges||or(t.sel,r.done),o={changes:[Qn(t,e)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(i),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=a,r.lastOp=r.lastSelOp=n,r.lastOrigin=r.lastSelOrigin=e.origin,s||Dt(t,"historyAdded")}function nr(t,e,i,n){var r=e.charAt(0);return"*"==r||"+"==r&&i.ranges.length==n.ranges.length&&i.somethingSelected()==n.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function rr(t,e,i,n){var r=t.history,o=n&&n.origin;i==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||nr(t,o,g(r.done),e))?r.done[r.done.length-1]=e:or(e,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=i,n&&n.clearRedo!==!1&&tr(r.undone)}function or(t,e){var i=g(e);i&&i.ranges&&i.equals(t)||e.push(t)}function sr(t,e,i,n){var r=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,i),Math.min(t.first+t.size,n),function(i){i.markedSpans&&((r||(r=e["spans_"+t.id]={}))[o]=i.markedSpans),++o})}function ar(t){if(!t)return null;for(var e,i=0;i<t.length;++i)t[i].marker.explicitlyCleared?e||(e=t.slice(0,i)):e&&e.push(t[i]);return e?e.length?e:null:t}function lr(t,e){var i=e["spans_"+t.id];if(!i)return null;for(var n=[],r=0;r<e.text.length;++r)n.push(ar(i[r]));return n}function cr(t,e){var i=lr(t,e),n=Q(t,e);if(!i)return n;if(!n)return i;for(var r=0;r<i.length;++r){var o=i[r],s=n[r];if(o&&s)t:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue t;o.push(l)}else s&&(i[r]=s)}return i}function hr(t,e,i){for(var n=[],r=0;r<t.length;++r){var o=t[r];if(o.ranges)n.push(i?da.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];n.push({changes:a});for(var l=0;l<s.length;++l){var c=s[l],h=void 0;if(a.push({from:c.from,to:c.to,text:c.text}),e)for(var u in c)(h=u.match(/^spans_(\d+)$/))&&d(e,Number(h[1]))>-1&&(g(a)[u]=c[u],delete c[u])}}}return n}function ur(t,e,i,n){if(t.cm&&t.cm.display.shift||t.extend){var r=e.anchor;if(n){var o=z(i,r)<0;o!=z(n,r)<0?(r=i,i=n):o!=z(i,n)<0&&(i=n)}return new fa(r,i)}return new fa(n||i,i)}function dr(t,e,i,n){yr(t,new da([ur(t,t.sel.primary(),e,i)],0),n)}function fr(t,e,i){for(var n=[],r=0;r<t.sel.ranges.length;r++)n[r]=ur(t,t.sel.ranges[r],e[r],null);var o=Rn(n,t.sel.primIndex);yr(t,o,i)}function pr(t,e,i,n){var r=t.sel.ranges.slice(0);r[e]=i,yr(t,Rn(r,t.sel.primIndex),n)}function gr(t,e,i,n){yr(t,Hn(e,i),n)}function mr(t,e,i){var n={ranges:e.ranges,update:function(e){var i=this;this.ranges=[];for(var n=0;n<e.length;n++)i.ranges[n]=new fa(F(t,e[n].anchor),F(t,e[n].head))},origin:i&&i.origin};return Dt(t,"beforeSelectionChange",t,n),t.cm&&Dt(t.cm,"beforeSelectionChange",t.cm,n),n.ranges!=e.ranges?Rn(n.ranges,n.ranges.length-1):e}function vr(t,e,i){var n=t.history.done,r=g(n);r&&r.ranges?(n[n.length-1]=e,br(t,e,i)):yr(t,e,i)}function yr(t,e,i){br(t,e,i),rr(t,t.sel,t.cm?t.cm.curOp.id:NaN,i)}function br(t,e,i){(Et(t,"beforeSelectionChange")||t.cm&&Et(t.cm,"beforeSelectionChange"))&&(e=mr(t,e,i));var n=i&&i.bias||(z(e.primary().head,t.sel.primary().head)<0?-1:1);xr(t,kr(t,e,n,!0)),i&&i.scroll===!1||!t.cm||Gi(t.cm)}function xr(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=!0,Pt(t.cm)),Se(t,"cursorActivity",t))}function wr(t){xr(t,kr(t,t.sel,null,!1))}function kr(t,e,i,n){for(var r,o=0;o<e.ranges.length;o++){var s=e.ranges[o],a=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[o],l=Cr(t,s.anchor,a&&a.anchor,i,n),c=Cr(t,s.head,a&&a.head,i,n);(r||l!=s.anchor||c!=s.head)&&(r||(r=e.ranges.slice(0,o)),r[o]=new fa(l,c))}return r?Rn(r,e.primIndex):e}function Sr(t,e,i,n,r){var o=A(t,e.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=e.ch:a.from<e.ch))&&(null==a.to||(l.inclusiveRight?a.to>=e.ch:a.to>e.ch))){if(r&&(Dt(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(i){var c=l.find(n<0?1:-1),h=void 0;if((n<0?l.inclusiveRight:l.inclusiveLeft)&&(c=Tr(t,c,-n,c&&c.line==e.line?o:null)),c&&c.line==e.line&&(h=z(c,i))&&(n<0?h<0:h>0))return Sr(t,c,e,n,r)}var u=l.find(n<0?-1:1);return(n<0?l.inclusiveLeft:l.inclusiveRight)&&(u=Tr(t,u,n,u.line==e.line?o:null)),u?Sr(t,u,e,n,r):null}}return e}function Cr(t,e,i,n,r){var o=n||1,s=Sr(t,e,i,o,r)||!r&&Sr(t,e,i,o,!0)||Sr(t,e,i,-o,r)||!r&&Sr(t,e,i,-o,!0);return s?s:(t.cantEdit=!0,I(t.first,0))}function Tr(t,e,i,n){return i<0&&0==e.ch?e.line>t.first?F(t,I(e.line-1)):null:i>0&&e.ch==(n||A(t,e.line)).text.length?e.line<t.first+t.size-1?I(e.line+1,0):null:new I(e.line,e.ch+i)}function Mr(t){t.setSelection(I(t.firstLine(),0),I(t.lastLine()),_s)}function Ar(t,e,i){var n={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return n.canceled=!0}};return i&&(n.update=function(e,i,r,o){e&&(n.from=F(t,e)),i&&(n.to=F(t,i)),r&&(n.text=r),void 0!==o&&(n.origin=o)}),Dt(t,"beforeChange",t,n),t.cm&&Dt(t.cm,"beforeChange",t.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Lr(t,e,i){if(t.cm){if(!t.cm.curOp)return dn(t.cm,Lr)(t,e,i);if(t.cm.state.suppressEdits)return}if(!(Et(t,"beforeChange")||t.cm&&Et(t.cm,"beforeChange"))||(e=Ar(t,e,!0))){var n=Rs&&!i&&et(t,e.from,e.to);if(n)for(var r=n.length-1;r>=0;--r)Or(t,{from:n[r].from,to:n[r].to,text:r?[""]:e.text});else Or(t,e)}}function Or(t,e){if(1!=e.text.length||""!=e.text[0]||0!=z(e.from,e.to)){var i=jn(t,e);ir(t,e,i,t.cm?t.cm.curOp.id:NaN),Pr(t,e,i,Q(t,e));var n=[];Un(t,function(t,i){i||d(n,t.history)!=-1||(Rr(t.history,e),n.push(t.history)),Pr(t,e,null,Q(t,e))})}}function Dr(t,e,i){if(!t.cm||!t.cm.state.suppressEdits||i){for(var n,r=t.history,o=t.sel,s="undo"==e?r.done:r.undone,a="undo"==e?r.undone:r.done,l=0;l<s.length&&(n=s[l],i?!n.ranges||n.equals(t.sel):n.ranges);l++);if(l!=s.length){for(r.lastOrigin=r.lastSelOrigin=null;n=s.pop(),n.ranges;){if(or(n,a),i&&!n.equals(t.sel))return void yr(t,n,{clearRedo:!1});o=n}var c=[];or(o,a),a.push({changes:c,generation:r.generation}),r.generation=n.generation||++r.maxGeneration;for(var h=Et(t,"beforeChange")||t.cm&&Et(t.cm,"beforeChange"),u=function(i){var r=n.changes[i];if(r.origin=e,h&&!Ar(t,r,!1))return s.length=0,{};c.push(Qn(t,r));var o=i?jn(t,r):g(s);Pr(t,r,o,cr(t,r)),!i&&t.cm&&t.cm.scrollIntoView({from:r.from,to:Bn(r)});var a=[];Un(t,function(t,e){e||d(a,t.history)!=-1||(Rr(t.history,r),a.push(t.history)),Pr(t,r,null,cr(t,r))})},f=n.changes.length-1;f>=0;--f){var p=u(f);if(p)return p.v}}}}function _r(t,e){if(0!=e&&(t.first+=e,t.sel=new da(m(t.sel.ranges,function(t){return new fa(I(t.anchor.line+e,t.anchor.ch),I(t.head.line+e,t.head.ch))}),t.sel.primIndex),t.cm)){gn(t.cm,t.first,t.first-e,e);for(var i=t.cm.display,n=i.viewFrom;n<i.viewTo;n++)mn(t.cm,n,"gutter")}}function Pr(t,e,i,n){if(t.cm&&!t.cm.curOp)return dn(t.cm,Pr)(t,e,i,n);if(e.to.line<t.first)return void _r(t,e.text.length-1-(e.to.line-e.from.line));if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var r=e.text.length-1-(t.first-e.from.line);_r(t,r),e={from:I(t.first,0),to:I(e.to.line+r,e.to.ch),text:[g(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:I(o,A(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=L(t,e.from,e.to),i||(i=jn(t,e)),t.cm?Er(t.cm,e,n):qn(t,e,n),br(t,i,_s)}}function Er(t,e,i){var n=t.doc,r=t.display,o=e.from,s=e.to,a=!1,l=o.line;t.options.lineWrapping||(l=_(ut(A(n,o.line))),n.iter(l,s.line+1,function(t){if(t==r.maxLine)return a=!0,!0})),n.sel.contains(e.from,e.to)>-1&&Pt(t),qn(n,e,i,wi(t)),t.options.lineWrapping||(n.iter(l,o.line+e.text.length,function(t){var e=bt(t);e>r.maxLineLength&&(r.maxLine=t,r.maxLineLength=e,r.maxLineChanged=!0,a=!1)}),a&&(t.curOp.updateMaxLine=!0)),n.frontier=Math.min(n.frontier,o.line),wn(t,400);var c=e.text.length-(s.line-o.line)-1;e.full?gn(t):o.line!=s.line||1!=e.text.length||Yn(t.doc,e)?gn(t,o.line,s.line+1,c):mn(t,o.line,"text");var h=Et(t,"changes"),u=Et(t,"change");if(u||h){var d={from:o,to:s,text:e.text,removed:e.removed,origin:e.origin};u&&Se(t,"change",t,d),h&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(d)}t.display.selForContextMenu=null}function Nr(t,e,i,n,r){if(n||(n=i),z(n,i)<0){var o=n;n=i,i=o}"string"==typeof e&&(e=t.splitLines(e)),Lr(t,{from:i,to:n,text:e,origin:r})}function Ir(t,e,i,n){i<t.line?t.line+=n:e<t.line&&(t.line=e,t.ch=0)}function zr(t,e,i,n){for(var r=0;r<t.length;++r){var o=t[r],s=!0;if(o.ranges){o.copied||(o=t[r]=o.deepCopy(),o.copied=!0);for(var a=0;a<o.ranges.length;a++)Ir(o.ranges[a].anchor,e,i,n),Ir(o.ranges[a].head,e,i,n)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(i<c.from.line)c.from=I(c.from.line+n,c.from.ch),c.to=I(c.to.line+n,c.to.ch);else if(e<=c.to.line){s=!1;break}}s||(t.splice(0,r+1),r=0)}}}function Rr(t,e){var i=e.from.line,n=e.to.line,r=e.text.length-(n-i)-1;zr(t.done,i,n,r),zr(t.undone,i,n,r)}function Hr(t,e,i,n){var r=e,o=e;return"number"==typeof e?o=A(t,j(t,e)):r=_(e),null==r?null:(n(o,r)&&t.cm&&mn(t.cm,r,i),o)}function Br(t,e,i){yt(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&$i(t,i)}function Wr(t,e,i,n){var r=new ma(t,i,n),o=t.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),Hr(t,e,"widget",function(e){var i=e.widgets||(e.widgets=[]);if(null==r.insertAt?i.push(r):i.splice(Math.min(i.length-1,Math.max(0,r.insertAt)),0,r),r.line=e,o&&!mt(t,e)){var n=yt(e)<t.scrollTop;D(e,e.height+Re(r)),n&&$i(o,r.height),o.curOp.forceUpdate=!0}return!0}),Se(o,"lineWidgetAdded",o,r,"number"==typeof e?e:_(e)),r}function jr(t,e,i,n,o){if(n&&n.shared)return Fr(t,e,i,n,o);if(t.cm&&!t.cm.curOp)return dn(t.cm,jr)(t,e,i,n,o);var s=new ya(t,o),a=z(e,i);if(n&&h(n,s,!1),a>0||0==a&&s.clearWhenEmpty!==!1)return s;if(s.replacedWith&&(s.collapsed=!0,s.widgetNode=r("span",[s.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||s.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(s.widgetNode.insertLeft=!0)),s.collapsed){if(ht(t,e.line,e,i,s)||e.line!=i.line&&ht(t,i.line,e,i,s))throw new Error("Inserting collapsed marker partially overlapping an existing one");Y()}s.addToHistory&&ir(t,{from:e,to:i,origin:"markText"},t.sel,NaN);var l,c=e.line,u=t.cm;if(t.iter(c,i.line+1,function(t){u&&s.collapsed&&!u.options.lineWrapping&&ut(t)==u.display.maxLine&&(l=!0),s.collapsed&&c!=e.line&&D(t,0),K(t,new q(s,c==e.line?e.ch:null,c==i.line?i.ch:null)),++c}),s.collapsed&&t.iter(e.line,i.line+1,function(e){mt(t,e)&&D(e,0)}),s.clearOnEnter&&Fs(s,"beforeCursorEnter",function(){return s.clear()}),s.readOnly&&(X(),(t.history.done.length||t.history.undone.length)&&t.clearHistory()),s.collapsed&&(s.id=++va,s.atomic=!0),u){if(l&&(u.curOp.updateMaxLine=!0),s.collapsed)gn(u,e.line,i.line+1);else if(s.className||s.title||s.startStyle||s.endStyle||s.css)for(var d=e.line;d<=i.line;d++)mn(u,d,"text");s.atomic&&wr(u.doc),Se(u,"markerAdded",u,s)}return s}function Fr(t,e,i,n,r){n=h(n),n.shared=!1;var o=[jr(t,e,i,n,r)],s=o[0],a=n.widgetNode;return Un(t,function(t){a&&(n.widgetNode=a.cloneNode(!0)),o.push(jr(t,F(t,e),F(t,i),n,r));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;s=g(o)}),new ba(o,s)}function $r(t){return t.findMarks(I(t.first,0),t.clipPos(I(t.lastLine())),function(t){return t.parent})}function Gr(t,e){for(var i=0;i<e.length;i++){var n=e[i],r=n.find(),o=t.clipPos(r.from),s=t.clipPos(r.to);if(z(o,s)){var a=jr(t,o,s,n.primary,n.primary.type);n.markers.push(a),a.parent=n}}}function Xr(t){for(var e=function(e){var i=t[e],n=[i.primary.doc];Un(i.primary.doc,function(t){return n.push(t)});for(var r=0;r<i.markers.length;r++){var o=i.markers[r];d(n,o.doc)==-1&&(o.parent=null,i.markers.splice(r--,1))}},i=0;i<t.length;i++)e(i)}function Yr(t){var e=this;if(Vr(e),!_t(e,t)&&!He(e.display,t)){It(t),os&&(ka=+new Date);var i=Si(e,t,!0),n=t.dataTransfer.files;if(i&&!e.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var r=n.length,o=Array(r),s=0,a=function(t,n){if(!e.options.allowDropFileTypes||d(e.options.allowDropFileTypes,t.type)!=-1){var a=new FileReader;a.onload=dn(e,function(){var t=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(t)&&(t=""),o[n]=t,++s==r){i=F(e.doc,i);var l={from:i,to:i,text:e.doc.splitLines(o.join(e.doc.lineSeparator())),origin:"paste"};Lr(e.doc,l),vr(e.doc,Hn(i,Bn(l)))}}),a.readAsText(t)}},l=0;l<r;++l)a(n[l],l);else{if(e.state.draggingText&&e.doc.sel.contains(i)>-1)return e.state.draggingText(t),void setTimeout(function(){return e.display.input.focus()},20);try{var c=t.dataTransfer.getData("Text");if(c){var h;if(e.state.draggingText&&!e.state.draggingText.copy&&(h=e.listSelections()),br(e.doc,Hn(i,i)),h)for(var u=0;u<h.length;++u)Nr(e.doc,"",h[u].anchor,h[u].head,"drag");e.replaceSelection(c,"around","paste"),e.display.input.focus()}}catch(t){}}}}function qr(t,e){if(os&&(!t.state.draggingText||+new Date-ka<100))return void Ht(e);if(!_t(t,e)&&!He(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!us)){var i=n("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",hs&&(i.width=i.height=1,t.display.wrapper.appendChild(i),i._top=i.offsetTop),e.dataTransfer.setDragImage(i,0,0),hs&&i.parentNode.removeChild(i)}}function Ur(t,e){var r=Si(t,e);if(r){var o=document.createDocumentFragment();Ai(t,r,o),t.display.dragCursor||(t.display.dragCursor=n("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),i(t.display.dragCursor,o)}}function Vr(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function Kr(t){if(document.body.getElementsByClassName)for(var e=document.body.getElementsByClassName("CodeMirror"),i=0;i<e.length;i++){var n=e[i].CodeMirror;n&&t(n)}}function Zr(){Sa||(Jr(),Sa=!0)}function Jr(){var t;Fs(window,"resize",function(){null==t&&(t=setTimeout(function(){t=null,Kr(Qr)},100))}),Fs(window,"blur",function(){return Kr(Ei)})}function Qr(t){var e=t.display;e.lastWrapHeight==e.wrapper.clientHeight&&e.lastWrapWidth==e.wrapper.clientWidth||(e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize())}function to(t){var e=t.split(/-(?!$)/);t=e[e.length-1];for(var i,n,r,o,s=0;s<e.length-1;s++){var a=e[s];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))i=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);r=!0}}return i&&(t="Alt-"+t),n&&(t="Ctrl-"+t),o&&(t="Cmd-"+t),r&&(t="Shift-"+t),t}function eo(t){var e={};for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];if(/^(name|fallthrough|(de|at)tach)$/.test(i))continue;if("..."==n){delete t[i];continue}for(var r=m(i.split(" "),to),o=0;o<r.length;o++){var s=void 0,a=void 0;o==r.length-1?(a=r.join(" "),s=n):(a=r.slice(0,o+1).join(" "),s="...");var l=e[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else e[a]=s}delete t[i]}for(var c in e)t[c]=e[c];return t}function io(t,e,i,n){e=oo(e);var r=e.call?e.call(t,n):e[t];if(r===!1)return"nothing";if("..."===r)return"multi";if(null!=r&&i(r))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return io(t,e.fallthrough,i,n);for(var o=0;o<e.fallthrough.length;o++){var s=io(t,e.fallthrough[o],i,n);if(s)return s}}}function no(t){var e="string"==typeof t?t:Ca[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function ro(t,e){if(hs&&34==t.keyCode&&t.char)return!1;var i=Ca[t.keyCode],n=i;return null!=n&&!t.altGraphKey&&(t.altKey&&"Alt"!=i&&(n="Alt-"+n),(ks?t.metaKey:t.ctrlKey)&&"Ctrl"!=i&&(n="Ctrl-"+n),(ks?t.ctrlKey:t.metaKey)&&"Cmd"!=i&&(n="Cmd-"+n),!e&&t.shiftKey&&"Shift"!=i&&(n="Shift-"+n),n)}function oo(t){return"string"==typeof t?La[t]:t}function so(t,e){for(var i=t.doc.sel.ranges,n=[],r=0;r<i.length;r++){for(var o=e(i[r]);n.length&&z(o.from,g(n).to)<=0;){var s=n.pop();if(z(s.from,o.from)<0){o.from=s.from;break}}n.push(o)}un(t,function(){for(var e=n.length-1;e>=0;e--)Nr(t.doc,"",n[e].from,n[e].to,"+delete");Gi(t)})}function ao(t,e){var i=A(t.doc,e),n=ut(i);return n!=i&&(e=_(n)),Mt(!0,t,n,e,1)}function lo(t,e){var i=A(t.doc,e),n=dt(i);return n!=i&&(e=_(n)),Mt(!0,t,i,e,-1)}function co(t,e){var i=ao(t,e.line),n=A(t.doc,i.line),r=St(n,t.doc.direction);if(!r||0==r[0].level){var o=Math.max(0,n.text.search(/\S/)),s=e.line==i.line&&e.ch<=o&&e.ch;return I(i.line,s?0:o,i.sticky)}return i}function ho(t,e,i){if("string"==typeof e&&(e=_a[e],!e))return!1;t.display.input.ensurePolled();var n=t.display.shift,r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),i&&(t.display.shift=!1),r=e(t)!=Ds}finally{t.display.shift=n,t.state.suppressEdits=!1}return r}function uo(t,e,i){for(var n=0;n<t.state.keyMaps.length;n++){var r=io(e,t.state.keyMaps[n],i,t);if(r)return r}return t.options.extraKeys&&io(e,t.options.extraKeys,i,t)||io(e,t.options.keyMap,i,t)}function fo(t,e,i,n){var r=t.state.keySeq;if(r){if(no(e))return"handled";Pa.set(50,function(){t.state.keySeq==r&&(t.state.keySeq=null,t.display.input.reset())}),e=r+" "+e}var o=uo(t,e,n);return"multi"==o&&(t.state.keySeq=e),"handled"==o&&Se(t,"keyHandled",t,e,i),"handled"!=o&&"multi"!=o||(It(i),Oi(t)),r&&!o&&/\'$/.test(e)?(It(i),!0):!!o}function po(t,e){var i=ro(e,!0);return!!i&&(e.shiftKey&&!t.state.keySeq?fo(t,"Shift-"+i,e,function(e){return ho(t,e,!0)})||fo(t,i,e,function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return ho(t,e)}):fo(t,i,e,function(e){return ho(t,e)}))}function go(t,e,i){return fo(t,"'"+i+"'",e,function(e){return ho(t,e,!0)})}function mo(t){var e=this;if(e.curOp.focus=s(),!_t(e,t)){os&&ss<11&&27==t.keyCode&&(t.returnValue=!1);var i=t.keyCode;e.display.shift=16==i||t.shiftKey;var n=po(e,t);hs&&(Ea=n?i:null,!n&&88==i&&!Ys&&(vs?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),18!=i||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||vo(e)}}function vo(t){function e(t){18!=t.keyCode&&t.altKey||(Cs(i,"CodeMirror-crosshair"),Ot(document,"keyup",e),Ot(document,"mouseover",e))}var i=t.display.lineDiv;a(i,"CodeMirror-crosshair"),Fs(document,"keyup",e),Fs(document,"mouseover",e)}function yo(t){16==t.keyCode&&(this.doc.sel.shift=!1),_t(this,t)}function bo(t){var e=this;if(!(He(e.display,t)||_t(e,t)||t.ctrlKey&&!t.altKey||vs&&t.metaKey)){var i=t.keyCode,n=t.charCode;if(hs&&i==Ea)return Ea=null,void It(t);if(!hs||t.which&&!(t.which<10)||!po(e,t)){var r=String.fromCharCode(null==n?i:n);"\b"!=r&&(go(e,t,r)||e.display.input.onKeyPress(t))}}}function xo(t){var e=this,i=e.display;if(!(_t(e,t)||i.activeTouch&&i.input.supportsTouch())){if(i.input.ensurePolled(),i.shift=t.shiftKey,He(i,t))return void(as||(i.scroller.draggable=!1,setTimeout(function(){return i.scroller.draggable=!0},100)));if(!To(e,t)){var n=Si(e,t);switch(window.focus(),Wt(t)){case 1:e.state.selectingText?e.state.selectingText(t):n?wo(e,t,n):Bt(t)==i.scroller&&It(t);break;case 2:as&&(e.state.lastMiddleDown=+new Date),n&&dr(e.doc,n),setTimeout(function(){return i.input.focus()},20),It(t);break;case 3:Ss?Mo(e,t):_i(e)}}}}function wo(t,e,i){os?setTimeout(c(Di,t),0):t.curOp.focus=s();var n,r=+new Date;Da&&Da.time>r-400&&0==z(Da.pos,i)?n="triple":Oa&&Oa.time>r-400&&0==z(Oa.pos,i)?(n="double",Da={time:r,pos:i}):(n="single",Oa={time:r,pos:i});var o,a=t.doc.sel,l=vs?e.metaKey:e.ctrlKey;t.options.dragDrop&&$s&&!t.isReadOnly()&&"single"==n&&(o=a.contains(i))>-1&&(z((o=a.ranges[o]).from(),i)<0||i.xRel>0)&&(z(o.to(),i)>0||i.xRel<0)?ko(t,e,i,l):So(t,e,i,n,l)}function ko(t,e,i,n){var r=t.display,o=!1,s=dn(t,function(e){as&&(r.scroller.draggable=!1),t.state.draggingText=!1,Ot(document,"mouseup",s),Ot(document,"mousemove",a),Ot(r.scroller,"dragstart",l),Ot(r.scroller,"drop",s),o||(It(e),n||dr(t.doc,i),as||os&&9==ss?setTimeout(function(){document.body.focus(),r.input.focus()},20):r.input.focus())}),a=function(t){o=o||Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)>=10},l=function(){return o=!0};as&&(r.scroller.draggable=!0),t.state.draggingText=s,s.copy=vs?e.altKey:e.ctrlKey,r.scroller.dragDrop&&r.scroller.dragDrop(),Fs(document,"mouseup",s),Fs(document,"mousemove",a),Fs(r.scroller,"dragstart",l),Fs(r.scroller,"drop",s),_i(t),setTimeout(function(){return r.input.focus()},20)}function So(t,e,i,n,r){function o(e){if(0!=z(b,e))if(b=e,"rect"==n){for(var r=[],o=t.options.tabSize,s=u(A(h,i.line).text,i.ch,o),a=u(A(h,e.line).text,e.ch,o),l=Math.min(s,a),c=Math.max(s,a),m=Math.min(i.line,e.line),v=Math.min(t.lastLine(),Math.max(i.line,e.line));m<=v;m++){var y=A(h,m).text,x=f(y,l,o);l==c?r.push(new fa(I(m,x),I(m,x))):y.length>x&&r.push(new fa(I(m,x),I(m,f(y,c,o))))}r.length||r.push(new fa(i,i)),yr(h,Rn(g.ranges.slice(0,p).concat(r),p),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var w=d,k=w.anchor,S=e;if("single"!=n){var C;C="double"==n?t.findWordAt(e):new fa(I(e.line,0),F(h,I(e.line+1,0))),z(C.anchor,k)>0?(S=C.head,k=W(w.from(),C.anchor)):(S=C.anchor,k=B(w.to(),C.head))}var T=g.ranges.slice(0);T[p]=new fa(F(h,k),S),yr(h,Rn(T,p),Ps)}}function a(e){var i=++w,r=Si(t,e,!0,"rect"==n);if(r)if(0!=z(r,b)){t.curOp.focus=s(),o(r);var l=zi(c,h);(r.line>=l.to||r.line<l.from)&&setTimeout(dn(t,function(){w==i&&a(e)}),150)}else{var u=e.clientY<x.top?-20:e.clientY>x.bottom?20:0;u&&setTimeout(dn(t,function(){w==i&&(c.scroller.scrollTop+=u,a(e))}),50)}}function l(e){t.state.selectingText=!1,w=1/0,It(e),c.input.focus(),Ot(document,"mousemove",k),Ot(document,"mouseup",S),h.history.lastSelOrigin=null}var c=t.display,h=t.doc;It(e);var d,p,g=h.sel,m=g.ranges;if(r&&!e.shiftKey?(p=h.sel.contains(i),d=p>-1?m[p]:new fa(i,i)):(d=h.sel.primary(),p=h.sel.primIndex),ys?e.shiftKey&&e.metaKey:e.altKey)n="rect",r||(d=new fa(i,i)),i=Si(t,e,!0,!0),p=-1;else if("double"==n){var v=t.findWordAt(i);d=t.display.shift||h.extend?ur(h,d,v.anchor,v.head):v}else if("triple"==n){var y=new fa(I(i.line,0),F(h,I(i.line+1,0)));d=t.display.shift||h.extend?ur(h,d,y.anchor,y.head):y}else d=ur(h,d,i);r?p==-1?(p=m.length,yr(h,Rn(m.concat([d]),p),{
scroll:!1,origin:"*mouse"})):m.length>1&&m[p].empty()&&"single"==n&&!e.shiftKey?(yr(h,Rn(m.slice(0,p).concat(m.slice(p+1)),0),{scroll:!1,origin:"*mouse"}),g=h.sel):pr(h,p,d,Ps):(p=0,yr(h,new da([d],0),Ps),g=h.sel);var b=i,x=c.wrapper.getBoundingClientRect(),w=0,k=dn(t,function(t){Wt(t)?a(t):l(t)}),S=dn(t,l);t.state.selectingText=S,Fs(document,"mousemove",k),Fs(document,"mouseup",S)}function Co(t,e,i,n){var r,o;try{r=e.clientX,o=e.clientY}catch(t){return!1}if(r>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;n&&It(e);var s=t.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!Et(t,i))return Rt(e);o-=a.top-s.viewOffset;for(var l=0;l<t.options.gutters.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=r){var h=P(t.doc,o),u=t.options.gutters[l];return Dt(t,i,t,h,u,e),Rt(e)}}}function To(t,e){return Co(t,e,"gutterClick",!0)}function Mo(t,e){He(t.display,e)||Ao(t,e)||_t(t,e,"contextmenu")||t.display.input.onContextMenu(e)}function Ao(t,e){return!!Et(t,"gutterContextMenu")&&Co(t,e,"gutterContextMenu",!1)}function Lo(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),ri(t)}function Oo(t){function e(e,n,r,o){t.defaults[e]=n,r&&(i[e]=o?function(t,e,i){i!=Na&&r(t,e,i)}:r)}var i=t.optionHandlers;t.defineOption=e,t.Init=Na,e("value","",function(t,e){return t.setValue(e)},!0),e("mode",null,function(t,e){t.doc.modeOption=e,Gn(t)},!0),e("indentUnit",2,Gn,!0),e("indentWithTabs",!1),e("smartIndent",!0),e("tabSize",4,function(t){Xn(t),ri(t),gn(t)},!0),e("lineSeparator",null,function(t,e){if(t.doc.lineSep=e,e){var i=[],n=t.doc.first;t.doc.iter(function(t){for(var r=0;;){var o=t.text.indexOf(e,r);if(o==-1)break;r=o+e.length,i.push(I(n,o))}n++});for(var r=i.length-1;r>=0;r--)Nr(t.doc,e,i[r],I(i[r].line,i[r].ch+e.length))}}),e("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,e,i){t.state.specialChars=new RegExp(e.source+(e.test("\t")?"":"|\t"),"g"),i!=Na&&t.refresh()}),e("specialCharPlaceholder",de,function(t){return t.refresh()},!0),e("electricChars",!0),e("inputStyle",ms?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),e("spellcheck",!1,function(t,e){return t.getInputField().spellcheck=e},!0),e("rtlMoveVisually",!bs),e("wholeLineUpdateBefore",!0),e("theme","default",function(t){Lo(t),Do(t)},!0),e("keyMap","default",function(t,e,i){var n=oo(e),r=i!=Na&&oo(i);r&&r.detach&&r.detach(t,n),n.attach&&n.attach(t,r||null)}),e("extraKeys",null),e("lineWrapping",!1,Po,!0),e("gutters",[],function(t){En(t.options),Do(t)},!0),e("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?xi(t.display)+"px":"0",t.refresh()},!0),e("coverGutterNextToScrollbar",!1,function(t){return Qi(t)},!0),e("scrollbarStyle","native",function(t){en(t),Qi(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)},!0),e("lineNumbers",!1,function(t){En(t.options),Do(t)},!0),e("firstLineNumber",1,Do,!0),e("lineNumberFormatter",function(t){return t},Do,!0),e("showCursorWhenSelecting",!1,Ti,!0),e("resetSelectionOnContextMenu",!0),e("lineWiseCopyCut",!0),e("readOnly",!1,function(t,e){"nocursor"==e?(Ei(t),t.display.input.blur(),t.display.disabled=!0):t.display.disabled=!1,t.display.input.readOnlyChanged(e)}),e("disableInput",!1,function(t,e){e||t.display.input.reset()},!0),e("dragDrop",!0,_o),e("allowDropFileTypes",null),e("cursorBlinkRate",530),e("cursorScrollMargin",0),e("cursorHeight",1,Ti,!0),e("singleCursorHeightPerLine",!0,Ti,!0),e("workTime",100),e("workDelay",100),e("flattenSpans",!0,Xn,!0),e("addModeClass",!1,Xn,!0),e("pollInterval",100),e("undoDepth",200,function(t,e){return t.doc.history.undoDepth=e}),e("historyEventDelay",1250),e("viewportMargin",10,function(t){return t.refresh()},!0),e("maxHighlightLength",1e4,Xn,!0),e("moveInputWithCursor",!0,function(t,e){e||t.display.input.resetPosition()}),e("tabindex",null,function(t,e){return t.display.input.getField().tabIndex=e||""}),e("autofocus",null),e("direction","ltr",function(t,e){return t.doc.setDirection(e)},!0)}function Do(t){Pn(t),gn(t),Ri(t)}function _o(t,e,i){var n=i&&i!=Na;if(!e!=!n){var r=t.display.dragFunctions,o=e?Fs:Ot;o(t.display.scroller,"dragstart",r.start),o(t.display.scroller,"dragenter",r.enter),o(t.display.scroller,"dragover",r.over),o(t.display.scroller,"dragleave",r.leave),o(t.display.scroller,"drop",r.drop)}}function Po(t){t.options.lineWrapping?(a(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(Cs(t.display.wrapper,"CodeMirror-wrap"),xt(t)),ki(t),gn(t),ri(t),setTimeout(function(){return Qi(t)},100)}function Eo(t,e){var i=this;if(!(this instanceof Eo))return new Eo(t,e);this.options=e=e?h(e):{},h(Ia,e,!1),En(e);var n=e.value;"string"==typeof n&&(n=new wa(n,e.mode,null,e.lineSeparator,e.direction)),this.doc=n;var r=new Eo.inputStyles[e.inputStyle](this),o=this.display=new M(t,n,r);o.wrapper.CodeMirror=this,Pn(this),Lo(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),en(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Ms,keySeq:null,specialChars:null},e.autofocus&&!ms&&o.input.focus(),os&&ss<11&&setTimeout(function(){return i.display.input.reset(!0)},20),No(this),Zr(),nn(this),this.curOp.forceUpdate=!0,Vn(this,n),e.autofocus&&!ms||this.hasFocus()?setTimeout(c(Pi,this),20):Ei(this);for(var s in za)za.hasOwnProperty(s)&&za[s](i,e[s],Na);Hi(this),e.finishInit&&e.finishInit(this);for(var a=0;a<Ra.length;++a)Ra[a](i);rn(this),as&&e.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function No(t){function e(){r.activeTouch&&(o=setTimeout(function(){return r.activeTouch=null},1e3),s=r.activeTouch,s.end=+new Date)}function i(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}function n(t,e){if(null==e.left)return!0;var i=e.left-t.left,n=e.top-t.top;return i*i+n*n>400}var r=t.display;Fs(r.scroller,"mousedown",dn(t,xo)),os&&ss<11?Fs(r.scroller,"dblclick",dn(t,function(e){if(!_t(t,e)){var i=Si(t,e);if(i&&!To(t,e)&&!He(t.display,e)){It(e);var n=t.findWordAt(i);dr(t.doc,n.anchor,n.head)}}})):Fs(r.scroller,"dblclick",function(e){return _t(t,e)||It(e)}),Ss||Fs(r.scroller,"contextmenu",function(e){return Mo(t,e)});var o,s={end:0};Fs(r.scroller,"touchstart",function(e){if(!_t(t,e)&&!i(e)){r.input.ensurePolled(),clearTimeout(o);var n=+new Date;r.activeTouch={start:n,moved:!1,prev:n-s.end<=300?s:null},1==e.touches.length&&(r.activeTouch.left=e.touches[0].pageX,r.activeTouch.top=e.touches[0].pageY)}}),Fs(r.scroller,"touchmove",function(){r.activeTouch&&(r.activeTouch.moved=!0)}),Fs(r.scroller,"touchend",function(i){var o=r.activeTouch;if(o&&!He(r,i)&&null!=o.left&&!o.moved&&new Date-o.start<300){var s,a=t.coordsChar(r.activeTouch,"page");s=!o.prev||n(o,o.prev)?new fa(a,a):!o.prev.prev||n(o,o.prev.prev)?t.findWordAt(a):new fa(I(a.line,0),F(t.doc,I(a.line+1,0))),t.setSelection(s.anchor,s.head),t.focus(),It(i)}e()}),Fs(r.scroller,"touchcancel",e),Fs(r.scroller,"scroll",function(){r.scroller.clientHeight&&(Vi(t,r.scroller.scrollTop),Zi(t,r.scroller.scrollLeft,!0),Dt(t,"scroll",t))}),Fs(r.scroller,"mousewheel",function(e){return zn(t,e)}),Fs(r.scroller,"DOMMouseScroll",function(e){return zn(t,e)}),Fs(r.wrapper,"scroll",function(){return r.wrapper.scrollTop=r.wrapper.scrollLeft=0}),r.dragFunctions={enter:function(e){_t(t,e)||Ht(e)},over:function(e){_t(t,e)||(Ur(t,e),Ht(e))},start:function(e){return qr(t,e)},drop:dn(t,Yr),leave:function(e){_t(t,e)||Vr(t)}};var a=r.input.getField();Fs(a,"keyup",function(e){return yo.call(t,e)}),Fs(a,"keydown",dn(t,mo)),Fs(a,"keypress",dn(t,bo)),Fs(a,"focus",function(e){return Pi(t,e)}),Fs(a,"blur",function(e){return Ei(t,e)})}function Io(t,e,i,n){var r,o=t.doc;null==i&&(i="add"),"smart"==i&&(o.mode.indent?r=te(t,e):i="prev");var s=t.options.tabSize,a=A(o,e),l=u(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,h=a.text.match(/^\s*/)[0];if(n||/\S/.test(a.text)){if("smart"==i&&(c=o.mode.indent(r,a.text.slice(h.length),a.text),c==Ds||c>150)){if(!n)return;i="prev"}}else c=0,i="not";"prev"==i?c=e>o.first?u(A(o,e-1).text,null,s):0:"add"==i?c=l+t.options.indentUnit:"subtract"==i?c=l-t.options.indentUnit:"number"==typeof i&&(c=l+i),c=Math.max(0,c);var d="",f=0;if(t.options.indentWithTabs)for(var g=Math.floor(c/s);g;--g)f+=s,d+="\t";if(f<c&&(d+=p(c-f)),d!=h)return Nr(o,d,I(e,0),I(e,h.length),"+input"),a.stateAfter=null,!0;for(var m=0;m<o.sel.ranges.length;m++){var v=o.sel.ranges[m];if(v.head.line==e&&v.head.ch<h.length){var y=I(e,h.length);pr(o,m,new fa(y,y));break}}}function zo(t){Ha=t}function Ro(t,e,i,n,r){var o=t.doc;t.display.shift=!1,n||(n=o.sel);var s=t.state.pasteIncoming||"paste"==r,a=Gs(e),l=null;if(s&&n.ranges.length>1)if(Ha&&Ha.text.join("\n")==e){if(n.ranges.length%Ha.text.length==0){l=[];for(var c=0;c<Ha.text.length;c++)l.push(o.splitLines(Ha.text[c]))}}else a.length==n.ranges.length&&(l=m(a,function(t){return[t]}));for(var h,u=n.ranges.length-1;u>=0;u--){var d=n.ranges[u],f=d.from(),p=d.to();d.empty()&&(i&&i>0?f=I(f.line,f.ch-i):t.state.overwrite&&!s?p=I(p.line,Math.min(A(o,p.line).text.length,p.ch+g(a).length)):Ha&&Ha.lineWise&&Ha.text.join("\n")==e&&(f=p=I(f.line,0))),h=t.curOp.updateInput;var v={from:f,to:p,text:l?l[u%l.length]:a,origin:r||(s?"paste":t.state.cutIncoming?"cut":"+input")};Lr(t.doc,v),Se(t,"inputRead",t,v)}e&&!s&&Bo(t,e),Gi(t),t.curOp.updateInput=h,t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=!1}function Ho(t,e){var i=t.clipboardData&&t.clipboardData.getData("Text");if(i)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||un(e,function(){return Ro(e,i,0,null,"paste")}),!0}function Bo(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var i=t.doc.sel,n=i.ranges.length-1;n>=0;n--){var r=i.ranges[n];if(!(r.head.ch>100||n&&i.ranges[n-1].head.line==r.head.line)){var o=t.getModeAt(r.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(e.indexOf(o.electricChars.charAt(a))>-1){s=Io(t,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(A(t.doc,r.head.line).text.slice(0,r.head.ch))&&(s=Io(t,r.head.line,"smart"));s&&Se(t,"electricInput",t,r.head.line)}}}function Wo(t){for(var e=[],i=[],n=0;n<t.doc.sel.ranges.length;n++){var r=t.doc.sel.ranges[n].head.line,o={anchor:I(r,0),head:I(r+1,0)};i.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:i}}function jo(t,e){t.setAttribute("autocorrect","off"),t.setAttribute("autocapitalize","off"),t.setAttribute("spellcheck",!!e)}function Fo(){var t=n("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),e=n("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return as?t.style.width="1000px":t.setAttribute("wrap","off"),ps&&(t.style.border="1px solid black"),jo(t),e}function $o(t,e,i,n,r){function o(){var n=e.line+i;return!(n<t.first||n>=t.first+t.size)&&(e=new I(n,e.ch,e.sticky),c=A(t,n))}function s(n){var s;if(s=r?At(t.cm,c,e,i):Tt(c,e,i),null==s){if(n||!o())return!1;e=Mt(r,t.cm,c,e.line,i)}else e=s;return!0}var a=e,l=i,c=A(t,e.line);if("char"==n)s();else if("column"==n)s(!0);else if("word"==n||"group"==n)for(var h=null,u="group"==n,d=t.cm&&t.cm.getHelper(e,"wordChars"),f=!0;!(i<0)||s(!f);f=!1){var p=c.text.charAt(e.ch)||"\n",g=w(p,d)?"w":u&&"\n"==p?"n":!u||/\s/.test(p)?null:"p";if(!u||f||g||(g="s"),h&&h!=g){i<0&&(i=1,s(),e.sticky="after");break}if(g&&(h=g),i>0&&!s(!f))break}var m=Cr(t,e,a,l,!0);return R(a,m)&&(m.hitSide=!0),m}function Go(t,e,i,n){var r,o=t.doc,s=e.left;if("page"==n){var a=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),l=Math.max(a-.5*vi(t.display),3);r=(i>0?e.bottom:e.top)+i*l}else"line"==n&&(r=i>0?e.bottom+3:e.top-3);for(var c;c=fi(t,s,r),c.outside;){if(i<0?r<=0:r>=o.height){c.hitSide=!0;break}r+=5*i}return c}function Xo(t,e){var i=Ve(t,e.line);if(!i||i.hidden)return null;var n=A(t.doc,e.line),r=Ye(i,n,e.line),o=St(n,t.doc.direction),s="left";if(o){var a=kt(o,e.ch);s=a%2?"right":"left"}var l=Je(r.map,e.ch,s);return l.offset="right"==l.collapse?l.end:l.start,l}function Yo(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}function qo(t,e){return e&&(t.bad=!0),t}function Uo(t,e,i,n,r){function o(t){return function(e){return e.id==t}}function s(){h&&(c+=u,h=!1)}function a(t){t&&(s(),c+=t)}function l(e){if(1==e.nodeType){var i=e.getAttribute("cm-text");if(null!=i)return void a(i||e.textContent.replace(/\u200b/g,""));var c,d=e.getAttribute("cm-marker");if(d){var f=t.findMarks(I(n,0),I(r+1,0),o(+d));return void(f.length&&(c=f[0].find())&&a(L(t.doc,c.from,c.to).join(u)))}if("false"==e.getAttribute("contenteditable"))return;var p=/^(pre|div|p)$/i.test(e.nodeName);p&&s();for(var g=0;g<e.childNodes.length;g++)l(e.childNodes[g]);p&&(h=!0)}else 3==e.nodeType&&a(e.nodeValue)}for(var c="",h=!1,u=t.doc.lineSeparator();l(e),e!=i;)e=e.nextSibling;return c}function Vo(t,e,i){var n;if(e==t.display.lineDiv){if(n=t.display.lineDiv.childNodes[i],!n)return qo(t.clipPos(I(t.display.viewTo-1)),!0);e=null,i=0}else for(n=e;;n=n.parentNode){if(!n||n==t.display.lineDiv)return null;if(n.parentNode&&n.parentNode==t.display.lineDiv)break}for(var r=0;r<t.display.view.length;r++){var o=t.display.view[r];if(o.node==n)return Ko(o,e,i)}}function Ko(t,e,i){function n(e,i,n){for(var r=-1;r<(u?u.length:0);r++)for(var o=r<0?h.map:u[r],s=0;s<o.length;s+=3){var a=o[s+2];if(a==e||a==i){var l=_(r<0?t.line:t.rest[r]),c=o[s]+n;return(n<0||a!=e)&&(c=o[s+(n?1:0)]),I(l,c)}}}var r=t.text.firstChild,s=!1;if(!e||!o(r,e))return qo(I(_(t.line),0),!0);if(e==r&&(s=!0,e=r.childNodes[i],i=0,!e)){var a=t.rest?g(t.rest):t.line;return qo(I(_(a),a.text.length),s)}var l=3==e.nodeType?e:null,c=e;for(l||1!=e.childNodes.length||3!=e.firstChild.nodeType||(l=e.firstChild,i&&(i=l.nodeValue.length));c.parentNode!=r;)c=c.parentNode;var h=t.measure,u=h.maps,d=n(l,c,i);if(d)return qo(d,s);for(var f=c.nextSibling,p=l?l.nodeValue.length-i:0;f;f=f.nextSibling){if(d=n(f,f.firstChild,0))return qo(I(d.line,d.ch-p),s);p+=f.textContent.length}for(var m=c.previousSibling,v=i;m;m=m.previousSibling){if(d=n(m,m.firstChild,-1))return qo(I(d.line,d.ch+v),s);v+=m.textContent.length}}function Zo(t,e){function i(){t.value=l.getValue()}if(e=e?h(e):{},e.value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var n=s();e.autofocus=n==t||null!=t.getAttribute("autofocus")&&n==document.body}var r;if(t.form&&(Fs(t.form,"submit",i),!e.leaveSubmitMethodAlone)){var o=t.form;r=o.submit;try{var a=o.submit=function(){i(),o.submit=r,o.submit(),o.submit=a}}catch(t){}}e.finishInit=function(e){e.save=i,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,i(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(Ot(t.form,"submit",i),"function"==typeof t.form.submit&&(t.form.submit=r))}},t.style.display="none";var l=Eo(function(e){return t.parentNode.insertBefore(e,t.nextSibling)},e);return l}function Jo(t){t.off=Ot,t.on=Fs,t.wheelEventPixels=In,t.Doc=wa,t.splitLines=Gs,t.countColumn=u,t.findColumn=f,t.isWordChar=x,t.Pass=Ds,t.signal=Dt,t.Line=Js,t.changeEnd=Bn,t.scrollbarModel=aa,t.Pos=I,t.cmpPos=z,t.modes=Us,t.mimeModes=Vs,t.resolveMode=Yt,t.getMode=qt,t.modeExtensions=Ks,t.extendMode=Ut,t.copyState=Vt,t.startState=Zt,t.innerMode=Kt,t.commands=_a,t.keyMap=La,t.keyName=ro,t.isModifierKey=no,t.lookupKey=io,t.normalizeKeyMap=eo,t.StringStream=Zs,t.SharedTextMarker=ba,t.TextMarker=ya,t.LineWidget=ma,t.e_preventDefault=It,t.e_stopPropagation=zt,t.e_stop=Ht,t.addClass=a,t.contains=o,t.rmClass=Cs,t.keyNames=Ca}var Qo=navigator.userAgent,ts=navigator.platform,es=/gecko\/\d/i.test(Qo),is=/MSIE \d/.test(Qo),ns=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Qo),rs=/Edge\/(\d+)/.exec(Qo),os=is||ns||rs,ss=os&&(is?document.documentMode||6:+(rs||ns)[1]),as=!rs&&/WebKit\//.test(Qo),ls=as&&/Qt\/\d+\.\d+/.test(Qo),cs=!rs&&/Chrome\//.test(Qo),hs=/Opera\//.test(Qo),us=/Apple Computer/.test(navigator.vendor),ds=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(Qo),fs=/PhantomJS/.test(Qo),ps=!rs&&/AppleWebKit/.test(Qo)&&/Mobile\/\w+/.test(Qo),gs=/Android/.test(Qo),ms=ps||gs||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(Qo),vs=ps||/Mac/.test(ts),ys=/\bCrOS\b/.test(Qo),bs=/win/i.test(ts),xs=hs&&Qo.match(/Version\/(\d*\.\d*)/);xs&&(xs=Number(xs[1])),xs&&xs>=15&&(hs=!1,as=!0);var ws,ks=vs&&(ls||hs&&(null==xs||xs<12.11)),Ss=es||os&&ss>=9,Cs=function(e,i){var n=e.className,r=t(i).exec(n);if(r){var o=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(o?r[1]+o:"")}};ws=document.createRange?function(t,e,i,n){var r=document.createRange();return r.setEnd(n||t,i),r.setStart(t,e),r}:function(t,e,i){var n=document.body.createTextRange();try{n.moveToElementText(t.parentNode)}catch(t){return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",e),n};var Ts=function(t){t.select()};ps?Ts=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:os&&(Ts=function(t){try{t.select()}catch(t){}});var Ms=function(){this.id=null};Ms.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var As,Ls,Os=30,Ds={toString:function(){return"CodeMirror.Pass"}},_s={scroll:!1},Ps={origin:"*mouse"},Es={origin:"+move"},Ns=[""],Is=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,zs=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,Rs=!1,Hs=!1,Bs=null,Ws=function(){function t(t){return t<=247?i.charAt(t):1424<=t&&t<=1524?"R":1536<=t&&t<=1785?n.charAt(t-1536):1774<=t&&t<=2220?"r":8192<=t&&t<=8203?"w":8204==t?"b":"L"}function e(t,e,i){this.level=t,this.from=e,this.to=i}var i="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,s=/[LRr]/,a=/[Lb1n]/,l=/[1n]/;return function(i,n){var c="ltr"==n?"L":"R";if(0==i.length||"ltr"==n&&!r.test(i))return!1;for(var h=i.length,u=[],d=0;d<h;++d)u.push(t(i.charCodeAt(d)));for(var f=0,p=c;f<h;++f){var m=u[f];"m"==m?u[f]=p:p=m}for(var v=0,y=c;v<h;++v){var b=u[v];"1"==b&&"r"==y?u[v]="n":s.test(b)&&(y=b,"r"==b&&(u[v]="R"))}for(var x=1,w=u[0];x<h-1;++x){var k=u[x];"+"==k&&"1"==w&&"1"==u[x+1]?u[x]="1":","!=k||w!=u[x+1]||"1"!=w&&"n"!=w||(u[x]=w),w=k}for(var S=0;S<h;++S){var C=u[S];if(","==C)u[S]="N";else if("%"==C){var T=void 0;for(T=S+1;T<h&&"%"==u[T];++T);for(var M=S&&"!"==u[S-1]||T<h&&"1"==u[T]?"1":"N",A=S;A<T;++A)u[A]=M;S=T-1}}for(var L=0,O=c;L<h;++L){var D=u[L];"L"==O&&"1"==D?u[L]="L":s.test(D)&&(O=D)}for(var _=0;_<h;++_)if(o.test(u[_])){var P=void 0;for(P=_+1;P<h&&o.test(u[P]);++P);for(var E="L"==(_?u[_-1]:c),N="L"==(P<h?u[P]:c),I=E==N?E?"L":"R":c,z=_;z<P;++z)u[z]=I;_=P-1}for(var R,H=[],B=0;B<h;)if(a.test(u[B])){var W=B;for(++B;B<h&&a.test(u[B]);++B);H.push(new e(0,W,B))}else{var j=B,F=H.length;for(++B;B<h&&"L"!=u[B];++B);for(var $=j;$<B;)if(l.test(u[$])){j<$&&H.splice(F,0,new e(1,j,$));var G=$;for(++$;$<B&&l.test(u[$]);++$);H.splice(F,0,new e(2,G,$)),j=$}else++$;j<B&&H.splice(F,0,new e(1,j,B))}return 1==H[0].level&&(R=i.match(/^\s+/))&&(H[0].from=R[0].length,H.unshift(new e(0,0,R[0].length))),1==g(H).level&&(R=i.match(/\s+$/))&&(g(H).to-=R[0].length,H.push(new e(0,h-R[0].length,h))),"rtl"==n?H.reverse():H}}(),js=[],Fs=function(t,e,i){if(t.addEventListener)t.addEventListener(e,i,!1);else if(t.attachEvent)t.attachEvent("on"+e,i);else{var n=t._handlers||(t._handlers={});n[e]=(n[e]||js).concat(i)}},$s=function(){if(os&&ss<9)return!1;var t=n("div");return"draggable"in t||"dragDrop"in t}(),Gs=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,i=[],n=t.length;e<=n;){var r=t.indexOf("\n",e);r==-1&&(r=t.length);var o=t.slice(e,"\r"==t.charAt(r-1)?r-1:r),s=o.indexOf("\r");s!=-1?(i.push(o.slice(0,s)),e+=s+1):(i.push(o),e=r+1)}return i}:function(t){return t.split(/\r\n?|\n/)},Xs=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(t){return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch(t){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},Ys=function(){var t=n("div");return"oncopy"in t||(t.setAttribute("oncopy","return;"),"function"==typeof t.oncopy)}(),qs=null,Us={},Vs={},Ks={},Zs=function(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};Zs.prototype.eol=function(){return this.pos>=this.string.length},Zs.prototype.sol=function(){return this.pos==this.lineStart},Zs.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Zs.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Zs.prototype.eat=function(t){var e,i=this.string.charAt(this.pos);if(e="string"==typeof t?i==t:i&&(t.test?t.test(i):t(i)))return++this.pos,i},Zs.prototype.eatWhile=function(t){for(var e=this.pos;this.eat(t););return this.pos>e},Zs.prototype.eatSpace=function(){for(var t=this,e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++t.pos;return this.pos>e},Zs.prototype.skipToEnd=function(){this.pos=this.string.length},Zs.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},Zs.prototype.backUp=function(t){this.pos-=t},Zs.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=u(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?u(this.string,this.lineStart,this.tabSize):0)},Zs.prototype.indentation=function(){return u(this.string,null,this.tabSize)-(this.lineStart?u(this.string,this.lineStart,this.tabSize):0)},Zs.prototype.match=function(t,e,i){if("string"!=typeof t){var n=this.string.slice(this.pos).match(t);return n&&n.index>0?null:(n&&e!==!1&&(this.pos+=n[0].length),n)}var r=function(t){return i?t.toLowerCase():t},o=this.string.substr(this.pos,t.length);if(r(o)==r(t))return e!==!1&&(this.pos+=t.length),!0},Zs.prototype.current=function(){return this.string.slice(this.start,this.pos)},Zs.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}};var Js=function(t,e,i){this.text=t,nt(this,e),this.height=i?i(this):1};Js.prototype.lineNo=function(){return _(this)},Nt(Js);var Qs,ta={},ea={},ia=null,na=null,ra={left:0,right:0,top:0,bottom:0},oa=function(t,e,i){this.cm=i;var r=this.vert=n("div",[n("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=n("div",[n("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");t(r),t(o),Fs(r,"scroll",function(){r.clientHeight&&e(r.scrollTop,"vertical")}),Fs(o,"scroll",function(){o.clientWidth&&e(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,os&&ss<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};oa.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,i=t.scrollHeight>t.clientHeight+1,n=t.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=e?n+"px":"0";var r=t.viewHeight-(e?n:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=i?n+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(i?n:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:i?n:0,bottom:e?n:0}},oa.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},oa.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},oa.prototype.zeroWidthHack=function(){var t=vs&&!ds?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Ms,this.disableVert=new Ms},oa.prototype.enableZeroWidthBar=function(t,e,i){function n(){var r=t.getBoundingClientRect(),o="vert"==i?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1);o!=t?t.style.pointerEvents="none":e.set(1e3,n)}t.style.pointerEvents="auto",e.set(1e3,n)},oa.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var sa=function(){};sa.prototype.update=function(){return{bottom:0,right:0}},sa.prototype.setScrollLeft=function(){},sa.prototype.setScrollTop=function(){},sa.prototype.clear=function(){};var aa={native:oa,null:sa},la=0,ca=function(t,e,i){var n=t.display;this.viewport=e,this.visible=zi(n,t.doc,e),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=$e(t),this.force=i,this.dims=bi(t),this.events=[]};ca.prototype.signal=function(t,e){Et(t,e)&&this.events.push(arguments)},ca.prototype.finish=function(){for(var t=this,e=0;e<this.events.length;e++)Dt.apply(null,t.events[e])};var ha=0,ua=null;os?ua=-.53:es?ua=15:cs?ua=-.7:us&&(ua=-1/3);var da=function(t,e){this.ranges=t,this.primIndex=e};da.prototype.primary=function(){return this.ranges[this.primIndex]},da.prototype.equals=function(t){var e=this;if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var i=0;i<this.ranges.length;i++){var n=e.ranges[i],r=t.ranges[i];if(!R(n.anchor,r.anchor)||!R(n.head,r.head))return!1}return!0},da.prototype.deepCopy=function(){for(var t=this,e=[],i=0;i<this.ranges.length;i++)e[i]=new fa(H(t.ranges[i].anchor),H(t.ranges[i].head));return new da(e,this.primIndex)},da.prototype.somethingSelected=function(){for(var t=this,e=0;e<this.ranges.length;e++)if(!t.ranges[e].empty())return!0;return!1},da.prototype.contains=function(t,e){var i=this;e||(e=t);for(var n=0;n<this.ranges.length;n++){var r=i.ranges[n];if(z(e,r.from())>=0&&z(t,r.to())<=0)return n}return-1};var fa=function(t,e){this.anchor=t,this.head=e};fa.prototype.from=function(){return W(this.anchor,this.head)},fa.prototype.to=function(){return B(this.anchor,this.head)},fa.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};var pa=function(t){var e=this;this.lines=t,this.parent=null;for(var i=0,n=0;n<t.length;++n)t[n].parent=e,i+=t[n].height;this.height=i};pa.prototype.chunkSize=function(){return this.lines.length},pa.prototype.removeInner=function(t,e){for(var i=this,n=t,r=t+e;n<r;++n){var o=i.lines[n];i.height-=o.height,ce(o),Se(o,"delete")}this.lines.splice(t,e)},pa.prototype.collapse=function(t){t.push.apply(t,this.lines)},pa.prototype.insertInner=function(t,e,i){var n=this;this.height+=i,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var r=0;r<e.length;++r)e[r].parent=n},pa.prototype.iterN=function(t,e,i){for(var n=this,r=t+e;t<r;++t)if(i(n.lines[t]))return!0};var ga=function(t){var e=this;this.children=t;for(var i=0,n=0,r=0;r<t.length;++r){var o=t[r];i+=o.chunkSize(),n+=o.height,o.parent=e}this.size=i,this.height=n,this.parent=null};ga.prototype.chunkSize=function(){return this.size},ga.prototype.removeInner=function(t,e){var i=this;this.size-=e;for(var n=0;n<this.children.length;++n){var r=i.children[n],o=r.chunkSize();if(t<o){var s=Math.min(e,o-t),a=r.height;if(r.removeInner(t,s),i.height-=a-r.height,o==s&&(i.children.splice(n--,1),r.parent=null),0==(e-=s))break;t=0}else t-=o}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof pa))){var l=[];this.collapse(l),this.children=[new pa(l)],this.children[0].parent=this}},ga.prototype.collapse=function(t){for(var e=this,i=0;i<this.children.length;++i)e.children[i].collapse(t)},ga.prototype.insertInner=function(t,e,i){var n=this;this.size+=e.length,this.height+=i;for(var r=0;r<this.children.length;++r){var o=n.children[r],s=o.chunkSize();if(t<=s){if(o.insertInner(t,e,i),o.lines&&o.lines.length>50){for(var a=o.lines.length%25+25,l=a;l<o.lines.length;){var c=new pa(o.lines.slice(l,l+=25));o.height-=c.height,n.children.splice(++r,0,c),c.parent=n}o.lines=o.lines.slice(0,a),n.maybeSpill()}break}t-=s}},ga.prototype.maybeSpill=function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),i=new ga(e);if(t.parent){t.size-=i.size,t.height-=i.height;var n=d(t.parent.children,t);t.parent.children.splice(n+1,0,i)}else{var r=new ga(t.children);r.parent=t,t.children=[r,i],t=r}i.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},ga.prototype.iterN=function(t,e,i){for(var n=this,r=0;r<this.children.length;++r){var o=n.children[r],s=o.chunkSize();if(t<s){var a=Math.min(e,s-t);if(o.iterN(t,a,i))return!0;if(0==(e-=a))break;t=0}else t-=s}};var ma=function(t,e,i){var n=this;if(i)for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r]);this.doc=t,this.node=e};ma.prototype.clear=function(){var t=this,e=this.doc.cm,i=this.line.widgets,n=this.line,r=_(n);if(null!=r&&i){for(var o=0;o<i.length;++o)i[o]==t&&i.splice(o--,1);i.length||(n.widgets=null);var s=Re(this);D(n,Math.max(0,n.height-s)),
e&&(un(e,function(){Br(e,n,-s),mn(e,r,"widget")}),Se(e,"lineWidgetCleared",e,this,r))}},ma.prototype.changed=function(){var t=this,e=this.height,i=this.doc.cm,n=this.line;this.height=null;var r=Re(this)-e;r&&(D(n,n.height+r),i&&un(i,function(){i.curOp.forceUpdate=!0,Br(i,n,r),Se(i,"lineWidgetChanged",i,t,_(n))}))},Nt(ma);var va=0,ya=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++va};ya.prototype.clear=function(){var t=this;if(!this.explicitlyCleared){var e=this.doc.cm,i=e&&!e.curOp;if(i&&nn(e),Et(this,"clear")){var n=this.find();n&&Se(this,"clear",n.from,n.to)}for(var r=null,o=null,s=0;s<this.lines.length;++s){var a=t.lines[s],l=U(a.markedSpans,t);e&&!t.collapsed?mn(e,_(a),"text"):e&&(null!=l.to&&(o=_(a)),null!=l.from&&(r=_(a))),a.markedSpans=V(a.markedSpans,l),null==l.from&&t.collapsed&&!mt(t.doc,a)&&e&&D(a,vi(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var c=0;c<this.lines.length;++c){var h=ut(t.lines[c]),u=bt(h);u>e.display.maxLineLength&&(e.display.maxLine=h,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&gn(e,r,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&wr(e.doc)),e&&Se(e,"markerCleared",e,this,r,o),i&&rn(e),this.parent&&this.parent.clear()}},ya.prototype.find=function(t,e){var i=this;null==t&&"bookmark"==this.type&&(t=1);for(var n,r,o=0;o<this.lines.length;++o){var s=i.lines[o],a=U(s.markedSpans,i);if(null!=a.from&&(n=I(e?s:_(s),a.from),t==-1))return n;if(null!=a.to&&(r=I(e?s:_(s),a.to),1==t))return r}return n&&{from:n,to:r}},ya.prototype.changed=function(){var t=this,e=this.find(-1,!0),i=this,n=this.doc.cm;e&&n&&un(n,function(){var r=e.line,o=_(e.line),s=Ve(n,o);if(s&&(ii(s),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!mt(i.doc,r)&&null!=i.height){var a=i.height;i.height=null;var l=Re(i)-a;l&&D(r,r.height+l)}Se(n,"markerChanged",n,t)})},ya.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&d(e.maybeHiddenMarkers,this)!=-1||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},ya.prototype.detachLine=function(t){if(this.lines.splice(d(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},Nt(ya);var ba=function(t,e){var i=this;this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=i};ba.prototype.clear=function(){var t=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)t.markers[e].clear();Se(this,"clear")}},ba.prototype.find=function(t,e){return this.primary.find(t,e)},Nt(ba);var xa=0,wa=function(t,e,i,n,r){if(!(this instanceof wa))return new wa(t,e,i,n,r);null==i&&(i=0),ga.call(this,[new pa([new Js("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=i;var o=I(i,0);this.sel=Hn(o),this.history=new Jn(null),this.id=++xa,this.modeOption=e,this.lineSep=n,this.direction="rtl"==r?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),qn(this,{from:o,to:o,text:t}),yr(this,Hn(o),_s)};wa.prototype=b(ga.prototype,{constructor:wa,iter:function(t,e,i){i?this.iterN(t-this.first,e-t,i):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var i=0,n=0;n<e.length;++n)i+=e[n].height;this.insertInner(t-this.first,e,i)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=O(this,this.first,this.first+this.size);return t===!1?e:e.join(t||this.lineSeparator())},setValue:pn(function(t){var e=I(this.first,0),i=this.first+this.size-1;Lr(this,{from:e,to:I(i,A(this,i).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&Xi(this.cm,0,0),yr(this,Hn(e),_s)}),replaceRange:function(t,e,i,n){e=F(this,e),i=i?F(this,i):e,Nr(this,t,e,i,n)},getRange:function(t,e,i){var n=L(this,F(this,t),F(this,e));return i===!1?n:n.join(i||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(E(this,t))return A(this,t)},getLineNumber:function(t){return _(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=A(this,t)),ut(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return F(this,t)},getCursor:function(t){var e,i=this.sel.primary();return e=null==t||"head"==t?i.head:"anchor"==t?i.anchor:"end"==t||"to"==t||t===!1?i.to():i.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:pn(function(t,e,i){gr(this,F(this,"number"==typeof t?I(t,e||0):t),null,i)}),setSelection:pn(function(t,e,i){gr(this,F(this,t),F(this,e||t),i)}),extendSelection:pn(function(t,e,i){dr(this,F(this,t),e&&F(this,e),i)}),extendSelections:pn(function(t,e){fr(this,G(this,t),e)}),extendSelectionsBy:pn(function(t,e){var i=m(this.sel.ranges,t);fr(this,G(this,i),e)}),setSelections:pn(function(t,e,i){var n=this;if(t.length){for(var r=[],o=0;o<t.length;o++)r[o]=new fa(F(n,t[o].anchor),F(n,t[o].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),yr(this,Rn(r,e),i)}}),addSelection:pn(function(t,e,i){var n=this.sel.ranges.slice(0);n.push(new fa(F(this,t),F(this,e||t))),yr(this,Rn(n,n.length-1),i)}),getSelection:function(t){for(var e,i=this,n=this.sel.ranges,r=0;r<n.length;r++){var o=L(i,n[r].from(),n[r].to());e=e?e.concat(o):o}return t===!1?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=this,i=[],n=this.sel.ranges,r=0;r<n.length;r++){var o=L(e,n[r].from(),n[r].to());t!==!1&&(o=o.join(t||e.lineSeparator())),i[r]=o}return i},replaceSelection:function(t,e,i){for(var n=[],r=0;r<this.sel.ranges.length;r++)n[r]=t;this.replaceSelections(n,e,i||"+input")},replaceSelections:pn(function(t,e,i){for(var n=this,r=[],o=this.sel,s=0;s<o.ranges.length;s++){var a=o.ranges[s];r[s]={from:a.from(),to:a.to(),text:n.splitLines(t[s]),origin:i}}for(var l=e&&"end"!=e&&$n(this,r,e),c=r.length-1;c>=0;c--)Lr(n,r[c]);l?vr(this,l):this.cm&&Gi(this.cm)}),undo:pn(function(){Dr(this,"undo")}),redo:pn(function(){Dr(this,"redo")}),undoSelection:pn(function(){Dr(this,"undo",!0)}),redoSelection:pn(function(){Dr(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,i=0,n=0;n<t.done.length;n++)t.done[n].ranges||++e;for(var r=0;r<t.undone.length;r++)t.undone[r].ranges||++i;return{undo:e,redo:i}},clearHistory:function(){this.history=new Jn(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:hr(this.history.done),undone:hr(this.history.undone)}},setHistory:function(t){var e=this.history=new Jn(this.history.maxGeneration);e.done=hr(t.done.slice(0),null,!0),e.undone=hr(t.undone.slice(0),null,!0)},setGutterMarker:pn(function(t,e,i){return Hr(this,t,"gutter",function(t){var n=t.gutterMarkers||(t.gutterMarkers={});return n[e]=i,!i&&k(n)&&(t.gutterMarkers=null),!0})}),clearGutter:pn(function(t){var e=this;this.iter(function(i){i.gutterMarkers&&i.gutterMarkers[t]&&Hr(e,i,"gutter",function(){return i.gutterMarkers[t]=null,k(i.gutterMarkers)&&(i.gutterMarkers=null),!0})})}),lineInfo:function(t){var e;if("number"==typeof t){if(!E(this,t))return null;if(e=t,t=A(this,t),!t)return null}else if(e=_(t),null==e)return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:pn(function(e,i,n){return Hr(this,e,"gutter"==i?"gutter":"class",function(e){var r="text"==i?"textClass":"background"==i?"bgClass":"gutter"==i?"gutterClass":"wrapClass";if(e[r]){if(t(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0})}),removeLineClass:pn(function(e,i,n){return Hr(this,e,"gutter"==i?"gutter":"class",function(e){var r="text"==i?"textClass":"background"==i?"bgClass":"gutter"==i?"gutterClass":"wrapClass",o=e[r];if(!o)return!1;if(null==n)e[r]=null;else{var s=o.match(t(n));if(!s)return!1;var a=s.index+s[0].length;e[r]=o.slice(0,s.index)+(s.index&&a!=o.length?" ":"")+o.slice(a)||null}return!0})}),addLineWidget:pn(function(t,e,i){return Wr(this,t,e,i)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,i){return jr(this,F(this,t),F(this,e),i,i&&i.type||"range")},setBookmark:function(t,e){var i={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return t=F(this,t),jr(this,t,t,i,"bookmark")},findMarksAt:function(t){t=F(this,t);var e=[],i=A(this,t.line).markedSpans;if(i)for(var n=0;n<i.length;++n){var r=i[n];(null==r.from||r.from<=t.ch)&&(null==r.to||r.to>=t.ch)&&e.push(r.marker.parent||r.marker)}return e},findMarks:function(t,e,i){t=F(this,t),e=F(this,e);var n=[],r=t.line;return this.iter(t.line,e.line+1,function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&r==t.line&&t.ch>=l.to||null==l.from&&r!=t.line||null!=l.from&&r==e.line&&l.from>=e.ch||i&&!i(l.marker)||n.push(l.marker.parent||l.marker)}++r}),n},getAllMarks:function(){var t=[];return this.iter(function(e){var i=e.markedSpans;if(i)for(var n=0;n<i.length;++n)null!=i[n].from&&t.push(i[n].marker)}),t},posFromIndex:function(t){var e,i=this.first,n=this.lineSeparator().length;return this.iter(function(r){var o=r.text.length+n;return o>t?(e=t,!0):(t-=o,void++i)}),F(this,I(i,e))},indexFromPos:function(t){t=F(this,t);var e=t.ch;if(t.line<this.first||t.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,t.line,function(t){e+=t.text.length+i}),e},copy:function(t){var e=new wa(O(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,i=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<i&&(i=t.to);var n=new wa(O(this,e,i),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:t.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],Gr(n,$r(this)),n},unlinkDoc:function(t){var e=this;if(t instanceof Eo&&(t=t.doc),this.linked)for(var i=0;i<this.linked.length;++i){var n=e.linked[i];if(n.doc==t){e.linked.splice(i,1),t.unlinkDoc(e),Xr($r(e));break}}if(t.history==this.history){var r=[t.id];Un(t,function(t){return r.push(t.id)},!0),t.history=new Jn(null),t.history.done=hr(this.history.done,r),t.history.undone=hr(this.history.undone,r)}},iterLinkedDocs:function(t){Un(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):Gs(t)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:pn(function(t){"rtl"!=t&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter(function(t){return t.order=null}),this.cm&&Zn(this.cm))})}),wa.prototype.eachLine=wa.prototype.iter;for(var ka=0,Sa=!1,Ca={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ta=0;Ta<10;Ta++)Ca[Ta+48]=Ca[Ta+96]=String(Ta);for(var Ma=65;Ma<=90;Ma++)Ca[Ma]=String.fromCharCode(Ma);for(var Aa=1;Aa<=12;Aa++)Ca[Aa+111]=Ca[Aa+63235]="F"+Aa;var La={};La.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},La.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},La.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},La.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},La.default=vs?La.macDefault:La.pcDefault;var Oa,Da,_a={selectAll:Mr,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),_s)},killLine:function(t){return so(t,function(e){if(e.empty()){var i=A(t.doc,e.head.line).text.length;return e.head.ch==i&&e.head.line<t.lastLine()?{from:e.head,to:I(e.head.line+1,0)}:{from:e.head,to:I(e.head.line,i)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){return so(t,function(e){return{from:I(e.from().line,0),to:F(t.doc,I(e.to().line+1,0))}})},delLineLeft:function(t){return so(t,function(t){return{from:I(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(t){return so(t,function(e){var i=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:i},"div");return{from:n,to:e.from()}})},delWrappedLineRight:function(t){return so(t,function(e){var i=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div");return{from:e.from(),to:n}})},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(I(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(I(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(e){return ao(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(e){return co(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(e){return lo(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(e){var i=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div")},Es)},goLineLeft:function(t){return t.extendSelectionsBy(function(e){var i=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:i},"div")},Es)},goLineLeftSmart:function(t){return t.extendSelectionsBy(function(e){var i=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:i},"div");return n.ch<t.getLine(n.line).search(/\S/)?co(t,e.head):n},Es)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"char")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],i=t.listSelections(),n=t.options.tabSize,r=0;r<i.length;r++){var o=i[r].from(),s=u(t.getLine(o.line),o.ch,n);e.push(p(n-s%n))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return un(t,function(){for(var e=t.listSelections(),i=[],n=0;n<e.length;n++)if(e[n].empty()){var r=e[n].head,o=A(t.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new I(r.line,r.ch-1)),r.ch>0)r=new I(r.line,r.ch+1),t.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),I(r.line,r.ch-2),r,"+transpose");else if(r.line>t.doc.first){var s=A(t.doc,r.line-1).text;s&&(r=new I(r.line,1),t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+s.charAt(s.length-1),I(r.line-1,s.length-1),r,"+transpose"))}i.push(new fa(r,r))}t.setSelections(i)})},newlineAndIndent:function(t){return un(t,function(){for(var e=t.listSelections(),i=e.length-1;i>=0;i--)t.replaceRange(t.doc.lineSeparator(),e[i].anchor,e[i].head,"+input");e=t.listSelections();for(var n=0;n<e.length;n++)t.indentLine(e[n].from().line,null,!0);Gi(t)})},openLine:function(t){return t.replaceSelection("\n","start")},toggleOverwrite:function(t){return t.toggleOverwrite()}},Pa=new Ms,Ea=null,Na={toString:function(){return"CodeMirror.Init"}},Ia={},za={};Eo.defaults=Ia,Eo.optionHandlers=za;var Ra=[];Eo.defineInitHook=function(t){return Ra.push(t)};var Ha=null,Ba=function(t){var e=t.optionHandlers,i=t.helpers={};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,i){var n=this.options,r=n[t];n[t]==i&&"mode"!=t||(n[t]=i,e.hasOwnProperty(t)&&dn(this,e[t])(this,i,r),Dt(this,"optionChange",this,t))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](oo(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,i=0;i<e.length;++i)if(e[i]==t||e[i].name==t)return e.splice(i,1),!0},addOverlay:fn(function(e,i){var n=e.token?e:t.getMode(this.options,e);if(n.startState)throw new Error("Overlays may not be stateful.");v(this.state.overlays,{mode:n,modeSpec:e,opaque:i&&i.opaque,priority:i&&i.priority||0},function(t){return t.priority}),this.state.modeGen++,gn(this)}),removeOverlay:fn(function(t){for(var e=this,i=this.state.overlays,n=0;n<i.length;++n){var r=i[n].modeSpec;if(r==t||"string"==typeof t&&r.name==t)return i.splice(n,1),e.state.modeGen++,void gn(e)}}),indentLine:fn(function(t,e,i){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),E(this.doc,t)&&Io(this,t,e,i)}),indentSelection:fn(function(t){for(var e=this,i=this.doc.sel.ranges,n=-1,r=0;r<i.length;r++){var o=i[r];if(o.empty())o.head.line>n&&(Io(e,o.head.line,t,!0),n=o.head.line,r==e.doc.sel.primIndex&&Gi(e));else{var s=o.from(),a=o.to(),l=Math.max(n,s.line);n=Math.min(e.lastLine(),a.line-(a.ch?0:1))+1;for(var c=l;c<n;++c)Io(e,c,t);var h=e.doc.sel.ranges;0==s.ch&&i.length==h.length&&h[r].from().ch>0&&pr(e.doc,r,new fa(s,h[r].to()),_s)}}}),getTokenAt:function(t,e){return re(this,t,e)},getLineTokens:function(t,e){return re(this,I(t),e,!0)},getTokenTypeAt:function(t){t=F(this.doc,t);var e,i=Qt(this,A(this.doc,t.line)),n=0,r=(i.length-1)/2,o=t.ch;if(0==o)e=i[2];else for(;;){var s=n+r>>1;if((s?i[2*s-1]:0)>=o)r=s;else{if(!(i[2*s+1]<o)){e=i[2*s+2];break}n=s+1}}var a=e?e.indexOf("overlay "):-1;return a<0?e:0==a?null:e.slice(0,a-1)},getModeAt:function(e){var i=this.doc.mode;return i.innerMode?t.innerMode(i,this.getTokenAt(e).state).mode:i},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var n=this,r=[];if(!i.hasOwnProperty(e))return r;var o=i[e],s=this.getModeAt(t);if("string"==typeof s[e])o[s[e]]&&r.push(o[s[e]]);else if(s[e])for(var a=0;a<s[e].length;a++){var l=o[s[e][a]];l&&r.push(l)}else s.helperType&&o[s.helperType]?r.push(o[s.helperType]):o[s.name]&&r.push(o[s.name]);for(var c=0;c<o._global.length;c++){var h=o._global[c];h.pred(s,n)&&d(r,h.val)==-1&&r.push(h.val)}return r},getStateAfter:function(t,e){var i=this.doc;return t=j(i,null==t?i.first+i.size-1:t),te(this,t+1,e)},cursorCoords:function(t,e){var i,n=this.doc.sel.primary();return i=null==t?n.head:"object"==typeof t?F(this.doc,t):t?n.from():n.to(),hi(this,i,e||"page")},charCoords:function(t,e){return ci(this,F(this.doc,t),e||"page")},coordsChar:function(t,e){return t=li(this,t,e||"page"),fi(this,t.left,t.top)},lineAtHeight:function(t,e){return t=li(this,{top:t,left:0},e||"page").top,P(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e,i){var n,r=!1;if("number"==typeof t){var o=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>o&&(t=o,r=!0),n=A(this.doc,t)}else n=t;return ai(this,n,{top:0,left:0},e||"page",i||r).top+(r?this.doc.height-yt(n):0)},defaultTextHeight:function(){return vi(this.display)},defaultCharWidth:function(){return yi(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,i,n,r){var o=this.display;t=hi(this,F(this.doc,t));var s=t.bottom,a=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),o.sizer.appendChild(e),"over"==n)s=t.top;else if("above"==n||"near"==n){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==n||t.bottom+e.offsetHeight>l)&&t.top>e.offsetHeight?s=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=l&&(s=t.bottom),a+e.offsetWidth>c&&(a=c-e.offsetWidth)}e.style.top=s+"px",e.style.left=e.style.right="","right"==r?(a=o.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==r?a=0:"middle"==r&&(a=(o.sizer.clientWidth-e.offsetWidth)/2),e.style.left=a+"px"),i&&ji(this,{left:a,top:s,right:a+e.offsetWidth,bottom:s+e.offsetHeight})},triggerOnKeyDown:fn(mo),triggerOnKeyPress:fn(bo),triggerOnKeyUp:yo,execCommand:function(t){if(_a.hasOwnProperty(t))return _a[t].call(null,this)},triggerElectric:fn(function(t){Bo(this,t)}),findPosH:function(t,e,i,n){var r=this,o=1;e<0&&(o=-1,e=-e);for(var s=F(this.doc,t),a=0;a<e&&(s=$o(r.doc,s,o,i,n),!s.hitSide);++a);return s},moveH:fn(function(t,e){var i=this;this.extendSelectionsBy(function(n){return i.display.shift||i.doc.extend||n.empty()?$o(i.doc,n.head,t,e,i.options.rtlMoveVisually):t<0?n.from():n.to()},Es)}),deleteH:fn(function(t,e){var i=this.doc.sel,n=this.doc;i.somethingSelected()?n.replaceSelection("",null,"+delete"):so(this,function(i){var r=$o(n,i.head,t,e,!1);return t<0?{from:r,to:i.head}:{from:i.head,to:r}})}),findPosV:function(t,e,i,n){var r=this,o=1,s=n;e<0&&(o=-1,e=-e);for(var a=F(this.doc,t),l=0;l<e;++l){var c=hi(r,a,"div");if(null==s?s=c.left:c.left=s,a=Go(r,c,o,i),a.hitSide)break}return a},moveV:fn(function(t,e){var i=this,n=this.doc,r=[],o=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(s){if(o)return t<0?s.from():s.to();var a=hi(i,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),r.push(a.left);var l=Go(i,a,t,e);return"page"==e&&s==n.sel.primary()&&$i(i,ci(i,l,"div").top-a.top),l},Es),r.length)for(var s=0;s<n.sel.ranges.length;s++)n.sel.ranges[s].goalColumn=r[s]}),findWordAt:function(t){var e=this.doc,i=A(e,t.line).text,n=t.ch,r=t.ch;if(i){var o=this.getHelper(t,"wordChars");"before"!=t.sticky&&r!=i.length||!n?++r:--n;for(var s=i.charAt(n),a=w(s,o)?function(t){return w(t,o)}:/\s/.test(s)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!w(t)};n>0&&a(i.charAt(n-1));)--n;for(;r<i.length&&a(i.charAt(r));)++r}return new fa(I(t.line,n),I(t.line,r))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?a(this.display.cursorDiv,"CodeMirror-overwrite"):Cs(this.display.cursorDiv,"CodeMirror-overwrite"),Dt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==s()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:fn(function(t,e){Xi(this,t,e)}),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Fe(this)-this.display.barHeight,width:t.scrollWidth-Fe(this)-this.display.barWidth,clientHeight:Ge(this),clientWidth:$e(this)}},scrollIntoView:fn(function(t,e){null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:I(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line?Yi(this,t):Ui(this,t.from,t.to,t.margin)}),setSize:fn(function(t,e){var i=this,n=function(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t};null!=t&&(this.display.wrapper.style.width=n(t)),null!=e&&(this.display.wrapper.style.height=n(e)),this.options.lineWrapping&&ni(this);var r=this.display.viewFrom;this.doc.iter(r,this.display.viewTo,function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){mn(i,r,"widget");break}++r}),this.curOp.forceUpdate=!0,Dt(this,"refresh",this)}),operation:function(t){return un(this,t)},refresh:fn(function(){var t=this.display.cachedTextHeight;gn(this),this.curOp.forceUpdate=!0,ri(this),Xi(this,this.doc.scrollLeft,this.doc.scrollTop),Dn(this),(null==t||Math.abs(t-vi(this.display))>.5)&&ki(this),Dt(this,"refresh",this)}),swapDoc:fn(function(t){var e=this.doc;return e.cm=null,Vn(this,t),ri(this),this.display.input.reset(),Xi(this,t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,Se(this,"swapDoc",this,e),e}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Nt(t),t.registerHelper=function(e,n,r){i.hasOwnProperty(e)||(i[e]=t[e]={_global:[]}),i[e][n]=r},t.registerGlobalHelper=function(e,n,r,o){t.registerHelper(e,n,o),i[e]._global.push({pred:r,val:o})}},Wa=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ms,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Wa.prototype.init=function(t){function e(t){if(!_t(r,t)){if(r.somethingSelected())zo({lineWise:!1,text:r.getSelections()}),"cut"==t.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var e=Wo(r);zo({lineWise:!0,text:e.text}),"cut"==t.type&&r.operation(function(){r.setSelections(e.ranges,0,_s),r.replaceSelection("",null,"cut")})}if(t.clipboardData){t.clipboardData.clearData();var i=Ha.text.join("\n");if(t.clipboardData.setData("Text",i),t.clipboardData.getData("Text")==i)return void t.preventDefault()}var s=Fo(),a=s.firstChild;r.display.lineSpace.insertBefore(s,r.display.lineSpace.firstChild),a.value=Ha.text.join("\n");var l=document.activeElement;Ts(a),setTimeout(function(){r.display.lineSpace.removeChild(s),l.focus(),l==o&&n.showPrimarySelection()},50)}}var i=this,n=this,r=n.cm,o=n.div=t.lineDiv;jo(o,r.options.spellcheck),Fs(o,"paste",function(t){_t(r,t)||Ho(t,r)||ss<=11&&setTimeout(dn(r,function(){return i.updateFromDOM()}),20)}),Fs(o,"compositionstart",function(t){i.composing={data:t.data,done:!1}}),Fs(o,"compositionupdate",function(t){i.composing||(i.composing={data:t.data,done:!1})}),Fs(o,"compositionend",function(t){i.composing&&(t.data!=i.composing.data&&i.readFromDOMSoon(),i.composing.done=!0)}),Fs(o,"touchstart",function(){return n.forceCompositionEnd()}),Fs(o,"input",function(){i.composing||i.readFromDOMSoon()}),Fs(o,"copy",e),Fs(o,"cut",e)},Wa.prototype.prepareSelection=function(){var t=Mi(this.cm,!1);return t.focus=this.cm.state.focused,t},Wa.prototype.showSelection=function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},Wa.prototype.showPrimarySelection=function(){var t=window.getSelection(),e=this.cm,i=e.doc.sel.primary(),n=i.from(),r=i.to();if(e.display.viewTo==e.display.viewFrom||n.line>=e.display.viewTo||r.line<e.display.viewFrom)return void t.removeAllRanges();var o=Vo(e,t.anchorNode,t.anchorOffset),s=Vo(e,t.focusNode,t.focusOffset);if(!o||o.bad||!s||s.bad||0!=z(W(o,s),n)||0!=z(B(o,s),r)){var a=e.display.view,l=n.line>=e.display.viewFrom&&Xo(e,n)||{node:a[0].measure.map[2],offset:0},c=r.line<e.display.viewTo&&Xo(e,r);if(!c){var h=a[a.length-1].measure,u=h.maps?h.maps[h.maps.length-1]:h.map;c={node:u[u.length-1],offset:u[u.length-2]-u[u.length-3]}}if(!l||!c)return void t.removeAllRanges();var d,f=t.rangeCount&&t.getRangeAt(0);try{d=ws(l.node,l.offset,c.offset,c.node)}catch(t){}d&&(!es&&e.state.focused?(t.collapse(l.node,l.offset),d.collapsed||(t.removeAllRanges(),t.addRange(d))):(t.removeAllRanges(),t.addRange(d)),f&&null==t.anchorNode?t.addRange(f):es&&this.startGracePeriod()),this.rememberSelection()}},Wa.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){return t.cm.curOp.selectionChanged=!0})},20)},Wa.prototype.showMultipleSelections=function(t){i(this.cm.display.cursorDiv,t.cursors),i(this.cm.display.selectionDiv,t.selection)},Wa.prototype.rememberSelection=function(){var t=window.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},Wa.prototype.selectionInEditor=function(){var t=window.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return o(this.div,e)},Wa.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Wa.prototype.blur=function(){this.div.blur()},Wa.prototype.getField=function(){return this.div},Wa.prototype.supportsTouch=function(){return!0},Wa.prototype.receivedFocus=function(){function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}var e=this;this.selectionInEditor()?this.pollSelection():un(this.cm,function(){return e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,t);
},Wa.prototype.selectionChanged=function(){var t=window.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},Wa.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var t=window.getSelection(),e=this.cm;if(gs&&cs&&this.cm.options.gutters.length&&Yo(t.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var i=Vo(e,t.anchorNode,t.anchorOffset),n=Vo(e,t.focusNode,t.focusOffset);i&&n&&un(e,function(){yr(e.doc,Hn(i,n),_s),(i.bad||n.bad)&&(e.curOp.selectionChanged=!0)})}}},Wa.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t=this.cm,e=t.display,i=t.doc.sel.primary(),n=i.from(),r=i.to();if(0==n.ch&&n.line>t.firstLine()&&(n=I(n.line-1,A(t.doc,n.line-1).length)),r.ch==A(t.doc,r.line).text.length&&r.line<t.lastLine()&&(r=I(r.line+1,0)),n.line<e.viewFrom||r.line>e.viewTo-1)return!1;var o,s,a;n.line==e.viewFrom||0==(o=Ci(t,n.line))?(s=_(e.view[0].line),a=e.view[0].node):(s=_(e.view[o].line),a=e.view[o-1].node.nextSibling);var l,c,h=Ci(t,r.line);if(h==e.view.length-1?(l=e.viewTo-1,c=e.lineDiv.lastChild):(l=_(e.view[h+1].line)-1,c=e.view[h+1].node.previousSibling),!a)return!1;for(var u=t.doc.splitLines(Uo(t,a,c,s,l)),d=L(t.doc,I(s,0),I(l,A(t.doc,l).text.length));u.length>1&&d.length>1;)if(g(u)==g(d))u.pop(),d.pop(),l--;else{if(u[0]!=d[0])break;u.shift(),d.shift(),s++}for(var f=0,p=0,m=u[0],v=d[0],y=Math.min(m.length,v.length);f<y&&m.charCodeAt(f)==v.charCodeAt(f);)++f;for(var b=g(u),x=g(d),w=Math.min(b.length-(1==u.length?f:0),x.length-(1==d.length?f:0));p<w&&b.charCodeAt(b.length-p-1)==x.charCodeAt(x.length-p-1);)++p;if(1==u.length&&1==d.length&&s==n.line)for(;f&&f>n.ch&&b.charCodeAt(b.length-p-1)==x.charCodeAt(x.length-p-1);)f--,p++;u[u.length-1]=b.slice(0,b.length-p).replace(/^\u200b+/,""),u[0]=u[0].slice(f).replace(/\u200b+$/,"");var k=I(s,f),S=I(l,d.length?g(d).length-p:0);return u.length>1||u[0]||z(k,S)?(Nr(t.doc,u,k,S,"+input"),!0):void 0},Wa.prototype.ensurePolled=function(){this.forceCompositionEnd()},Wa.prototype.reset=function(){this.forceCompositionEnd()},Wa.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Wa.prototype.readFromDOMSoon=function(){var t=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(t.readDOMTimeout=null,t.composing){if(!t.composing.done)return;t.composing=null}t.updateFromDOM()},80))},Wa.prototype.updateFromDOM=function(){var t=this;!this.cm.isReadOnly()&&this.pollContent()||un(this.cm,function(){return gn(t.cm)})},Wa.prototype.setUneditable=function(t){t.contentEditable="false"},Wa.prototype.onKeyPress=function(t){0!=t.charCode&&(t.preventDefault(),this.cm.isReadOnly()||dn(this.cm,Ro)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0))},Wa.prototype.readOnlyChanged=function(t){this.div.contentEditable=String("nocursor"!=t)},Wa.prototype.onContextMenu=function(){},Wa.prototype.resetPosition=function(){},Wa.prototype.needsContentAttribute=!0;var ja=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new Ms,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null};ja.prototype.init=function(t){function e(t){if(!_t(r,t)){if(r.somethingSelected())zo({lineWise:!1,text:r.getSelections()}),n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,s.value=Ha.text.join("\n"),Ts(s));else{if(!r.options.lineWiseCopyCut)return;var e=Wo(r);zo({lineWise:!0,text:e.text}),"cut"==t.type?r.setSelections(e.ranges,null,_s):(n.prevInput="",s.value=e.text.join("\n"),Ts(s))}"cut"==t.type&&(r.state.cutIncoming=!0)}}var i=this,n=this,r=this.cm,o=this.wrapper=Fo(),s=this.textarea=o.firstChild;t.wrapper.insertBefore(o,t.wrapper.firstChild),ps&&(s.style.width="0px"),Fs(s,"input",function(){os&&ss>=9&&i.hasSelection&&(i.hasSelection=null),n.poll()}),Fs(s,"paste",function(t){_t(r,t)||Ho(t,r)||(r.state.pasteIncoming=!0,n.fastPoll())}),Fs(s,"cut",e),Fs(s,"copy",e),Fs(t.scroller,"paste",function(e){He(t,e)||_t(r,e)||(r.state.pasteIncoming=!0,n.focus())}),Fs(t.lineSpace,"selectstart",function(e){He(t,e)||It(e)}),Fs(s,"compositionstart",function(){var t=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:t,range:r.markText(t,r.getCursor("to"),{className:"CodeMirror-composing"})}}),Fs(s,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},ja.prototype.prepareSelection=function(){var t=this.cm,e=t.display,i=t.doc,n=Mi(t);if(t.options.moveInputWithCursor){var r=hi(t,i.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),s=e.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,r.top+s.top-o.top)),n.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,r.left+s.left-o.left))}return n},ja.prototype.showSelection=function(t){var e=this.cm,n=e.display;i(n.cursorDiv,t.cursors),i(n.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},ja.prototype.reset=function(t){if(!this.contextMenuPending&&!this.composing){var e,i,n=this.cm,r=n.doc;if(n.somethingSelected()){this.prevInput="";var o=r.sel.primary();e=Ys&&(o.to().line-o.from().line>100||(i=n.getSelection()).length>1e3);var s=e?"-":i||n.getSelection();this.textarea.value=s,n.state.focused&&Ts(this.textarea),os&&ss>=9&&(this.hasSelection=s)}else t||(this.prevInput=this.textarea.value="",os&&ss>=9&&(this.hasSelection=null));this.inaccurateSelection=e}},ja.prototype.getField=function(){return this.textarea},ja.prototype.supportsTouch=function(){return!1},ja.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!ms||s()!=this.textarea))try{this.textarea.focus()}catch(t){}},ja.prototype.blur=function(){this.textarea.blur()},ja.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ja.prototype.receivedFocus=function(){this.slowPoll()},ja.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},ja.prototype.fastPoll=function(){function t(){var n=i.poll();n||e?(i.pollingFast=!1,i.slowPoll()):(e=!0,i.polling.set(60,t))}var e=!1,i=this;i.pollingFast=!0,i.polling.set(20,t)},ja.prototype.poll=function(){var t=this,e=this.cm,i=this.textarea,n=this.prevInput;if(this.contextMenuPending||!e.state.focused||Xs(i)&&!n&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var r=i.value;if(r==n&&!e.somethingSelected())return!1;if(os&&ss>=9&&this.hasSelection===r||vs&&/[\uf700-\uf7ff]/.test(r))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var o=r.charCodeAt(0);if(8203!=o||n||(n=""),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var s=0,a=Math.min(n.length,r.length);s<a&&n.charCodeAt(s)==r.charCodeAt(s);)++s;return un(e,function(){Ro(e,r.slice(s),n.length-s,null,t.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?i.value=t.prevInput="":t.prevInput=r,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ja.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ja.prototype.onKeyPress=function(){os&&ss>=9&&(this.hasSelection=null),this.fastPoll()},ja.prototype.onContextMenu=function(t){function e(){if(null!=s.selectionStart){var t=r.somethingSelected(),e=""+(t?s.value:"");s.value="",s.value=e,n.prevInput=t?"":"",s.selectionStart=1,s.selectionEnd=e.length,o.selForContextMenu=r.doc.sel}}function i(){if(n.contextMenuPending=!1,n.wrapper.style.cssText=u,s.style.cssText=h,os&&ss<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=s.selectionStart){(!os||os&&ss<9)&&e();var t=0,i=function(){o.selForContextMenu==r.doc.sel&&0==s.selectionStart&&s.selectionEnd>0&&""==n.prevInput?dn(r,Mr)(r):t++<10?o.detectingSelectAll=setTimeout(i,500):(o.selForContextMenu=null,o.input.reset())};o.detectingSelectAll=setTimeout(i,200)}}var n=this,r=n.cm,o=r.display,s=n.textarea,a=Si(r,t),l=o.scroller.scrollTop;if(a&&!hs){var c=r.options.resetSelectionOnContextMenu;c&&r.doc.sel.contains(a)==-1&&dn(r,yr)(r.doc,Hn(a),_s);var h=s.style.cssText,u=n.wrapper.style.cssText;n.wrapper.style.cssText="position: absolute";var d=n.wrapper.getBoundingClientRect();s.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(t.clientY-d.top-5)+"px; left: "+(t.clientX-d.left-5)+"px;\n      z-index: 1000; background: "+(os?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var f;if(as&&(f=window.scrollY),o.input.focus(),as&&window.scrollTo(null,f),o.input.reset(),r.somethingSelected()||(s.value=n.prevInput=" "),n.contextMenuPending=!0,o.selForContextMenu=r.doc.sel,clearTimeout(o.detectingSelectAll),os&&ss>=9&&e(),Ss){Ht(t);var p=function(){Ot(window,"mouseup",p),setTimeout(i,20)};Fs(window,"mouseup",p)}else setTimeout(i,50)}},ja.prototype.readOnlyChanged=function(t){t||this.reset()},ja.prototype.setUneditable=function(){},ja.prototype.needsContentAttribute=!1,Oo(Eo),Ba(Eo);var Fa="iter insert remove copy getEditor constructor".split(" ");for(var $a in wa.prototype)wa.prototype.hasOwnProperty($a)&&d(Fa,$a)<0&&(Eo.prototype[$a]=function(t){return function(){return t.apply(this.doc,arguments)}}(wa.prototype[$a]));return Nt(wa),Eo.inputStyles={textarea:ja,contenteditable:Wa},Eo.defineMode=function(t){Eo.defaults.mode||"null"==t||(Eo.defaults.mode=t),Gt.apply(this,arguments)},Eo.defineMIME=Xt,Eo.defineMode("null",function(){return{token:function(t){return t.skipToEnd()}}}),Eo.defineMIME("text/plain","null"),Eo.defineExtension=function(t,e){Eo.prototype[t]=e},Eo.defineDocExtension=function(t,e){wa.prototype[t]=e},Eo.fromTextArea=Zo,Jo(Eo),Eo.version="5.26.0",Eo})},function(t,e,i){var n=i(167),r=i(185),o=r(function(t,e,i){n(t,e,i)});t.exports=o},function(t,e,i){function n(t,e,i,h,u){t!==e&&s(e,function(s,c){if(l(s))u||(u=new r),a(t,e,c,i,n,h,u);else{var d=h?h(t[c],s,c+"",t,e,u):void 0;void 0===d&&(d=s),o(t,c,d)}},c)}var r=i(61),o=i(168),s=i(22),a=i(169),l=i(51),c=i(182);t.exports=n},function(t,e,i){function n(t,e,i){(void 0===i||o(t[e],i))&&(void 0!==i||e in t)||r(t,e,i)}var r=i(149),o=i(66);t.exports=n},function(t,e,i){function n(t,e,i,n,y,b,x){var w=t[i],k=e[i],S=x.get(k);if(S)return void r(t,i,S);var C=b?b(w,k,i+"",t,e,x):void 0,T=void 0===C;if(T){var M=h(k),A=!M&&d(k),L=!M&&!A&&m(k);C=k,M||A||L?h(w)?C=w:u(w)?C=a(w):A?(T=!1,C=o(k,!0)):L?(T=!1,C=s(k,!0)):C=[]:g(k)||c(k)?(C=w,c(w)?C=v(w):(!p(w)||n&&f(w))&&(C=l(k))):T=!1}T&&(x.set(k,C),y(C,k,n,b,x),x.delete(k)),r(t,i,C)}var r=i(168),o=i(170),s=i(171),a=i(173),l=i(174),c=i(27),h=i(36),u=i(177),d=i(37),f=i(50),p=i(51),g=i(178),m=i(40),v=i(179);t.exports=n},function(t,e,i){(function(t){function n(t,e){if(e)return t.slice();var i=t.length,n=c?c(i):new t.constructor(i);return t.copy(n),n}var r=i(31),o="object"==typeof e&&e&&!e.nodeType&&e,s=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===o,l=a?r.Buffer:void 0,c=l?l.allocUnsafe:void 0;t.exports=n}).call(e,i(5)(t))},function(t,e,i){function n(t,e){var i=e?r(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}var r=i(172);t.exports=n},function(t,e,i){function n(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}var r=i(106);t.exports=n},function(t,e){function i(t,e){var i=-1,n=t.length;for(e||(e=Array(n));++i<n;)e[i]=t[i];return e}t.exports=i},function(t,e,i){function n(t){return"function"!=typeof t.constructor||s(t)?{}:r(o(t))}var r=i(175),o=i(176),s=i(46);t.exports=n},function(t,e,i){var n=i(51),r=Object.create,o=function(){function t(){}return function(e){if(!n(e))return{};if(r)return r(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}();t.exports=o},function(t,e,i){var n=i(48),r=n(Object.getPrototypeOf,Object);t.exports=r},function(t,e,i){function n(t){return o(t)&&r(t)}var r=i(49),o=i(35);t.exports=n},function(t,e,i){function n(t){if(!s(t)||r(t)!=a)return!1;var e=o(t);if(null===e)return!0;var i=u.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&h.call(i)==d}var r=i(29),o=i(176),s=i(35),a="[object Object]",l=Function.prototype,c=Object.prototype,h=l.toString,u=c.hasOwnProperty,d=h.call(Object);t.exports=n},function(t,e,i){function n(t){return r(t,o(t))}var r=i(180),o=i(182);t.exports=n},function(t,e,i){function n(t,e,i,n){var s=!i;i||(i={});for(var a=-1,l=e.length;++a<l;){var c=e[a],h=n?n(i[c],t[c],c,i,t):void 0;void 0===h&&(h=t[c]),s?o(i,c,h):r(i,c,h)}return i}var r=i(181),o=i(149);t.exports=n},function(t,e,i){function n(t,e,i){var n=t[e];a.call(t,e)&&o(n,i)&&(void 0!==i||e in t)||r(t,e,i)}var r=i(149),o=i(66),s=Object.prototype,a=s.hasOwnProperty;t.exports=n},function(t,e,i){function n(t){return s(t)?r(t,!0):o(t)}var r=i(25),o=i(183),s=i(49);t.exports=n},function(t,e,i){function n(t){if(!r(t))return s(t);var e=o(t),i=[];for(var n in t)("constructor"!=n||!e&&l.call(t,n))&&i.push(n);return i}var r=i(51),o=i(46),s=i(184),a=Object.prototype,l=a.hasOwnProperty;t.exports=n},function(t,e){function i(t){var e=[];if(null!=t)for(var i in Object(t))e.push(i);return e}t.exports=i},function(t,e,i){function n(t){return r(function(e,i){var n=-1,r=i.length,s=r>1?i[r-1]:void 0,a=r>2?i[2]:void 0;for(s=t.length>3&&"function"==typeof s?(r--,s):void 0,a&&o(i[0],i[1],a)&&(s=r<3?void 0:s,r=1),e=Object(e);++n<r;){var l=i[n];l&&t(e,l,n,s)}return e})}var r=i(186),o=i(193);t.exports=n},function(t,e,i){function n(t,e){return s(o(t,e,r),t+"")}var r=i(54),o=i(187),s=i(189);t.exports=n},function(t,e,i){function n(t,e,i){return e=o(void 0===e?t.length-1:e,0),function(){for(var n=arguments,s=-1,a=o(n.length-e,0),l=Array(a);++s<a;)l[s]=n[e+s];s=-1;for(var c=Array(e+1);++s<e;)c[s]=n[s];return c[e]=i(l),r(t,this,c)}}var r=i(188),o=Math.max;t.exports=n},function(t,e){function i(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}t.exports=i},function(t,e,i){var n=i(190),r=i(192),o=r(n);t.exports=o},function(t,e,i){var n=i(191),r=i(150),o=i(54),s=r?function(t,e){return r(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:o;t.exports=s},function(t,e){function i(t){return function(){return t}}t.exports=i},function(t,e){function i(t){var e=0,i=0;return function(){var s=o(),a=r-(s-i);if(i=s,a>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var n=800,r=16,o=Date.now;t.exports=i},function(t,e,i){function n(t,e,i){if(!a(i))return!1;var n=typeof e;return!!("number"==n?o(i)&&s(e,i.length):"string"==n&&e in i)&&r(i[e],t)}var r=i(66),o=i(49),s=i(39),a=i(51);t.exports=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Sequence=void 0;var r=i(146),o=n(r),s={sequences:[],refreshSequenceList:function(){var t=this;m.request("/seq").then(function(e){t.sequences=(0,o.default)(e,function(t){return m("option",{value:t},t)})})},handleFormSubmit:function(){var t=document.getElementById("form-seq").getAttribute("action"),e=document.getElementById("send-seq-btn"),i=new FormData;return i.append("seqfile",document.getElementById("seqfile").value),e.setAttribute("disabled","disabled"),m.request({method:"POST",url:t,data:i}),!1},oninit:function(t){this.refreshSequenceList()},oncreate:function(t){var e=t.dom.getElementsByTagName("button")[1];bliss.events.on("seq:exec",function(){e.setAttribute("disabled","disabled")}),bliss.events.on("seq:done",function(){e.removeAttribute("disabled")}),bliss.events.on("seq:err",function(){e.removeAttribute("disabled")})},view:function(t){var e=this;return m("form",{class:"form-horizontal",id:"form-seq",role:"form",method:"POST",action:"/seq",onsubmit:function(){return e.handleFormSubmit()}},[m("div",{class:"form-group"},[m("label",{style:"width: 50%"},"Send Sequence"),m("div",{style:"width: 50%; float: right; text-align: right"},m("button",{type:"button",class:"btn btn-default seq-refresh-btn",style:"line-height: 75%; font-size:75%",onclick:function(){e.refreshSequenceList()}},[m("span",{class:"glyphicon glyphicon-refresh"}),"Refresh"])),m("select",{class:"form-control",multiple:"true",id:"seqfile"},this.sequences)]),m("div",{class:"form-group"},m("button",{id:"send-seq-btn",type:"submit",class:"btn btn-success"},"Send"))])}};e.default={Sequence:s},e.Sequence=s},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={_states:["on","off","pending","error"],_state:"off",oninit:function(t){var e=this;this._states.forEach(function(i){i in t.attrs&&t.attrs[i].split(",").forEach(function(t){bliss.events.on(t,function(){e._state=i})})}),this._state=t.attrs.default||"off"},view:function(t){var e="glyphicon glyphicon-dot bliss-led-"+this._state;return m("span",{class:e})}},n=Object.assign(Object.create(i),{_hoverState:null,_simRunning:!1,oninit:function(t){var e=this;i.oninit.call(this,t),this.action=t.attrs.action,bliss.events.on(t.attrs.on,function(){e._simRunning=!0}),bliss.events.on(t.attrs.off,function(){e._simRunning=!1}),"on"===this._state&&(this._simRunning=!0)},view:function(t){var e=this,i="sim-monitor glyphicon";return i+="mouseover"===this._hoverState?this._simRunning?" glyphicon-stop bliss-led-stop":" glyphicon-play bliss-led-start":" glyphicon-dot bliss-led-"+this._state,m("span",{class:i,onclick:n.toggleSimState.bind(this),onmouseover:function(t){e._hoverState=t.type,m.redraw()},onmouseout:function(t){e._hoverState=t.type,m.redraw()}})},toggleSimState:function(){var t=this.action;t+=this._simRunning?"/stop":"/start",m.request({url:t,action:"POST",data:{}})}});e.default={LED:i,SimStatus:n},e.LED=i,e.SimStatus=n},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.TabSet=void 0;var o=i(1),s=r(o),a=i(197),l=n(a),c=i(198),h=r(c),u=i(203),d=r(u),f={_from:-1,_over:-1,drop:function(t,e,i){this._from!==-1&&(t.preventDefault(),i(this._from,e))},end:function(t,e){this._from=-1,this._over=-1},isOver:function(t){return t===this._over},over:function(t,e){t.preventDefault(),this._over=e},overClass:function(t){return"drag-over-"+(this._from>t?"before":"after")},start:function(t,e){t.dataTransfer.effectAllowed="move",this._from=e}},p={_active:0,_drag:null,_pos:[],_uid:[],anchor:function(t,e){var i=this,n={href:"#",draggable:this.isActive(e),ondragstart:function(t){return i._drag.start(t,e)},ondragend:function(t){return i._drag.end(t,e)}};return(0,s.default)("a",n,t.attrs.title)},content:function(t,e){var i={key:e};return(0,s.default)("bliss-tab",t.attrs,(0,s.default)(".tab-content",(0,s.default)(".tab-pane.active",i,t.children||t.text)))},filterTabs:function(t){return t.filter(function(t){return"bliss-tab"===t.tag})},isActive:function(t){return t===this._active},move:function(t,e){var i=this;if(t!==e){var n=this._pos.length,r=(0,d.default)(n,function(t){return t===i._active});l.move(this._pos,t,e),l.move(this._uid,t,e),l.move(r,t,e),this._active=r.findIndex(function(t){return t})}},oninit:function(t){var e=this.filterTabs(t.children);this._pos=(0,h.default)(e.length),this._uid=(0,h.default)(e.length),this._drag=Object.create(f)},reorder:function(t){return this._pos.map(function(e){return t[e]})},tab:function(t,e){var i=this,n=p.move.bind(this),r={class:this.tabClass(e),key:this._uid[e],onclick:function(){return i._active=e,!1},ondragover:function(t){return i._drag.over(t,e)},ondrop:function(t){return i._drag.drop(t,e,n)}};return(0,s.default)("li",r,this.anchor(t,e))},tabClass:function(t){var e="";return this.isActive(t)?e="active":this._drag.isOver(t)&&(e=this._drag.overClass(t)),e},view:function(t){var e=this.reorder(this.filterTabs(t.children)),i=e[this._active],n=this._uid[this._active];return(0,s.default)("bliss-tabset",[(0,s.default)("ul.nav",t.attrs,e.map(p.tab.bind(this))),this.content(i,n)])}};e.default=p,e.TabSet=p},function(t,e){"use strict";function i(t,e,i){t.splice(i,0,t.splice(e,1)[0])}Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign;e.merge=n,e.move=i},function(t,e,i){var n=i(199),r=n();t.exports=r},function(t,e,i){function n(t){return function(e,i,n){return n&&"number"!=typeof n&&o(e,i,n)&&(i=n=void 0),e=s(e),void 0===i?(i=e,e=0):i=s(i),n=void 0===n?e<i?1:-1:s(n),r(e,i,n,t)}}var r=i(200),o=i(193),s=i(201);t.exports=n},function(t,e){function i(t,e,i,o){for(var s=-1,a=r(n((e-t)/(i||1)),0),l=Array(a);a--;)l[o?a:++s]=t,t+=i;return l}var n=Math.ceil,r=Math.max;t.exports=i},function(t,e,i){function n(t){if(!t)return 0===t?t:0;if(t=r(t),t===o||t===-o){var e=t<0?-1:1;return e*s}return t===t?t:0}var r=i(202),o=1/0,s=1.7976931348623157e308;t.exports=n},function(t,e,i){function n(t){if("number"==typeof t)return t;if(o(t))return s;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var i=c.test(t);return i||h.test(t)?u(t.slice(2),i?2:8):l.test(t)?s:+t}var r=i(51),o=i(128),s=NaN,a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,h=/^0o[0-7]+$/i,u=parseInt;t.exports=n},function(t,e,i){function n(t,e){if(t=s(t),t<1||t>a)return[];var i=l,n=c(t,l);e=o(e),t-=l;for(var h=r(n,e);++i<t;)e(i);return h}var r=i(26),o=i(53),s=i(204),a=9007199254740991,l=4294967295,c=Math.min;t.exports=n},function(t,e,i){function n(t){var e=r(t),i=e%1;return e===e?i?e-i:e:0}var r=i(201);t.exports=n},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetryStream=e.TelemetryDictionary=e.PacketScope=e.PacketDefinition=e.Packet=e.FieldDefinition=void 0;var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(206),a=n(s),l=function(){function t(e){r(this,t),e=void 0===e?{}:e,this.name=e.name,this.mask=e.mask,this.type=a.get(e.type),this.enum=e.enum,this.shift=0,this.bytes=e.bytes,this.dntoeu=e.dntoeu,e.bytes instanceof Array?this.offset=e.bytes[0]:this.offset=e.bytes;var i=this.mask;if(void 0!==i&&null!==i)for(;0!==i&&0===(1&i);)this.shift+=1,i>>=1}return o(t,[{key:"decode",value:function(t){var e=null;return this.type&&(e=this.type.decode(t,this.offset),void 0!==this.mask&&null!==this.mask&&(e&=this.mask),this.shift>0&&(e>>=this.shift),void 0!==this.enum&&(e=this.enum[e])),e}}]),t}(),c=function(){function t(e,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(r(this,t),this._defn=e,this._data=i,this._raw=n,void 0===t.prototype.__init__){var o=function(e){Object.defineProperty(t.prototype,e,{get:function(){return this.__get__(e)}})};for(var s in this._defn.fields)o(s);t.prototype.__init__=!0}}return o(t,[{key:"__get__",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=void 0;if(this._data instanceof DataView){var n=this._defn.fields[t];n&&(e||this._raw||!n.dntoeu?i=n.decode(this._data):n.dntoeu&&n.dntoeu.equation&&(i=this._defn.scope.eval(this,n.dntoeu.equation)))}return i}},{key:"__clone__",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new t(this._defn,e,i)}}]),t}(),h=function(){function t(e){r(this,t),this._constants=e.constants,this._desc=e.desc,this._fields={},this._functions=e.functions,this._history=e.history,this._name=e.name,this._scope=new u(this),this._uid=e.uid;for(var i in e.fields)this._fields[i]=new l(e.fields[i])}return o(t,[{key:"constants",get:function(){return this._constants}},{key:"fields",get:function(){return this._fields}},{key:"functions",get:function(){return this._functions}},{key:"name",get:function(){return this._name}},{key:"scope",get:function(){return this._scope}},{key:"uid",get:function(){return this._uid}}],[{key:"parse",value:function(e){return"string"==typeof e&&(e=JSON.parse(e)),new t(e)}}]),t}(),u=function(){function t(e){r(this,t),this._defn=e,this._scope=new Function("\n            eval('"+this.toCode()+"')\n            return {\n              'eval': function(packet, expr) {\n                  var raw = packet.__clone__(packet._data, true)\n                  return eval(expr)\n              }\n            }\n        ").call()}return o(t,[{key:"eval",value:function(t,e){return this._scope.eval(t,e)}},{key:"toCode",value:function(){var t="";for(var e in this._defn.constants){var i=this._defn.constants[e];t+="var "+e+"="+i+";"}for(var n in this._defn.functions){var r=this._defn.functions[n];t+="function "+n+"{ return ("+r+")};"}return t}}]),t}(),d=function(){function t(){r(this,t)}return o(t,[{key:"add",value:function(t){t instanceof h&&(this[t.name]=t)}}],[{key:"parse",value:function(e){var i=new t;"string"==typeof e&&(e=JSON.parse(e));for(var n in e)i.add(new h(e[n]));return i}}]),t}(),f=function(){function t(e,i){var n=this;r(this,t),this._dict={},this._interval=0,this._socket=new WebSocket(e),this._stale=0,this._url=e;for(var o in i){var s=i[o];this._dict[s.uid]=s}this._socket.binaryType="arraybuffer",this._socket.onclose=function(t){return n.onClose(t)},this._socket.onmessage=function(t){return n.onMessage(t)},this._socket.onopen=function(t){return n.onOpen(t)}}return o(t,[{key:"_emit",value:function(t,e){bliss.events.emit("bliss:tlm:"+t,e)}},{key:"onClose",value:function(t){clearInterval(this._interval),this._emit("close",this)}},{key:"onMessage",value:function(t){if(t.data instanceof ArrayBuffer){var e=new DataView(t.data,1,4).getUint32(0),i=new DataView(t.data,5),n=this._dict[e];if(n){var r=new c(n,i);clearInterval(this._interval),this._stale=0,this._interval=setInterval(this.onStale.bind(this),1500),bliss.packets.insert(n.name,r),this._emit("packet",r)}}}},{key:"onOpen",value:function(t){this._interval=setInterval(this.onStale.bind(this),1500),this._stale=0,this._emit("open",this)}},{key:"onStale",value:function(){this._stale++,this._emit("stale",this)}}]),t}();e.FieldDefinition=l,e.Packet=c,e.PacketDefinition=h,e.PacketScope=u,e.TelemetryDictionary=d,e.TelemetryStream=f},function(t,e){"use strict";function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e,i){return i+e<=t.byteLength}function s(t){return v[t]}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=3159648e5,c=function(){function t(e){r(this,t),this._name=e}return a(t,[{key:"decode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!o(t,2,e))return null;var i=bliss.cmd.dict,n=t.getUint16(e,!1);return i?i.getByOpcode(n):n}},{key:"isTime",get:function(){return!1}}]),t}(),h=function(){function t(e){r(this,t),this._name=e}return a(t,[{key:"decode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!o(t,2,e))return null;var i=bliss.evr.dict,n=t.getUint16(e,!1);return i?i.getByCode(n):n}},{key:"isTime",get:function(){return!1}}]),t}(),u=function(){function t(e){r(this,t),this._name=e,this._decode=m[e],this._endian=null,this._float=!1,this._max=null,this._min=null,this._signed=!1,this._string=!1,this._name.startsWith("LSB_")||this._name.startsWith("MSB_")?(this._endian=this._name.substr(0,3),this._signed="U"!==this._name[4],this._float="F"===this._name[4]||"D"===this._name[4],this._nbits=parseInt(this._name.substr(-2))):this._name.startsWith("S")?(this._nbits=8*parseInt(this._name.substr(1)),this._string=!0):(this._signed="U"!==this._name[0],this._nbits=parseInt(this._name.substr(-1))),this._nbytes=this._nbits/8,this._float?(this._max=+Number.MAX_VALUE,this._min=-Number.MAX_VALUE):this._signed?(this._max=Math.pow(2,this._nbits-1),this._min=-1*(this._max-1)):this._string===!1&&(this._max=Math.pow(2,this._nbits)-1,this._min=0)}return a(t,[{key:"decode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._decode&&o(t,this._nbytes,e)?this._decode(t,e):null}},{key:"isTime",get:function(){return!1}}]),t}(),d=function(){function t(e){r(this,t),this._name=e}return a(t,[{key:"isTime",get:function(){return!0}}]),t}(),f=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return n(e,t),a(e,[{key:"decode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(t,1,e)?t.getUint8(e,!1)/256:null}}]),e}(d),p=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return n(e,t),a(e,[{key:"decode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!o(t,4,e))return null;var i=t.getUint32(e,!1);return new Date(l+1e3*i)}}]),e}(d),g=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return n(e,t),a(e,[{key:"decode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!o(t,8,e))return null;var i=t.getUint32(e,!1),n=t.getUint32(e+4,!1);return new Date(l+1e3*i+n/1e6)}}]),e}(d),m={I8:function(t,e){return t.getUint8(e)},U8:function(t,e){return t.getUint8(e)},LSB_I16:function(t,e){return t.getInt16(e,!0)},MSB_I16:function(t,e){return t.getInt16(e,!1)},LSB_U16:function(t,e){return t.getUint16(e,!0)},MSB_U16:function(t,e){return t.getUint16(e,!1)},LSB_I32:function(t,e){return t.getInt32(e,!0)},MSB_I32:function(t,e){return t.getInt32(e,!1)},LSB_U32:function(t,e){return t.getUint32(e,!0)},MSB_U32:function(t,e){return t.getUint32(e,!1)},LSB_F32:function(t,e){return t.getFloat32(e,!0)},MSB_F32:function(t,e){return t.getFloat32(e,!1)},LSB_D64:function(t,e){return t.getFloat64(e,!0)},MSB_D64:function(t,e){return t.getFloat64(e,!1)}},v={};Object.keys(m).map(function(t){v[t]=new u(t)}),v.CMD16=new c("CMD16"),v.EVR16=new h("EVR16"),v.TIME8=new f("TIME8"),v.TIME32=new p("TIME32"),v.TIME64=new g("TIME64"),e.get=s},function(t,e){},,,,,,,,,,,,,function(t,e,i){(function(t){/*!
	 * Bootstrap v3.3.7 (http://getbootstrap.com)
	 * Copyright 2011-2016 Twitter, Inc.
	 * Licensed under the MIT license
	 */
if("undefined"==typeof t)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(t),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one("bsTransitionEnd",function(){i=!0});var r=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(r,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(t),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.alert");r||i.data("bs.alert",r=new n(this)),"string"==typeof e&&r[e].call(i)})}var i='[data-dismiss="alert"]',n=function(e){t(e).on("click",i,this.close)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function i(){s.detach().trigger("closed.bs.alert").remove()}var r=t(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var s=t("#"===o?[]:o);e&&e.preventDefault(),s.length||(s=r.closest(".alert")),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var r=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.bs.alert.data-api",i,n.prototype.close)}(t),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.button"),o="object"==typeof e&&e;r||n.data("bs.button",r=new i(this,o)),"toggle"==e?r.toggle():e&&r.setState(e)})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.7",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",n=this.$element,r=n.is("input")?"val":"html",o=n.data();e+="Text",null==o.resetText&&n.data("resetText",n[r]()),setTimeout(t.proxy(function(){n[r](null==o[e]?this.options[e]:o[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(i).attr(i,i).prop(i,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i).prop(i,!1))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=t(i.target).closest(".btn");e.call(n,"toggle"),t(i.target).is('input[type="radio"], input[type="checkbox"]')||(i.preventDefault(),n.is("input,button")?n.trigger("focus"):n.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(t),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.carousel"),o=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e),s="string"==typeof e?e:o.slide;r||n.data("bs.carousel",r=new i(this,o)),"number"==typeof e?r.to(e):s?r[s]():o.interval&&r.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),n="prev"==t&&0===i||"next"==t&&i==this.$items.length-1;if(n&&!this.options.wrap)return e;var r="prev"==t?-1:1,o=(i+r)%this.$items.length;return this.$items.eq(o)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){if(!this.sliding)return this.slide("next")},i.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},i.prototype.slide=function(e,n){var r=this.$element.find(".item.active"),o=n||this.getItemForDirection(e,r),s=this.interval,a="next"==e?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var c=o[0],h=t.Event("slide.bs.carousel",{relatedTarget:c,direction:a});if(this.$element.trigger(h),!h.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=t(this.$indicators.children()[this.getItemIndex(o)]);u&&u.addClass("active")}var d=t.Event("slid.bs.carousel",{relatedTarget:c,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(o.addClass(e),o[0].offsetWidth,r.addClass(a),o.addClass(a),r.one("bsTransitionEnd",function(){o.removeClass([e,a].join(" ")).addClass("active"),r.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(d)),s&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this};var r=function(i){var n,r=t(this),o=t(r.attr("data-target")||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var s=t.extend({},o.data(),r.data()),a=r.attr("data-slide-to");a&&(s.interval=!1),e.call(o,s),a&&o.data("bs.carousel").to(a),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(t),+function(t){"use strict";function e(e){var i,n=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(n)}function i(e){return this.each(function(){var i=t(this),r=i.data("bs.collapse"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);!r&&o.toggle&&/show|hide/.test(e)&&(o.toggle=!1),r||i.data("bs.collapse",r=new n(this,o)),"string"==typeof e&&r[e]()})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.7",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(e=r.data("bs.collapse"),e&&e.transitioning))){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(i.call(r,"hide"),e||r.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[s](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(n.TRANSITION_DURATION):r.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,n){var r=t(n);this.addAriaAndCollapsedClass(e(r),r)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var r=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=r,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var r=t(this);r.attr("data-target")||n.preventDefault();var o=e(r),s=o.data("bs.collapse"),a=s?"toggle":r.data();i.call(o,a)})}(t),+function(t){"use strict";function e(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}function i(i){i&&3===i.which||(t(r).remove(),t(o).each(function(){var n=t(this),r=e(n),o={relatedTarget:this};r.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(r[0],i.target)||(r.trigger(i=t.Event("hide.bs.dropdown",o)),i.isDefaultPrevented()||(n.attr("aria-expanded","false"),r.removeClass("open").trigger(t.Event("hidden.bs.dropdown",o)))))}))}function n(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new s(this)),"string"==typeof e&&n[e].call(i)})}var r=".dropdown-backdrop",o='[data-toggle="dropdown"]',s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.7",s.prototype.toggle=function(n){var r=t(this);if(!r.is(".disabled, :disabled")){var o=e(r),s=o.hasClass("open");if(i(),!s){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var a={relatedTarget:this};if(o.trigger(n=t.Event("show.bs.dropdown",a)),n.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(t.Event("shown.bs.dropdown",a))}return!1}},s.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var n=t(this);if(i.preventDefault(),i.stopPropagation(),!n.is(".disabled, :disabled")){var r=e(n),s=r.hasClass("open");if(!s&&27!=i.which||s&&27==i.which)return 27==i.which&&r.find(o).trigger("focus"),n.trigger("click");var a=" li:not(.disabled):visible a",l=r.find(".dropdown-menu"+a);if(l.length){var c=l.index(i.target);38==i.which&&c>0&&c--,40==i.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=n,t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,s.prototype.toggle).on("keydown.bs.dropdown.data-api",o,s.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",s.prototype.keydown)}(t),+function(t){"use strict";function e(e,n){return this.each(function(){var r=t(this),o=r.data("bs.modal"),s=t.extend({},i.DEFAULTS,r.data(),"object"==typeof e&&e);o||r.data("bs.modal",o=new i(this,s)),"string"==typeof e?o[e](n):s.show&&o.show(n)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var n=this,r=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),r&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});r?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(o)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&r;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):s()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var n=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=t(this),r=n.attr("href"),o=t(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},o.data(),n.data());n.is("a")&&i.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),e.call(o,s,this)})}(t),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.tooltip"),o="object"==typeof e&&e;!r&&/destroy|hide/.test(e)||(r||n.data("bs.tooltip",r=new i(this,o)),"string"==typeof e&&r[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,n){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),o=r.length;o--;){var s=r[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),!i.isInStateTrue())return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var r=this,o=this.tip(),s=this.getUID(this.type);this.setContent(),o.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&o.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(a);c&&(a=a.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var h=this.getPosition(),u=o[0].offsetWidth,d=o[0].offsetHeight;if(c){var f=a,p=this.getPosition(this.$viewport);a="bottom"==a&&h.bottom+d>p.bottom?"top":"top"==a&&h.top-d<p.top?"bottom":"right"==a&&h.right+u>p.width?"left":"left"==a&&h.left-u<p.left?"right":a,o.removeClass(f).addClass(a)}var g=this.getCalculatedOffset(a,h,u,d);this.applyPlacement(g,a);var m=function(){var t=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==t&&r.leave(r)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",m).emulateTransitionEnd(i.TRANSITION_DURATION):m()}},i.prototype.applyPlacement=function(e,i){var n=this.tip(),r=n[0].offsetWidth,o=n[0].offsetHeight,s=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),e.top+=s,e.left+=a,t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),n.addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;"top"==i&&c!=o&&(e.top=e.top+o-c);var h=this.getViewportAdjustedDelta(i,e,l,c);h.left?e.left+=h.left:e.top+=h.top;var u=/top|bottom/.test(i),d=u?2*h.left-r+l:2*h.top-o+c,f=u?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(d,n[0][f],u)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function n(){"in"!=r.hoverState&&o.detach(),r.$element&&r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),e&&e()}var r=this,o=t(this.$tip),s=t.Event("hide.bs."+this.type);if(this.$element.trigger(s),!s.isDefaultPrevented())return o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],n="BODY"==i.tagName,r=i.getBoundingClientRect();null==r.width&&(r=t.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var o=window.SVGElement&&i instanceof window.SVGElement,s=n?{top:0,left:0}:o?null:e.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},l=n?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},r,a,l,s)},i.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,n){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-o-s.scroll,l=e.top+o-s.scroll+n;a<s.top?r.top=s.top-a:l>s.top+s.height&&(r.top=s.top+s.height-l)}else{var c=e.left-o,h=e.left+o+i;c<s.left?r.left=s.left-c:h>s.right&&(r.left=s.left+s.width-h)}return r},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var n=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(t),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.popover"),o="object"==typeof e&&e;!r&&/destroy|hide/.test(e)||(r||n.data("bs.popover",r=new i(this,o)),"string"==typeof e&&r[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.7",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(t),+function(t){"use strict";function e(i,n){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=t(this),r=n.data("bs.scrollspy"),o="object"==typeof i&&i;r||n.data("bs.scrollspy",r=new e(this,o)),"string"==typeof i&&r[i]()})}e.VERSION="3.3.7",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),r=e.data("target")||e.attr("href"),o=/^#./.test(r)&&t(r);return o&&o.length&&o.is(":visible")&&[[o[i]().top+n,r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),r=this.offsets,o=this.targets,s=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=n)return s!=(t=o[o.length-1])&&this.activate(t);if(s&&e<r[0])return this.activeTarget=null,this.clear();for(t=r.length;t--;)s!=o[t]&&e>=r[t]&&(void 0===r[t+1]||e<r[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();
var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(t),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.tab");r||n.data("bs.tab",r=new i(this)),"string"==typeof e&&r[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=i.find(".active:last a"),o=t.Event("hide.bs.tab",{relatedTarget:e[0]}),s=t.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(o),e.trigger(s),!s.isDefaultPrevented()&&!o.isDefaultPrevented()){var a=t(n);this.activate(e.closest("li"),i),this.activate(a,a.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},i.prototype.activate=function(e,n,r){function o(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var s=n.find("> .active"),a=r&&t.support.transition&&(s.length&&s.hasClass("fade")||!!n.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",o).emulateTransitionEnd(i.TRANSITION_DURATION):o(),s.removeClass("in")};var n=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var r=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(t),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.affix"),o="object"==typeof e&&e;r||n.data("bs.affix",r=new i(this,o)),"string"==typeof e&&r[e]()})}var i=function(e,n){this.options=t.extend({},i.DEFAULTS,n),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.7",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,n){var r=this.$target.scrollTop(),o=this.$element.offset(),s=this.$target.height();if(null!=i&&"top"==this.affixed)return r<i&&"top";if("bottom"==this.affixed)return null!=i?!(r+this.unpin<=o.top)&&"bottom":!(r+s<=t-n)&&"bottom";var a=null==this.affixed,l=a?r:o.top,c=a?s:e;return null!=i&&r<=i?"top":null!=n&&l+c>=t-n&&"bottom"},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),n=this.options.offset,r=n.top,o=n.bottom,s=Math.max(t(document).height(),t(document.body).height());"object"!=typeof n&&(o=r=n),"function"==typeof r&&(r=n.top(this.$element)),"function"==typeof o&&(o=n.bottom(this.$element));var a=this.getState(s,e,r,o);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),c=t.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-e-o})}};var n=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),e.call(i,n)})})}(t)}).call(e,i(16))}]);